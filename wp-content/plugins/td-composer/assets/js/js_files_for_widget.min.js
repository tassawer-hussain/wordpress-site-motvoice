var tdcAdminIFrameUI;
(function(l,a,c,b){tdcAdminIFrameUI={_liveIframeWindowObject:b,_$liveIframe:b,getIframeWindow:function(){c.isUndefined(tdcAdminIFrameUI._liveIframeWindowObject)&&new tdcNotice.notice("tdcAdminIFrameUI._liveIframeWindowObject is undefined. AKA: The iFrame window object is undefined. The iFrame was probably not added to the page!",!0,!1);return tdcAdminIFrameUI._liveIframeWindowObject},getLiveIframe:function(){return tdcAdminIFrameUI._$liveIframe},evalInIframe:function(a){tdcAdminIFrameUI.getIframeWindow().eval(a)},initContent:function(a){if(!a.find(".td-main-content-wrap .tdc-row").length){var b=
"",c="";if("header"===window.tdcPostSettings.tdbTemplateType||"footer"===window.tdcPostSettings.tdbTemplateType)b=350,"header"===window.tdcPostSettings.tdbTemplateType?(b=1500,c="tdc-header-custom-class"):(a.find(".tdc-header-wrap, .td-header-template-wrap").hide(),c="tdc-footer-custom-class"),b=' style="height: '+b+"px; background-color: #f9f9f9; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAGQBAMAAABykSv/AAAAFVBMVEUAAAAtKiYtKiYtKiYtKiYtKiYtKiazrNZrAAAAB3RSTlMAGwQIEQwV0M30jwAABqdJREFUeNrsncuS0zAQRYON2fMIa/PIrA0FrEPisHZ4rSHk/7+BKFMVGUl2R5LHlsM5C9VM102oPKqYvu6+XrzeLE58U8eqPB1FdTqyr+r3H+p4ey42qthSLrRSF13Kj1rZuP4hrfxwUeYuZd6rVNI/6vmO6sef6lF3a6VSxUWtjk/qAU8uRUt5UMXaLBrK5kGVx1JVf79Qhafq56e/Tsf+2el49FIX15dikHItKuOLzfmzb73Plfoq6Te/NoqG8i5cWQ77nOUCAAAmo1LHa3Xk6shKdZaOYqaVb+KUWb8yM55TViq+vFD6p6rye3063qn/MZ+0io1VlJVLD2Vgcd8qnl/j56leyL5bufRUVvqr9f7ykeXG55jrYkuZXhEAAKbhzebSV34495XN6ci36vf7Ynk6Hq9V8azcXYpKaRc7lYUufr9XGkWttB4uKJ3mw7tLU59L5oOolIuvApSZbD7opn5eRcwHAIDpsD2BeRbb5sNnj55dMApkpVxcCMoxzIcXXuZDYb1kSWkUq4Xu3+fkM2A+AAAkxJtzt7izzQfbUji4lLYnoJS6WPW7BwenpeBb7DEfpMmH8NGFeJsC8wEAAAzGm3x4WKXu+wSl2SG2zYfltebDY5dSthSSMR+GLVrugay0zQf7T5SU3APMBwCAWbIyzYf1xXyoDfPBZVMUW8c8Qy5YCkMXPdYunie8dvG4bT7U2rpRqmLrKprKplN58FTa77OtdH/KrF0AAAQxb/Mh6zQfMj/zYRFmPoQtUwjK+GLhYT6MtnahlYU4+aCV1UKRinuA+QAAMEtW5pBD02k+uNt/P+XOU/k/mQ968sERsHB9cauLZYDy8K/yzleJ+QAAMCVG59XjHkQpcz9l5q28rmefPPNhL60wVGmFV6y7Rjj28giHQv4aqGJQOkR8jkSO+QAAkDgr3VcKkw/FVrh6rpUb59VzP+XOqUw182GMtQvbPUhVydoFAMCE2GMGk+9iZIIyaynJfHiIzIc8JvNBmw9kPgAAQDDx19n/XHOdvelUHnTRXOUQrrN7mA9JZT7E3+1Cd/rDKctOZWO++cL9R5h8AACYEt0hSkZBlDIXlGbf56+U1y7kMYDZmA8hxSWZD5gPAAAzo2U+fLhmdH/XnUVQutIAetIh/AInDze/diFlPtgDKsNlPpShmQ81mQ8AAKkRYim88VAGxEjGBU7KlgKZD8OlQ5D5AAAAAjHmg327Cvcuhqk0mmI5cNLd6srpEGQ+TJT5ICt18Q7zAQAgCfryGeY0MJ9Qz95cua0gZz58TivzwVbGZz5k5eDpELKSzAcAgDmgW11xnkFUDnqdfedSHnX/O9e1i1eh5kN8PkP9sJkPDZkPAABJMNDahRzrJyhjipPmNO4DchoLp3KGgZPdL0R/N4b/arlDQph8AAC4LYRWd6yi3OoeOlvd+mbNB2cE6PdqaDto+AhQzAcAgImIW6bwU2YDKyMCJ0dY0Ai6SUS6axfeIxzxQzWyUvC1mHwAAJg5cuZDTKtrK8l8EM2HrZWYEb8Is7l6EWbjuQiD+QAAkBr/zdpFk15UQsfaxY2EV4wRJ5INECeS9SkBAGASdKtbz7/VvR3zYSQ7KD4CFPMBACBFxr7oPIfMh3Xk2kVs5sON3LYjbKMnvfEbAACYBDnzoUop8+FeSebDkEXplqbmw/uVWwInAQCmxe77pKw/v3X7/PYnH4bLfBg7cHIpKSP2R7oHEszimMrsKiXmAwBAEty3useQeMNUlMfbMh9WQuaDEQEaY/KQ+QAA8Le9M1ZBGIai6BD7A6K7i3tB3aWCc8Ff8P+/QQoSJYm9jZH6Gs4ZOjwudOnSm9z7aqRg0YBQFsbtM5RVLYmw0/mQMRSdDyJMESqdUKpPK1PJzQcAAJMUn7OXLHaMLQWx2PGeXOyYEbtY249d7C9q+amKt+QHYY50PgAA1IOV0gZDsYvZOh/Ofrh5i11MfulqiZ0Pop9BKAs7H9JKOh8AAEyiYhfHdvI5e5s+Z89XdpnKSjofVv7mg//TH4+3uFDZT2ly+Kzs6XwAAKgAM+6BIfMhbxhbClrZ+GF8rHDdWu182JnqfHB0PgAA1M0pefdgWUMRu2iWGLsILAWXNB+EpaDMhw7zAQCgQp7/70tabDFj58PmJ4WT83Y+bG0VTtL5AAAAmA/FnQ/OhPngfYbIfIjDFLFS9zNopTYfiF0AANhlWjR+hoBGaeeD2cLJEWXdnQ/98DwMj/3wcO0wbMOhV95ew9248vCFsgk+mOjtaSUAAPyLB4YdjhTNmj87AAAAAElFTkSuQmCC')\" ";
a.find(".tdc-content-wrap").prepend('<div id="td_uid_start_zone_content_wrap" class="tdc-zone '+c+'" '+b+'><div class="tdc_zone"><div class="tdc-row"><div class="vc_row wpb_row td-pb-row"><div class="tdc-column"><div class="td-pb-span12 wpb_column vc_column_container"><div class="wpb_wrapper"></div></div></div></div></div></div></div>')}},init:function(){window.addWrappers=function(a,b,c){a=a.find(b);a.find(".tdc-zone").length||a.find(".tdc-row").wrapAll('<div class="tdc-zone" data-type="tdc_content"></div>');
a.find(".tdc-zone").data("type",c);a.find(".tdc-row").each(function(a,b){l(b).find(".tdc-column").wrapAll('<div class="tdc-columns"></div>')});a.find(".tdc-column").each(function(a,b){a=l(b);a.find(".tdc-inner-row").each(function(){var a=l(this),b=a.attr("id");a.wrap('<div class="tdc-element-inner-row" data-tdc-inner-row-uid="'+b+'"></div>')});a=a.find(".td_block_wrap");window.checkTdBlockWrap(a);a.each(function(a,b){a=l(b);a.closest(".tdb_single_content").length&&!a.hasClass("tdb_single_content")?
console.log(a):a.addClass("tdc-element")})});a.find(".tdc-inner-row").each(function(a,b){l(b).find(".tdc-inner-column").wrapAll('<div class="tdc-inner-columns"></div>').each(function(a,b){a=l(b).find(".tdc-element");a.length?a.addClass("tdc-element-inner-column").wrapAll('<div class="tdc-elements"></div>'):(b=l(b).find(".wpb_wrapper"),b.length&&b.append('<div class="tdc-elements"></div>'))})});a.find(".tdc-element, .tdc-element-inner-row").each(function(a,b){a=l(b);a.length&&a.not(".tdc-element-inner-column").addClass("tdc-element-column")});
a.find(".tdc-column").each(function(a,b){a=l(b).find(".tdc-element, .tdc-element-inner-row");a.length?a.not(".tdc-element-inner-column").wrapAll('<div class="tdc-elements"></div>'):(b=l(b).find(".wpb_wrapper"),b.length&&b.append('<div class="tdc-elements"></div>'))});a.find(".tdc-elements:empty").each(function(a,b){a="";b=l(b);b.closest(".tdc-inner-column").length?a=" tdc-element-inner-column":b.closest(".tdc-column").length&&(a=" tdc-element-column");a=l('<div class="'+tdcOperationUI._emptyElementClass+
a+'"></div>');tdcElementUI.bindEmptyElement(a);b.append(a)})};window.addZoneWrappers=function(a){a.find(".tdc-row").each(function(a,b){l(b).find(".tdc-column").wrapAll('<div class="tdc-columns"></div>')});a.find(".tdc-column").each(function(a,b){a=l(b);a.find(".tdc-inner-row").each(function(){var a=l(this),b=a.attr("id");a.wrap('<div class="tdc-element-inner-row" data-tdc-inner-row-uid="'+b+'"></div>')});a=a.find(".td_block_wrap");window.checkTdBlockWrap(a);a.addClass("tdc-element")});a.find(".tdc-inner-row").each(function(a,
b){l(b).find(".tdc-inner-column").wrapAll('<div class="tdc-inner-columns"></div>').each(function(a,b){a=l(b).find(".tdc-element");a.length?a.addClass("tdc-element-inner-column").wrapAll('<div class="tdc-elements"></div>'):(b=l(b).find(".wpb_wrapper"),b.length&&b.append('<div class="tdc-elements"></div>'))})});a.find(".tdc-element, .tdc-element-inner-row").each(function(a,b){a=l(b);a.length&&a.not(".tdc-element-inner-column").addClass("tdc-element-column")});a.find(".tdc-column").each(function(a,b){a=
l(b).find(".tdc-element, .tdc-element-inner-row");a.length?a.not(".tdc-element-inner-column").wrapAll('<div class="tdc-elements"></div>'):(b=l(b).find(".wpb_wrapper"),b.length&&b.append('<div class="tdc-elements"></div>'))});a.find(".tdc-elements:empty").each(function(a,b){a="";b=l(b);b.closest(".tdc-inner-column").length?a=" tdc-element-inner-column":b.closest(".tdc-column").length&&(a=" tdc-element-column");a=l('<div class="'+tdcOperationUI._emptyElementClass+a+'"></div>');tdcElementUI.bindEmptyElement(a);
b.append(a)})};window.addRowWrappers=function(a){a.find(".tdc-column").wrapAll('<div class="tdc-columns"></div>');a.find(".tdc-column").each(function(a,b){a=l(b);a.find(".tdc-inner-row").each(function(){var a=l(this),b=a.attr("id");a.wrap('<div class="tdc-element-inner-row" data-tdc-inner-row-uid="'+b+'"></div>')});a=a.find(".td_block_wrap");window.checkTdBlockWrap(a);a.addClass("tdc-element")});a.find(".tdc-inner-row").each(function(a,b){l(b).find(".tdc-inner-column").wrapAll('<div class="tdc-inner-columns"></div>').each(function(a,
b){a=l(b).find(".tdc-element");a.length?a.addClass("tdc-element-inner-column").wrapAll('<div class="tdc-elements"></div>'):(b=l(b).find(".wpb_wrapper"),b.length&&b.append('<div class="tdc-elements"></div>'))})});a.find(".tdc-element, .tdc-element-inner-row").each(function(a,b){a=l(b);a.length&&a.not(".tdc-element-inner-column").addClass("tdc-element-column")});a.find(".tdc-column").each(function(a,b){a=l(b).find(".tdc-element, .tdc-element-inner-row");a.length?a.not(".tdc-element-inner-column").wrapAll('<div class="tdc-elements"></div>'):
(b=l(b).find(".wpb_wrapper"),b.length&&b.append('<div class="tdc-elements"></div>'))});a.find(".tdc-elements:empty").each(function(a,b){a="";b=l(b);b.closest(".tdc-inner-column").length?a=" tdc-element-inner-column":b.closest(".tdc-column").length&&(a=" tdc-element-column");a=l('<div class="'+tdcOperationUI._emptyElementClass+a+'"></div>');tdcElementUI.bindEmptyElement(a);b.append(a)})};window.addColumnWrappers=function(a){var b=a.find(".td_block_wrap");window.checkTdBlockWrap(b);b.addClass("tdc-element");
a.find(".tdc-inner-row").each(function(a,b){a=l(b);b=a.attr("id");a.wrap('<div class="tdc-element-inner-row" data-tdc-inner-row-uid="'+b+'"></div>');a.find(".tdc-inner-column").wrapAll('<div class="tdc-inner-columns"></div>').each(function(a,b){a=l(b).find(".tdc-element");a.length?a.addClass("tdc-element-inner-column").wrapAll('<div class="tdc-elements"></div>'):(b=l(b).find(".wpb_wrapper"),b.length&&b.append('<div class="tdc-elements"></div>'))})});a.find(".tdc-element, .tdc-element-inner-row").each(function(a,
b){a=l(b);a.length&&a.not(".tdc-element-inner-column").addClass("tdc-element-column")});b=a.find(".tdc-element, .tdc-element-inner-row");b.length?b.not(".tdc-element-inner-column").wrapAll('<div class="tdc-elements"></div>'):(b=a.find(".wpb_wrapper"),b.length&&b.append('<div class="tdc-elements"></div>'));a.find(".tdc-elements:empty").each(function(a,b){a="";b=l(b);b.closest(".tdc-inner-column").length?a=" tdc-element-inner-column":b.closest(".tdc-column").length&&(a=" tdc-element-column");a=l('<div class="'+
tdcOperationUI._emptyElementClass+a+'"></div>');tdcElementUI.bindEmptyElement(a);b.append(a)})};window.addInnerRowWrappers=function(a){var b=a.find(".td_block_wrap");window.checkTdBlockWrap(b);b.addClass("tdc-element");a.find(".tdc-inner-row").each(function(a,b){l(b).find(".tdc-inner-column").wrapAll('<div class="tdc-inner-columns"></div>').each(function(a,b){a=l(b).find(".tdc-element");a.length?a.addClass("tdc-element-inner-column").wrapAll('<div class="tdc-elements"></div>'):(b=l(b).find(".wpb_wrapper"),
b.length&&b.append('<div class="tdc-elements"></div>'))})});a.find(".tdc-elements:empty").each(function(a,b){a="";b=l(b);b.closest(".tdc-inner-column").length?a=" tdc-element-inner-column":b.closest(".tdc-column").length&&(a=" tdc-element-column");a=l('<div class="'+tdcOperationUI._emptyElementClass+a+'"></div>');tdcElementUI.bindEmptyElement(a);b.append(a)})};window.addInnerColumnWrappers=function(a){var b=a.find(".td_block_wrap");window.checkTdBlockWrap(b);b.addClass("tdc-element");b=a.find(".tdc-element");
b.length?b.addClass("tdc-element-inner-column").wrapAll('<div class="tdc-elements"></div>'):(b=a.find(".wpb_wrapper"),b.length&&b.append('<div class="tdc-elements"></div>'));a.find(".tdc-elements:empty").each(function(a,b){a="";b=l(b);b.closest(".tdc-inner-column").length?a=" tdc-element-inner-column":b.closest(".tdc-column").length&&(a=" tdc-element-column");a=l('<div class="'+tdcOperationUI._emptyElementClass+a+'"></div>');tdcElementUI.bindEmptyElement(a);b.append(a)})};window.addLoopWrappers=function(a){a.find(".td-main-content").wrap('<div class="tdc-loop-content"></div>')};
window.addSidebarWrappers=function(a){a.find(".td-main-sidebar").wrap('<div class="tdc-sidebar-content"></div>')};window.checkTdBlockWrap=function(a){a.each(function(a,b){a=l(b);a.hasClass("tdc-block-empty")&&a.removeClass("tdc-block-empty");0===parseInt(a.height())&&a.addClass("tdc-block-empty")})};tdcAdminIFrameUI.checkIframe(tdcAdminIFrameUI._$liveIframe)},loadIframe:function(){(tdDetect.isIe8||tdDetect.isIe9||tdDetect.isIe10)&&tdConfirm.showModalOk("Browser Information","TagDiv Composer does not work with Internet Explorer 8, 9, 10",
function(){tb_remove()});var a=l(this).contents();"header"!==window.tdcPostSettings.tdbTemplateType&&"footer"!==window.tdcPostSettings.tdbTemplateType||a.find(".tdc-content-wrap").html("");tdcAdminIFrameUI.initContent(a);tdcAdminIFrameUI._liveIframeWindowObject=l(this).get(0).contentWindow;var c=l('<div id="tdc-recycle" class="tdc-recycle"><div class="tdc-delete-text"><span>Delete</span></div></div>');a.find("body").prepend(c);tdcAdminWrapperUI.$recycle=c;tdcIFrameData._postOriginalContentJSON=b;
window.addWrappers(a,".td-main-content-wrap","tdc_content");window.addWrappers(a,".td-header-desktop-wrap","tdc_header_desktop");window.addWrappers(a,".td-header-desktop-sticky-wrap","tdc_header_desktop_sticky");window.addWrappers(a,".td-header-mobile-wrap","tdc_header_mobile");window.addWrappers(a,".td-header-mobile-sticky-wrap","tdc_header_mobile_sticky");window.addWrappers(a,".td-footer-wrap","tdc_footer");tdcIFrameData.init(a,!0);tdcOperationUI.init(a,!0);a.on("click","a",function(a){a.preventDefault();
"undefined"!==this.href&&window.open(this.href,"_blank")});a[0].addEventListener("mousedown",function(a){1!==a.which&&a.stopPropagation()},!0);a[0].addEventListener("mousemove",function(b){a.lastMouseEvent=b},!0);a.on("click",function(a){tdcContextMenu.hide()});a.on("scroll",function(a){tdcContextMenu.hide()});a.bind("contextmenu",function(a){if(!a.ctrlKey){a.preventDefault();var b=a.pageX,c=a.pageY,e=0,d=l("#tdc-context-menu"),f=d.width();d=d.height();tdcMain.getSidebarInline()&&(e=tdcSidebar.$_sidebar.width());
b+f+e>tdcWindowFrame.$_window.width()&&(b=tdcWindowFrame.$_window.width()-f-e);c+d>tdcAdminIFrameUI.getIframeWindow().scrollY+tdcWindowFrame.$_window.height()&&(c=tdcAdminIFrameUI.getIframeWindow().scrollY+tdcWindowFrame.$_window.height()-d);e=tdcAdminIFrameUI.getLiveIframe();e=(e.parent().width()-e.width())/2;l(a.target).trigger(l.Event("contextmousedown",{pageX:b+e,pageY:c}))}});"module"===window.tdcPostSettings.tdbTemplateType&&(a.find("html").addClass("tdc-template-module"),c="","undefined"!==
typeof window.tdcPostSettings.tdbTemplateSettings.viewport_widths&&"undefined"!==typeof window.tdcPostSettings.tdbTemplateSettings.viewport_widths.all&&(c=window.tdcPostSettings.tdbTemplateSettings.viewport_widths.all),""!==c&&a.find("body").css("width",c),c="#fff","undefined"!==typeof window.tdcPostSettings.tdbTemplateSettings.bg_color&&(c=window.tdcPostSettings.tdbTemplateSettings.bg_color),a.find("body").css("--tdb-tpl-bg-color",c))},checkIframe:function(a){if(c.isUndefined(a)){a=window.tdcPostSettings.postUrl;
var e="";!1!==window.tdcPostSettings.tdbLoadDataFromId&&(e+="&tdbLoadDataFromId="+window.tdcPostSettings.tdbLoadDataFromId);!1!==window.tdcPostSettings.tdbTemplateType&&(e+="&tdbTemplateType="+window.tdcPostSettings.tdbTemplateType);a=0>a.indexOf("?")?a+("?td_action=tdc_edit&post_id="+window.tdcPostSettings.postId+e):a+("&td_action=tdc_edit&post_id="+window.tdcPostSettings.postId+e);a=l('<iframe id="tdc-live-iframe" name="tdc-live-iframe" src="'+a+'" scrolling="auto" style="width: 100%; height: 100%" class="tdc-responsive-all"></iframe>').on("load",
tdcAdminIFrameUI.loadIframe);l("#tdc-live-iframe-wrapper").append(a)}else{var f=a;e=f.contents();tdcAdminIFrameUI.initContent(e);tdcAdminIFrameUI._liveIframeWindowObject=f.get(0).contentWindow;f=l('<div id="tdc-recycle" class="tdc-recycle"><div class="tdc-delete-text"><span>Delete</span></div></div>');tdcDebug.log(tdcIFrameData.tdcTopCollection.models);e.find("body").prepend(f);tdcAdminWrapperUI.$recycle=f;tdcIFrameData._postOriginalContentJSON=b;window.addWrappers(e,".td-main-content-wrap","tdc_content");
window.addWrappers(e,".td-header-desktop-wrap","tdc_header_desktop");window.addWrappers(e,".td-header-desktop-sticky-wrap","tdc_header_desktop_sticky");window.addWrappers(e,".td-header-mobile-wrap","tdc_header_mobile");window.addWrappers(e,".td-header-mobile-sticky-wrap","tdc_header_mobile_sticky");window.addWrappers(e,".td-footer-wrap","tdc_footer");tdcIFrameData.init(e,!0);tdcOperationUI.init(e,!0);e.find("a").each(function(a,b){b.setAttribute("target","_blank")});a.removeClass("tdc-live-iframe");
a.removeClass("tdc-live-iframe-temp")}tdcAdminIFrameUI._$liveIframe=a}}})(jQuery,Backbone,_);var tdcCssEditor={};
(function(l,a,c){tdcCssEditor={_mappedParameter:c,_model:c,_currentCssSettings:c,_INHERITED_CSS_CLASS:"tdc-css-inherited",_isInitialized:!1,init:function(){tdcCssEditor._isInitialized||(tdcCssEditor._bindEvents(),tdcCssEditor._isInitialized=!0)},tdcCssImageWrapHandler:function(b){var c=l(b.currentTarget),d=c.closest(".tdc-tab-content");window.original_send_to_editor=window.send_to_editor;wp.media.editor.open(c);l(".media-menu .media-menu-item:nth-of-type(2)").addClass("hidden");l(".media-menu .media-menu-item:nth-of-type(3)").addClass("hidden");
l(".media-menu .media-menu-item:nth-of-type(4)").addClass("hidden");window.send_to_editor=function(b){if(-1!==b.indexOf("[caption")){var e=/\[caption(.*)\](.*)\[\/caption\]/g.exec(b);3===e.length&&(b=e[2])}var f=l("img",b).attr("src");e="";"undefined"===typeof f?(b=l(b),f=b.attr("src"),e=b.attr("class")):e=l("img",b).attr("class");l.ajax({timeout:1E4,type:"POST",url:tdcUtil.getRestEndPoint("td-composer/get_image_id","uuid="+tdcJobManager._getUniqueID()),beforeSend:function(a){a.setRequestHeader("X-WP-Nonce",
window.tdcAdminSettings.wpRestNonce)},dataType:"json",data:{image_class:e,action:"tdc_ajax_get_image_id"}}).done(function(b,e,g){if("success"===e)if(a.isObject(b)&&a.has(b,"errors"))new tdcNotice.notice(b.errors,!0,!1);else{c.trigger("td_woo_update_term_img",[c,b]);e=c.closest(".tdc-property-wrap");g=e.find(".tdc-css-image-remove");var h=e.find(".tdc-inherit-image");g.removeClass("tdc-hidden-button");"all"===tdcSidebar.currentViewportSettings.name?h.hide():h.show();c.attr("style","background-image: url( '"+
f+"') ");c.data("image_link",f);c.data("image_id",b.image_id);window.send_to_editor=window.original_send_to_editor;window.tb_remove();e.removeClass(tdcCssEditor._INHERITED_CSS_CLASS);"undefined"===typeof c.data("model_id")?tdcCssEditor.saveWidgetForm(c):(b=tdcCssEditor._generateCssAttValue(d),e=tdcIFrameData.getModel(c.data("model_id")),tdcSidebarController.onUpdate(e,c.data("param_name"),"",b))}}).fail(function(a,b,c){})};return!1},tdcCssImageRemoveHandler:function(b){var c=l(b.currentTarget),d=
c.closest(".tdc-property-wrap");b=d.find(".tdc-css-image-wrap");var f=d.find(".tdc-inherit-image");c.addClass("tdc-hidden-button");"all"!==tdcSidebar.currentViewportSettings.name&&f.show();d.removeClass(tdcCssEditor._INHERITED_CSS_CLASS);b.attr("style","background-image: url( '"+window.tdcAdminSettings.pluginUrl+"/assets/images/sidebar/no_img.png'");c.trigger("td_woo_update_term_img",[b,{image_id:""}]);"all"===tdcSidebar.currentViewportSettings.name?b.data("image_link",""):b.data("image_link","no_value");
f=b.data("model_id");a.isUndefined(f)?tdcCssEditor.saveWidgetForm(c):(c=d.closest(".tdc-tab-content"),c=tdcCssEditor._generateCssAttValue(c),f=tdcIFrameData.getModel(f),tdcSidebarController.onUpdate(f,b.data("param_name"),"",c))},_updateColorField:function(b){var c=b.closest(".tdc-property-wrap"),d=c.data("tdc-for"),f=c.find(".tdc-inherit-color"),g=c.find(".tdc-colorpicker-wrap"),k=b.data("no_value"),n=b.data("default_value");a.isUndefined(k)||1!==k?("all"!==tdcSidebar.currentViewportSettings.name&&
f.show(),tdcCssEditor._updateData(b),f={isInherited:!1},d=tdcCssEditor._getSettingsProperty(d,"",f),f.isInherited?(b.attr("placeholder",d),b.val(""),c.addClass(tdcCssEditor._INHERITED_CSS_CLASS),g.attr("style","background-color: "+tdcCssEditor._getRgba(d))):(c.removeClass(tdcCssEditor._INHERITED_CSS_CLASS),tdcCssEditor._checkDefaultColor(b))):(b.val("no_value"),tdcCssEditor._updateData(b),b.val(""),a.isUndefined(n)||g.attr("style","background-color: "+tdcCssEditor._getRgba(n)),tdcCssEditor._checkDefaultColor(b))},
_clearColorPicker:function(a){a=l(a.currentTarget).closest(".tdc-property-wrap");var b=a.closest(".tdc-tab-content"),c=a.find("input"),f=a.find(".tdc-inherit-color");a.removeClass(tdcCssEditor._INHERITED_CSS_CLASS);"all"!==tdcSidebar.currentViewportSettings.name&&(c.data("no_value",1),c.attr("placeholder",""),f.show());tdcCssEditor._checkDefaultColor(c);b.hasClass("tdc-tab-widget")&&(c.val(""),c.trigger("keyup"))},_showColorPicker:function(a){a=l(a.currentTarget).closest(".tdc-property-wrap").find("input.wp-color-picker");
"no_value"===a.val()&&a.val("")},_changeColor:function(a){var b=l(a.currentTarget).closest(".tdc-property-wrap").find("input");""!==b.val()&&b.data("no_value",0);"keyup"===a.type?setTimeout(function(){tdcCssEditor._updateColorField(b)},100):tdcCssEditor._updateColorField(b)},_inheritSelect:function(b){b=l(b.currentTarget);var e=b.closest(".tdc-property-wrap"),d=e.data("tdc-for");a.isUndefined(tdcCssEditor._currentCssSettings[tdcSidebar.currentViewportSettings.name][d])||delete tdcCssEditor._currentCssSettings[tdcSidebar.currentViewportSettings.name][d];
var f={isInherited:!1};d=tdcCssEditor._getSettingsProperty(d,c,f);var g=e.find("select:first");f.isInherited?(e.addClass(tdcCssEditor._INHERITED_CSS_CLASS),b.hide()):(e.removeClass(tdcCssEditor._INHERITED_CSS_CLASS),b.show());a.isUndefined(d)?(g.val(g.find("option:first").val()),b.hide()):g.val(d);tdcCssEditor._updateData(g)},_inheritColor:function(b){b=l(b.currentTarget);var e=b.closest(".tdc-property-wrap"),d=e.find("input"),f=e.find(".tdc-colorpicker-wrap"),g=e.data("tdc-for");a.isUndefined(tdcCssEditor._currentCssSettings[tdcSidebar.currentViewportSettings.name][g])||
delete tdcCssEditor._currentCssSettings[tdcSidebar.currentViewportSettings.name][g];d.data("no_value",0);var k={isInherited:!1};g=tdcCssEditor._getSettingsProperty(g,c,k);k.isInherited?(e.addClass(tdcCssEditor._INHERITED_CSS_CLASS),b.hide()):(e.removeClass(tdcCssEditor._INHERITED_CSS_CLASS),b.show());a.isUndefined(g)?(d.val(""),b.hide(),tdcCssEditor._updateData(d),tdcCssEditor._checkDefaultColor(d)):(d.val(""),d.attr("placeholder",g),f.attr("style","background-color: "+tdcCssEditor._getRgba(g)),tdcCssEditor._updateData(d))},
_inheritImage:function(b){var e=l(b.currentTarget);b=e.closest(".tdc-property-wrap");var d=b.find(".tdc-css-image-wrap"),f=b.find(".tdc-css-image-remove");b.find(".tdc-inherit-image").hide();f.addClass("tdc-hidden-button");d.data("image_link","");f=d.data("model_id");a.isUndefined(f)?tdcCssEditor.saveWidgetForm(e):(e=b.closest(".tdc-tab-content"),e=tdcCssEditor._generateCssAttValue(e),f=tdcIFrameData.getModel(f),tdcSidebarController.onUpdate(f,d.data("param_name"),"",e));f={isInherited:!1};e=tdcCssEditor._getSettingsProperty("background-image",
c,f);f.isInherited?(b.addClass(tdcCssEditor._INHERITED_CSS_CLASS),d.attr("style","background-image: url('"+e+"'")):d.attr("style","background-image: url( '"+window.tdcAdminSettings.pluginUrl+"/assets/images/sidebar/no_img.png'")},_clearCssProperties:function(a){a=l(a.currentTarget);var b=a.data("model_id");tdConfirm.showModal("Clear CSS settings",tdcCssEditor,function(a,b){tdcCssEditor._currentCssSettings=c;"undefined"===typeof b?(l(".tdc-responsiveness").replaceWith(tdcCssEditor.generateEditorResponsiveContent()),
tdcCssEditor.doActionPanelRender(),tdcCssEditor.saveWidgetForm(l("."+a.get(0).className))):(b=tdcIFrameData.getModel(b),tdcSidebarController.onUpdate(b,a.data("param_name"),"",""),l(".tdc-responsiveness").replaceWith(tdcCssEditor.generateEditorResponsiveContent()),tdcCssEditor.doActionPanelRender());tb_remove()},[a,b],"Are you sure you want to clear all the CSS settings of the selected component?")},_changeTextInput:function(b){var c=l(b.currentTarget),d=c.parent(),f=c;d.hasClass("tdc-box-margin")||
d.hasClass("tdc-box-border")||d.hasClass("tdc-box-padding")||(f=c.closest(".tdc-property-wrap"));d=c.val();var g=1;c.hasClass("tdc-css-opacity")&&(g=.01);var k=NaN;switch(b.type){case "keyup":switch(b.keyCode){case 38:l.isNumeric(d)&&(k=parseFloat(d)+g);break;case 40:l.isNumeric(d)&&(k=parseFloat(d)-g)}break;case "mousewheel":b.preventDefault(),b.stopImmediatePropagation(),l.isNumeric(d)&&(k=0<b.originalEvent.deltaY?parseFloat(d)-g:parseFloat(d)+g)}a.isNaN(k)||(1>g&&(k=k.toFixed(2)),c.val(k));tdcCssEditor._updateData(c);
d=f.data("tdc-for");b={isInherited:!1};d=tdcCssEditor._getSettingsProperty(d,"",b);b.isInherited?(c.attr("placeholder",d),c.val(""),f.addClass(tdcCssEditor._INHERITED_CSS_CLASS)):f.removeClass(tdcCssEditor._INHERITED_CSS_CLASS)},_keydownTextInput:function(a){if(38===a.keyCode||40===a.keyCode)return!1},_focusTextInput:function(a){a=l(a.currentTarget);for(var b=a.closest(".tdc-property-wrap"),c=b[0].classList,f=0;f<c.length;f++)0===c[f].indexOf("tdc-el-")&&b.removeClass(c[f]);b.addClass("tdc-el-"+a.data("tdc-for"))},
_changeDropDown:function(b){b=l(b.currentTarget);var c=b.closest(".tdc-property-wrap"),d=c.find(".tdc-inherit-select");c.removeClass(tdcCssEditor._INHERITED_CSS_CLASS);tdcCssEditor._updateData(b);var f=c.data("tdc-for"),g={isInherited:!1};tdcCssEditor._getSettingsProperty(f,"",g);g.isInherited?(c.addClass(tdcCssEditor._INHERITED_CSS_CLASS),d.hide()):(c.removeClass(tdcCssEditor._INHERITED_CSS_CLASS),"all"===tdcSidebar.currentViewportSettings.name?d.hide():0===b[0].selectedIndex?a.isUndefined(tdcCssEditor._currentCssSettings.all)||
a.isUndefined(tdcCssEditor._currentCssSettings.all[f])?d.hide():d.show():d.show())},doActionPanelRender:function(){tdcSidebarPanel._hook.doAction("panel_rendered");tdcSidebarPanel._hook.doAction("panel_css")},_bindEvents:function(){var a=l("body");a.on("keydown",".tdc-tab-design input.tdc-css-box-input",tdcCssEditor._keydownTextInput);a.on("keyup mousewheel",".tdc-tab-design input.tdc-css-box-input",tdcCssEditor._changeTextInput);a.on("focus",".tdc-tab-design input.tdc-css-box-input",tdcCssEditor._focusTextInput);
a.on("change keyup",".tdc-tab-design .tdc-css-bg-color",tdcCssEditor._changeColor);a.on("change keyup",".tdc-tab-design .tdc-css-border-color",tdcCssEditor._changeColor);a.on("change",".tdc-tab-design .tdc-css-border-style",tdcCssEditor._changeDropDown);a.on("keydown",".tdc-tab-design input.tdc-css-border-radius",tdcCssEditor._keydownTextInput);a.on("keyup mousewheel",".tdc-tab-design input.tdc-css-border-radius",tdcCssEditor._changeTextInput);a.on("keydown",".tdc-tab-design input.tdc-css-width",
tdcCssEditor._keydownTextInput);a.on("keyup mousewheel",".tdc-tab-design input.tdc-css-width",tdcCssEditor._changeTextInput);a.on("keydown",".tdc-tab-design input.tdc-css-height",tdcCssEditor._keydownTextInput);a.on("keyup mousewheel",".tdc-tab-design input.tdc-css-height",tdcCssEditor._changeTextInput);a.on("keydown",".tdc-tab-design input.tdc-css-shadow-size",tdcCssEditor._keydownTextInput);a.on("keyup mousewheel",".tdc-tab-design input.tdc-css-shadow-size",tdcCssEditor._changeTextInput);a.on("change keyup",
".tdc-tab-design .tdc-css-shadow-color",tdcCssEditor._changeColor);a.on("keydown",".tdc-tab-design input.tdc-css-shadow-offset-h",tdcCssEditor._keydownTextInput);a.on("keyup mousewheel",".tdc-tab-design input.tdc-css-shadow-offset-h",tdcCssEditor._changeTextInput);a.on("keydown",".tdc-tab-design input.tdc-css-shadow-offset-v",tdcCssEditor._keydownTextInput);a.on("keyup mousewheel",".tdc-tab-design input.tdc-css-shadow-offset-v",tdcCssEditor._changeTextInput);a.on("change",".tdc-tab-design .tdc-css-bg-style",
tdcCssEditor._changeDropDown);a.on("change",".tdc-tab-design .tdc-css-bg-position",tdcCssEditor._changeDropDown);a.on("keydown",".tdc-tab-design input.tdc-css-opacity",tdcCssEditor._keydownTextInput);a.on("keyup mousewheel",".tdc-tab-design input.tdc-css-opacity",tdcCssEditor._changeTextInput);a.on("change keyup",".tdc-tab-design input.tdc-css-color-1-overlay",tdcCssEditor._changeColor);a.on("change keyup",".tdc-tab-design input.tdc-css-color-2-overlay",tdcCssEditor._changeColor);a.on("keydown",".tdc-tab-design input.tdc-css-gradient-direction",
tdcCssEditor._keydownTextInput);a.on("keyup mousewheel",".tdc-tab-design input.tdc-css-gradient-direction",tdcCssEditor._changeTextInput);a.on("change",".tdc-tab-design .tdc-css-content-h-align",tdcCssEditor._changeDropDown);a.on("keydown",".tdc-tab-design input.tdc-css-order",tdcCssEditor._keydownTextInput);a.on("keyup mousewheel",".tdc-tab-design input.tdc-css-order",tdcCssEditor._changeTextInput);a.on("keydown",".tdc-tab-design input.tdc-css-z-index",tdcCssEditor._keydownTextInput);a.on("keyup mousewheel",
".tdc-tab-design input.tdc-css-z-index",tdcCssEditor._changeTextInput);a.on("change",".tdc-tab-design .tdc-css-display",tdcCssEditor._changeDropDown);a.on("mousedown",".tdc-tab-design .wp-picker-clear",tdcCssEditor._clearColorPicker);a.on("click",".tdc-tab-design .tdc-inherit-select",tdcCssEditor._inheritSelect);a.on("click",".tdc-tab-design .tdc-inherit-color",tdcCssEditor._inheritColor);a.on("click",".tdc-tab-design .tdc-css-image-wrap",tdcCssEditor.tdcCssImageWrapHandler);a.on("click",".tdc-tab-design .tdc-css-image-remove",
tdcCssEditor.tdcCssImageRemoveHandler);a.on("click",".tdc-tab-design .tdc-inherit-image",tdcCssEditor._inheritImage);a.on("click",".tdc-clear-css-properties",tdcCssEditor._clearCssProperties)},setMediaInterval:function(b,c){var e=l(".tdc-media-interval");e.length||(e=l('<div class="tdc-media-interval"><div class="tdc-media-interval-head"><label></label> - <output></output></div><input type="range" name="mediaIntervalInput" min="20" max="50" step="1" value="30" data-scroll-bar-width="'+c+'"></div>'),
l("body").append(e),e.find("input").on("input",function(b){var c=l(this),d=tdcAdminIFrameUI.getLiveIframe(),f=c.data("scroll-bar-width");e.find("output").html(c.val());tdcCssEditor.timeoutMediaInterval=setTimeout(function(){a.isUndefined(tdcCssEditor.timeoutMediaInterval)||clearTimeout(tdcCssEditor.timeoutMediaInterval);d.css("width",parseInt(c.val())+parseInt(f))},200)}));""===b?e.hide():(e.show(),tdcCssEditor.timeoutIframeHtml=setTimeout(function(){a.isUndefined(tdcCssEditor.timeoutIframeHtml)||
clearTimeout(tdcCssEditor.timeoutIframeHtml);if(!a.isUndefined(tdcSidebar.currentViewportSettings.settings)){var c=e.find("label"),d=e.find("input"),k=e.find("output");c.html(tdcSidebar.currentViewportSettings.name);a.isUndefined(tdcSidebar.currentViewportSettings.settings.limitBottom)?d.attr("min",200):d.attr("min",tdcSidebar.currentViewportSettings.settings.limitBottom);d.attr("max",tdcSidebar.currentViewportSettings.settings.limitTop);d.attr("value",b);k.html(b+"px")}},100))},_updateData:function(a){var b=
a.data("model_id"),c=a.data("param_name"),f=a.closest(".tdc-tab-content");"undefined"===typeof b?tdcCssEditor.saveWidgetForm(a):(a=tdcIFrameData.getModel(b),f=tdcCssEditor._generateCssAttValue(f),tdcSidebarController.onUpdate(a,c,"",f))},saveWidgetForm:function(a){var b=a.closest("form");a=a.closest(".tdc-tab-content");if(b.length){var c=b.find('input[name="id_base"]').val(),f=b.find('input[name="widget-id"]').val().replace(c+"-","");c="'widget-"+c+"["+f+"][tdc_css]'";f=b.find("input[name="+c+"]");
var g=tdcCssEditor._generateCssAttValue(a);a.data("tdc_css",g);f.length?f.val(g):b.append('<input type="hidden" name='+c+' value="'+g+'">')}},addWidgetCssEditor:function(a,c){tdcCssEditor._mappedParameter=a;return tdcCssEditor._generateEditorContent(c)},addComposerCssEditor:function(a,c){tdcCssEditor._mappedParameter=a;tdcCssEditor._model=c;a=c.get("attrs")[a.param_name];return tdcCssEditor._generateEditorContent(a)},_checkDefaultColor:function(b){var c=b.closest(".tdc-property-wrap").find(".tdc-colorpicker-wrap");
""===b.val()&&(b=b.data("default_value"),a.isUndefined(b)?c.attr("style",""):c.attr("style","background-color: "+tdcCssEditor._getRgba(b)))},_generateEditorContent:function(b){if(a.isEmpty(b))tdcCssEditor._currentCssSettings=c;else try{var e=JSON.parse(window.atob(b));tdcDebug.log(e);a.isObject(e)?tdcCssEditor._currentCssSettings=e:tdcCssEditor._currentCssSettings=c}catch(d){tdcCssEditor._currentCssSettings=c,new tdcNotice.notice(d.message,!1,!1)}tdcSidebarPanel._hook.addAction("panel_rendered",function(){l(".tdc-css-image-wrap").each(function(b,
e){b=l(e);e=b.closest(".tdc-property-wrap");var d=e.find(".tdc-css-image-remove"),f=e.find(".tdc-inherit-image"),n={isInherited:!1},h=tdcCssEditor._getSettingsProperty("background-image",c,n);n.isInherited?e.addClass(tdcCssEditor._INHERITED_CSS_CLASS):e.removeClass(tdcCssEditor._INHERITED_CSS_CLASS);a.isUndefined(h)?(d.addClass("tdc-hidden-button"),f.hide()):("no_value"===h?d.addClass("tdc-hidden-button"):(d.removeClass("tdc-hidden-button"),b.attr("style",'background-image: url("'+h+'")')),"all"!==
tdcSidebar.currentViewportSettings.name&&f.show());b.data("image_link",h)});l(".tdc-inherit").each(function(b,e){b=l(e);e=b.closest(".tdc-property-wrap");if("all"===tdcSidebar.currentViewportSettings.name||e.hasClass(tdcCssEditor._INHERITED_CSS_CLASS))b.hide();else{var d=e.data("tdc-for");e={isInherited:!1};d=tdcCssEditor._getSettingsProperty(d,c,e);e.isInherited?b.hide():a.isUndefined(d)||b.show()}})});return tdcCssEditor.generateEditorResponsiveContent()},_cleanCss:function(b,e){if("undefined"===
typeof e)return c;if("no_value"===e)return e;if("background-image"===b)return b=/(url\s*\(\s*['"]?)(.*?)\s*(['"]?\s*\))/ig.exec(e),a.isEmpty(b)?"":b[2];e=e.toLowerCase();e=e.replace(/!important/g,"");return e.trim()},_getDataNoValue:function(a){var b="";"no_value"===a&&(b=' data-no_value="1" ');return b},callbackColorPicker:function(){l(".tdc-tab-design .tdc-property-colorpicker").each(function(){l("#tdc-palette-color-picker").tdPalette();var b=l(this),c=b.find("input"),d=b.closest(".tdc-property-wrap");
b=b.find(".tdc-colorpicker-wrap");a.isUndefined(c.val())||""===c.val()||b.attr("style","background: "+c.val());d.hasClass(tdcCssEditor._INHERITED_CSS_CLASS)?""!==c.attr("placeholder")&&b.attr("style","background-color: "+tdcCssEditor._getRgba(c.attr("placeholder"))):("no_value"===c.val()&&c.val(""),tdcCssEditor._checkDefaultColor(c))})},generateEditorResponsiveContent:function(){function b(){return n={isInherited:!1}}function e(a){return"all"!==tdcSidebar.currentViewportSettings.name?'placeholder="'+
a+'"':""}function d(){return n.isInherited?" "+tdcCssEditor._INHERITED_CSS_CLASS:""}function f(a,c){c=tdcCssEditor._getSettingsProperty(a,c,b());var e="-";n.isInherited&&(e=c,c="");return'<input data-tdc-for="'+a+'" name="" type="text" value="'+c+'" class="tdc-css-box-input tdc-css-box-input-'+a+d()+'" title="Css '+a+'" placeholder="'+e+'" '+tdcSidebarPanel._getParamterDataAtts(g,k)+"/>"}tdcSidebarPanel._hook.removeAction("panel_css");var g=tdcCssEditor._mappedParameter,k=tdcCssEditor._model,n={isInherited:!1};
var h='<div class="tdc-responsiveness"><div class="'+(tdcSidebarPanel._getParameterClasses(g)+'">');h=h+'<div class="tdc-box-margin"><div class="tdc-margin-label">Margin</div>'+f("margin-top","");h+=f("margin-right","");h+=f("margin-bottom","");h+=f("margin-left","");h=h+'<div class="tdc-box-border"><div class="tdc-border-label">Border</div>'+f("border-top-width","");h+=f("border-right-width","");h+=f("border-bottom-width","");h+=f("border-left-width","");h=h+'<div class="tdc-box-padding"><div class="tdc-padding-label">Padding</div>'+
f("padding-top","");h+=f("padding-right","");h+=f("padding-bottom","");h+=f("padding-left","");h+="</div></div></div></div>";var m=tdcCssEditor._getSettingsProperty("border-style",c,b());h+='<div class="tdc-property-wrap tdc-border-style tdc-dropdown-big'+d()+'" data-tdc-for="border-style">';h=h+'<div class="tdc-property-title"><span title="Css border-style" class="tdc-search-data">Border style<div title="Revert to desktop settings" class="tdc-inherit tdc-inherit-select"></div></span></div><div class="tdc-property"><select class="tdc-css-border-style" '+
(tdcSidebarPanel._getParamterDataAtts(g,k)+' name="">');h+=tdcCssEditor._generateDropdownOptions([{value:"solid",display:"Solid"},{value:"dotted",display:"Dotted"},{value:"dashed",display:"Dashed"},{value:"none",display:"None"},{value:"hidden",display:"Hidden"},{value:"double",display:"Double"},{value:"groove",display:"Groove"},{value:"ridge",display:"Ridge"},{value:"inset",display:"Inset"},{value:"outset",display:"Outset"},{value:"initial",display:"Initial"},{value:"inherit",display:"Inherit"}],
m);h+="</select></div></div>";m=a.uniqueId();var t=tdcCssEditor._getSettingsProperty("border-color","",b()),p="";n.isInherited&&(p=t,t="");h+='<div class="tdc-property-wrap tdc-property-colorpicker tdc-border-color'+d()+'" data-tdc-for="border-color">';h=h+'<div class="tdc-property-title"><span title="Css border-color" class="tdc-search-data">Border color<div title="Revert to desktop settings" class="tdc-inherit tdc-inherit-color"></div></span></div><div class="tdc-property"><div class="tdc-colorpicker-wrap"></div>'+
('<input class="tdc-css-border-color" '+tdcSidebarPanel._getParamterDataAtts(g,k)+tdcCssEditor._getDataNoValue(t)+' data-default_value="#888888" id="'+m+'" name="" type="text" '+e(p)+' value="'+t+'"/>');h+="</div></div>";m=tdcCssEditor._getSettingsProperty("border-radius","",b());t="";n.isInherited&&(t=m,m="");h+='<div class="tdc-property-wrap tdc-border-radius tdc-textfield-small'+d()+'" data-tdc-for="border-radius">';h=h+'<div class="tdc-property-title"><span title="Css border-radius" class="tdc-search-data">Border radius</span></div><div class="tdc-property"><input class="tdc-css-border-radius" '+
(tdcSidebarPanel._getParamterDataAtts(g,k)+' name="" type="text" '+e(t)+' value="'+m+'"/>');h+='</div></div><div class="tdc-sidebar-horizontal-separator tdc-property-wrap tdc-property-horizontal_separator tdc-property-separator tdc-separator-small "></div>';m=tdcCssEditor._getSettingsProperty("width","",b());t="";n.isInherited&&(t=m,m="");h+='<div class="tdc-property-wrap tdc-width tdc-textfield-big'+d()+'" data-tdc-for="width">';h=h+'<div class="tdc-property-title"><span title="Css width" class="tdc-search-data">Width</span></div><div class="tdc-property"><input class="tdc-css-width" '+
(tdcSidebarPanel._getParamterDataAtts(g,k)+' name="" type="text" '+e(t)+' value="'+m+'"/>');h+="</div></div>";m=tdcCssEditor._getSettingsProperty("height","",b());t="";n.isInherited&&(t=m,m="");h+='<div class="tdc-property-wrap tdc-height tdc-textfield-big'+d()+'" data-tdc-for="height">';h=h+'<div class="tdc-property-title"><span title="CSS height" class="tdc-search-data">Height</span></div><div class="tdc-property"><input class="tdc-css-height" '+(tdcSidebarPanel._getParamterDataAtts(g,k)+' name="" type="text" '+
e(t)+' value="'+m+'"/>');h+='</div></div><div class="tdc-sidebar-horizontal-separator tdc-property-wrap tdc-property-horizontal_separator tdc-property-separator tdc-separator-small "></div>';m=tdcCssEditor._getSettingsProperty("shadow-size","",b());t="";n.isInherited&&(t=m,m="");h+='<div class="tdc-property-wrap tdc-shadow-size tdc-textfield-small'+d()+'" data-tdc-for="shadow-size">';h=h+'<div class="tdc-property-title"><span title="Css shadow-size" class="tdc-search-data">Shadow size</span></div><div class="tdc-property"><input class="tdc-css-shadow-size" '+
(tdcSidebarPanel._getParamterDataAtts(g,k)+' name="" type="text" '+e(t)+' value="'+m+'"/>');h+="</div></div>";m=a.uniqueId();t=tdcCssEditor._getSettingsProperty("shadow-color","",b());p="";n.isInherited&&(p=t,t="");h+='<div class="tdc-property-wrap tdc-property-colorpicker tdc-shadow-color'+d()+'" data-tdc-for="shadow-color">';h=h+'<div class="tdc-property-title"><span title="Css shadow-color" class="tdc-search-data">Shadow color<div title="Revert to desktop settings" class="tdc-inherit tdc-inherit-color"></div></span></div><div class="tdc-property"><div class="tdc-colorpicker-wrap"></div>'+
('<input class="tdc-css-shadow-color" '+tdcSidebarPanel._getParamterDataAtts(g,k)+tdcCssEditor._getDataNoValue(t)+' data-default_value="#888888" id="'+m+'" name="" type="text" '+e(p)+' value="'+t+'"/>');h+="</div></div>";m=tdcCssEditor._getSettingsProperty("shadow-offset-h","",b());t="";n.isInherited&&(t=m,m="");h+='<div class="tdc-property-wrap tdc-shadow-size tdc-textfield-small'+d()+'" data-tdc-for="shadow-offset-h">';h=h+'<div class="tdc-property-title"><span title="Css shadow-offset-h" class="tdc-search-data">Shadow offset H</span></div><div class="tdc-property"><input class="tdc-css-shadow-offset-h" '+
(tdcSidebarPanel._getParamterDataAtts(g,k)+' name="" type="text" '+e(t)+' value="'+m+'"/>');h+="</div></div>";m=tdcCssEditor._getSettingsProperty("shadow-offset-v","",b());t="";n.isInherited&&(t=m,m="");h+='<div class="tdc-property-wrap tdc-shadow-size tdc-textfield-small'+d()+'" data-tdc-for="shadow-offset-v">';h=h+'<div class="tdc-property-title"><span title="Css shadow-offset-v" class="tdc-search-data">Shadow offset V</span></div><div class="tdc-property"><input class="tdc-css-shadow-offset-v" '+
(tdcSidebarPanel._getParamterDataAtts(g,k)+' name="" type="text" '+e(t)+' value="'+m+'"/>');h+='</div></div><div class="tdc-sidebar-horizontal-separator tdc-property-wrap tdc-property-horizontal_separator tdc-property-separator tdc-separator-small"></div>';m=a.uniqueId();t=tdcCssEditor._getSettingsProperty("background-color","",b());p="";n.isInherited&&(p=t,t="");h+='<div class="tdc-property-wrap tdc-property-colorpicker tdc-bg-color'+d()+'" data-tdc-for="background-color">';h=h+'<div class="tdc-property-title"><span title="Css background-color" class="tdc-search-data">Background color<div title="Revert to desktop settings" class="tdc-inherit tdc-inherit-color"></div></span></div><div class="tdc-property"><div class="tdc-colorpicker-wrap"></div>'+
('<input class="tdc-css-bg-color" '+tdcSidebarPanel._getParamterDataAtts(g,k)+tdcCssEditor._getDataNoValue(t)+' id="'+m+'" name="" type="text" '+e(p)+' value="'+t+'"/>');h+="</div></div>";tdcCssEditor._getSettingsProperty("background-image",c,b());h+='<div class="tdc-property-wrap tdc-property-attach_image'+d()+'">';h=h+'<div class="tdc-property-title"><span title="Css background-image" class="tdc-search-data">Background image<div title="Revert to desktop settings" class="tdc-inherit tdc-inherit-image"></div></span></div><div class="tdc-property"><div class="tdc-css-bg-image tdc-css-image-wrap " '+
(tdcSidebarPanel._getParamterDataAtts(g,k)+" style=\"background-image: url( '"+window.tdcAdminSettings.pluginUrl+"/assets/images/sidebar/no_img.png' )\"></div>");h+='<a class="tdc-css-image-remove tdc-hidden-button" href="#" >Remove</a></div></div>';m=tdcCssEditor._getSettingsProperty("background-style",c,b());h+='<div class="tdc-property-wrap tdc-bg-style tdc-dropdown-big'+d()+'" data-tdc-for="background-style">';h=h+'<div class="tdc-property-title"><span title="Css background-size & background-repeat" class="tdc-search-data">Background style<div title="Revert to desktop settings" class="tdc-inherit tdc-inherit-select"></div></span></div><div class="tdc-property"><select class="tdc-css-bg-style" '+
(tdcSidebarPanel._getParamterDataAtts(g,k)+' name="">');h+=tdcCssEditor._generateDropdownOptions([{value:"cover",display:"Cover"},{value:"contain",display:"Contain"},{value:"no-repeat",display:"No repeat"},{value:"repeat",display:"Repeat"}],m);h+="</select></div></div>";m=tdcCssEditor._getSettingsProperty("background-position",c,b());h+='<div class="tdc-property-wrap tdc-bg-position tdc-dropdown-big'+d()+'" data-tdc-for="background-position">';h=h+'<div class="tdc-property-title"><span title="Css background-position" class="tdc-search-data">Background position<div title="Revert to desktop settings" class="tdc-inherit tdc-inherit-select"></div></span></div><div class="tdc-property"><select class="tdc-css-bg-position" '+
(tdcSidebarPanel._getParamterDataAtts(g,k)+' name="">');h+=tdcCssEditor._generateDropdownOptions([{value:"center top",display:"Center Top"},{value:"center center",display:"Center Center"},{value:"center bottom",display:"Center Bottom"},{value:"left top",display:"Left Top"},{value:"left center",display:"Left Center"},{value:"left bottom",display:"Left Bottom"},{value:"right top",display:"Right Top"},{value:"right center",display:"Right Center"},{value:"right bottom",display:"Right Bottom"}],m);h+=
"</select></div></div>";m=tdcCssEditor._getSettingsProperty("opacity","",b());t="";n.isInherited&&(t=m,m="");h+='<div class="tdc-property-wrap tdc-opacity tdc-textfield-small'+d()+'" data-tdc-for="opacity">';h=h+'<div class="tdc-property-title"><span title="Css background-image opacity" class="tdc-search-data">Background opacity</span></div><div class="tdc-property"><input class="tdc-css-opacity" '+(tdcSidebarPanel._getParamterDataAtts(g,k)+' name="" type="text" '+e(t)+' value="'+m+'"/>');h+='</div></div><div class="tdc-sidebar-horizontal-separator tdc-property-wrap tdc-property-horizontal_separator tdc-property-separator tdc-separator-small"></div>';
m=a.uniqueId();t=tdcCssEditor._getSettingsProperty("color-1-overlay","",b());p="";n.isInherited&&(p=t,t="");h+='<div class="tdc-property-wrap tdc-property-colorpicker tdc-color-1-overlay'+d()+'" data-tdc-for="color-1-overlay">';h=h+'<div class="tdc-property-title"><span title="Css gradient color From" class="tdc-search-data">Color 1 overlay<div title="Revert to desktop settings" class="tdc-inherit tdc-inherit-color"></div></span></div><div class="tdc-property"><div class="tdc-colorpicker-wrap"></div>'+
('<input class="tdc-css-color-1-overlay" '+tdcSidebarPanel._getParamterDataAtts(g,k)+tdcCssEditor._getDataNoValue(t)+' id="'+m+'" name="" type="text" '+e(p)+' value="'+t+'"/>');h+="</div></div>";m=a.uniqueId();t=tdcCssEditor._getSettingsProperty("color-2-overlay","",b());p="";n.isInherited&&(p=t,t="");h+='<div class="tdc-property-wrap tdc-property-colorpicker tdc-color-2-overlay'+d()+'" data-tdc-for="color-2-overlay">';h=h+'<div class="tdc-property-title"><span  title="Css gradient color To" class="tdc-search-data">Color 2 overlay<div title="Revert to desktop settings" class="tdc-inherit tdc-inherit-color"></div></span></div><div class="tdc-property"><div class="tdc-colorpicker-wrap"></div>'+
('<input class="tdc-css-color-2-overlay" '+tdcSidebarPanel._getParamterDataAtts(g,k)+tdcCssEditor._getDataNoValue(t)+' id="'+m+'" name="" type="text" '+e(p)+' value="'+t+'"/>');h+="</div></div>";m=tdcCssEditor._getSettingsProperty("gradient-direction","",b());t="";n.isInherited&&(t=m,m="");h+='<div class="tdc-property-wrap tdc-opacity tdc-textfield-small'+d()+'" data-tdc-for="gradient-direction">';h=h+'<div class="tdc-property-title"><span title="Css gradient direction" class="tdc-search-data">Gradient direction</span></div><div class="tdc-property"><input class="tdc-css-gradient-direction" '+
(tdcSidebarPanel._getParamterDataAtts(g,k)+' name="" type="text" '+e(t)+' value="'+m+'"/>');h+='</div></div><div class="tdc-sidebar-horizontal-separator tdc-property-wrap tdc-property-horizontal_separator tdc-property-separator tdc-separator-small"></div>';m=tdcCssEditor._getSettingsProperty("content-h-align",c,b());h+='<div class="tdc-property-wrap tdc-bg-position tdc-dropdown-big'+d()+'" data-tdc-for="content-h-align">';h=h+'<div class="tdc-property-title"><span title="Css content horizontal align" class="tdc-search-data">H. align<div title="Revert to desktop settings" class="tdc-inherit tdc-inherit-select"></div></span></div><div class="tdc-property"><select class="tdc-css-content-h-align" '+
(tdcSidebarPanel._getParamterDataAtts(g,k)+' name="">');h+=tdcCssEditor._generateDropdownOptions([{value:"",display:"Default"},{value:"content-horiz-left",display:"Left"},{value:"content-horiz-center",display:"Center"},{value:"content-horiz-right",display:"Right"}],m);h+="</select></div></div>";"vc_row"!==k.get("tag")&&"vc_row_inner"!==k.get("tag")&&"vc_column"!==k.get("tag")&&"vc_column_inner"!==k.get("tag")&&(m=tdcCssEditor._getSettingsProperty("order","",b()),t="",n.isInherited&&(t=m,m=""),h+=
'<div class="tdc-property-wrap tdc-order tdc-textfield-small'+d()+'" data-tdc-for="order">',h=h+'<div class="tdc-property-title"><span title="Order" class="tdc-search-data">Order</span></div><div class="tdc-property"><input class="tdc-css-order" '+(tdcSidebarPanel._getParamterDataAtts(g,k)+' name="" type="text" '+e(t)+' value="'+m+'"/>'),h+="</div></div>");m=tdcCssEditor._getSettingsProperty("z-index","",b());t="";n.isInherited&&(t=m,m="");h+='<div class="tdc-property-wrap tdc-opacity tdc-textfield-small'+
d()+'" data-tdc-for="z-index">';h=h+'<div class="tdc-property-title"><span title="Z-index" class="tdc-search-data">Z-index</span></div><div class="tdc-property"><input class="tdc-css-z-index" '+(tdcSidebarPanel._getParamterDataAtts(g,k)+' name="" type="text" '+e(t)+' value="'+m+'"/>');h+="</div></div>";m=tdcCssEditor._getSettingsPropertyFromCssSettings("display",c);h+='<div class="tdc-property-wrap tdc-display tdc-dropdown-big'+d()+'" data-tdc-for="display">';h=h+'<div class="tdc-property-title"><span title="Css content horizontal align" class="tdc-search-data">Display</span></div><div class="tdc-property"><select class="tdc-css-display" '+
(tdcSidebarPanel._getParamterDataAtts(g,k)+' name="">');h+=tdcCssEditor._generateDropdownOptions([{value:"",display:"Show"},{value:"none",display:"Hidden"},{value:"inline",display:"Inline"},{value:"inline-block",display:"Inline-block"},{value:"block",display:"Block"},{value:"table",display:"Table"},{value:"inline-table",display:"Inline-table"}],m);h=h+'</select></div></div><div class="tdc-sidebar-horizontal-separator tdc-property-wrap tdc-property-horizontal_separator tdc-property-separator"></div><div class="tdc-clear-css-properties" '+
(tdcSidebarPanel._getParamterDataAtts(g,k)+' title="Clear all tab css settings">Clear CSS settings</div>');h+="</div>";tdcSidebarPanel._hook.addAction("panel_css",tdcCssEditor.callbackColorPicker);tdcSidebarPanel._hook.addAction("panel_css",function(){l(".tdc-inherit").each(function(b,e){b=l(e);e=b.closest(".tdc-property-wrap");if("all"===tdcSidebar.currentViewportSettings.name||e.hasClass(tdcCssEditor._INHERITED_CSS_CLASS))b.hide();else{var d=e.data("tdc-for");e={isInherited:!1};d=tdcCssEditor._getSettingsProperty(d,
c,e);e.isInherited?b.hide():a.isUndefined(d)||b.show()}})});return h},_getAvailableViewportSetting:function(a,c,d){if("undefined"!==typeof tdcCssEditor._currentCssSettings){var b;switch(a){case "all":"undefined"!==typeof tdcCssEditor._currentCssSettings[a]&&(b="all");break;case "landscape":case "portrait":case "phone":"undefined"!==typeof tdcCssEditor._currentCssSettings[a]?b=a:"undefined"!==typeof tdcCssEditor._currentCssSettings.all&&(b="all")}if("undefined"!==typeof b){if("undefined"!==typeof tdcCssEditor._currentCssSettings[b][c])return tdcSidebar.currentViewportSettings.name!==
b&&(d.isInherited=!0,tdcDebug.log(c)),tdcCssEditor._cleanCss(c,tdcCssEditor._currentCssSettings[b][c]);if("all"!==b)return tdcCssEditor._getAvailableViewportSetting("all",c,d)}}},_getSettingsPropertyFromCssSettings:function(a,c){var b;if("undefined"!==typeof tdcCssEditor._currentCssSettings){var e=tdcSidebar.currentViewportSettings.name;if("undefined"!==typeof tdcCssEditor._currentCssSettings[e]&&"undefined"!==typeof tdcCssEditor._currentCssSettings[e][a])return tdcSidebar.currentViewportSettings.name!==
e&&tdcDebug.log(a),tdcCssEditor._cleanCss(a,tdcCssEditor._currentCssSettings[e][a])}"undefined"===typeof b&&"undefined"!==typeof c&&(b=c);return b},_getSettingsProperty:function(a,c,d){var b;"undefined"===typeof d&&(d={isInherited:!1});"undefined"!==typeof tdcCssEditor._currentCssSettings&&(b=tdcCssEditor._getAvailableViewportSetting(tdcSidebar.currentViewportSettings.name,a,d));"undefined"===typeof b&&"undefined"!==typeof c&&(b=c);return b},_generateDropdownOptions:function(b,c,d){for(var e=[],g,
k=!1,n=0,h=0;h<b.length;h++)a.isUndefined(d)||d!==b[h].value||(n=h),g="",a.isUndefined(c)||c!==b[h].value||(g='selected="selected"',k=!0),e.push("<option "+g+' value="'+b[h].value+'">'+b[h].display+"</option>");k||(e[n]='<option selected="selected" value="'+b[n].value+'">'+b[n].display+"</option>");return e.join("")},_generateCssAttValue:function(b){var c={},d=b.find(".tdc-css-box-input-margin-top").val().trim(),f=b.find(".tdc-css-box-input-margin-right").val().trim(),g=b.find(".tdc-css-box-input-margin-bottom").val().trim(),
k=b.find(".tdc-css-box-input-margin-left").val().trim(),n=b.find(".tdc-css-box-input-border-top-width").val().trim(),h=b.find(".tdc-css-box-input-border-right-width").val().trim(),m=b.find(".tdc-css-box-input-border-bottom-width").val().trim(),l=b.find(".tdc-css-box-input-border-left-width").val().trim(),p=b.find(".tdc-css-box-input-padding-top").val().trim(),x=b.find(".tdc-css-box-input-padding-right").val().trim(),q=b.find(".tdc-css-box-input-padding-bottom").val().trim(),w=b.find(".tdc-css-box-input-padding-left").val().trim(),
u=b.find(".tdc-css-border-radius").val().trim(),A=b.find(".tdc-css-width").val().trim(),B=b.find(".tdc-css-height").val().trim(),z=b.find(".tdc-css-shadow-size").val().trim(),r=b.find(".tdc-css-shadow-offset-h").val().trim(),v=b.find(".tdc-css-shadow-offset-v").val().trim(),y=b.find(".tdc-css-opacity").val().trim(),C=b.find(".tdc-css-gradient-direction").val().trim(),E=b.find(".tdc-css-z-index").val().trim(),D="";b.find(".tdc-css-order").length&&(D=b.find(".tdc-css-order").val().trim());""!==d&&(c["margin-top"]=
d);""!==f&&(c["margin-right"]=f);""!==g&&(c["margin-bottom"]=g);""!==k&&(c["margin-left"]=k);""!==n&&(c["border-top-width"]=n);""!==h&&(c["border-right-width"]=h);""!==m&&(c["border-bottom-width"]=m);""!==l&&(c["border-left-width"]=l);""!==p&&(c["padding-top"]=p);""!==x&&(c["padding-right"]=x);""!==q&&(c["padding-bottom"]=q);""!==w&&(c["padding-left"]=w);d=b.find(".tdc-css-border-style");f=d.val().trim();""===f||d.closest(".tdc-property-wrap").hasClass(tdcCssEditor._INHERITED_CSS_CLASS)||(c["border-style"]=
f);d=b.find(".tdc-css-border-color");f=d.val().trim();""!==f?c["border-color"]=f:(d=d.data("no_value"),a.isUndefined(d)||1!==d||(c["border-color"]="no_value"));""!==u&&(c["border-radius"]=u);""!==A&&(c.width=A);""!==B&&(c.height=B);""!==z&&(c["shadow-size"]=z);u=b.find(".tdc-css-shadow-color");A=u.val().trim();""!==A?c["shadow-color"]=A:(u=u.data("no_value"),a.isUndefined(u)||1!==u||(c["shadow-color"]="no_value"));""!==r&&(c["shadow-offset-h"]=r);""!==v&&(c["shadow-offset-v"]=v);r=b.find(".tdc-css-bg-color");
v=r.val().trim();""!==v?c["background-color"]=v:(r=r.data("no_value"),a.isUndefined(r)||1!==r||(c["background-color"]="no_value"));r=b.find(".tdc-css-bg-image");r.closest(".tdc-property-wrap").hasClass(tdcCssEditor._INHERITED_CSS_CLASS)||(r=r.data("image_link"),a.isUndefined(r)||("no_value"===r?c["background-image"]="no_value":""!==r&&(c["background-image"]='url("'+r+'")')));r=b.find(".tdc-css-bg-style");v=r.val().trim();""===v||r.closest(".tdc-property-wrap").hasClass(tdcCssEditor._INHERITED_CSS_CLASS)||
(c["background-style"]=v);r=b.find(".tdc-css-bg-position");v=r.val().trim();""===v||r.closest(".tdc-property-wrap").hasClass(tdcCssEditor._INHERITED_CSS_CLASS)||(c["background-position"]=v);""!==y&&(c.opacity=y);y=b.find(".tdc-css-color-1-overlay");r=y.val().trim();""!==r?c["color-1-overlay"]=r:(y=y.data("no_value"),a.isUndefined(y)||1!==y||(c["color-1-overlay"]="no_value"));y=b.find(".tdc-css-color-2-overlay");r=y.val().trim();""!==r?c["color-2-overlay"]=r:(y=y.data("no_value"),a.isUndefined(y)||
1!==y||(c["color-2-overlay"]="no_value"));""!==C&&(c["gradient-direction"]=C);""!==D&&(c.order=D);""!==E&&(c["z-index"]=E);C=b.find(".tdc-css-content-h-align");E=C.val().trim();""===E||C.closest(".tdc-property-wrap").hasClass(tdcCssEditor._INHERITED_CSS_CLASS)||(c["content-h-align"]=E);b=b.find(".tdc-css-display");c.display=b.val().trim();a.isUndefined(tdcCssEditor._currentCssSettings)&&(tdcCssEditor._currentCssSettings={});a.isUndefined(c["border-style"])||"solid"!==c["border-style"]||("all"===tdcSidebar.currentViewportSettings.name||
a.isUndefined(tdcCssEditor._currentCssSettings.all)||a.isUndefined(tdcCssEditor._currentCssSettings.all["border-style"]))&&delete c["border-style"];a.isUndefined(c["background-style"])||"cover"!==c["background-style"]||("all"===tdcSidebar.currentViewportSettings.name||a.isUndefined(tdcCssEditor._currentCssSettings.all)||a.isUndefined(tdcCssEditor._currentCssSettings.all["background-style"]))&&delete c["background-style"];a.isUndefined(c["background-position"])||"center top"!==c["background-position"]||
("all"===tdcSidebar.currentViewportSettings.name||a.isUndefined(tdcCssEditor._currentCssSettings.all)||a.isUndefined(tdcCssEditor._currentCssSettings.all["background-position"]))&&delete c["background-position"];tdcDebug.log(c);a.isEmpty(c)?(delete tdcCssEditor._currentCssSettings[tdcSidebar.currentViewportSettings.name],delete tdcCssEditor._currentCssSettings[tdcSidebar.currentViewportSettings.name+"_max_width"],delete tdcCssEditor._currentCssSettings[tdcSidebar.currentViewportSettings.name+"_min_width"]):
(tdcCssEditor._currentCssSettings[tdcSidebar.currentViewportSettings.name]=c,a.isUndefined(tdcSidebar.currentViewportSettings.settings)||(tdcCssEditor._currentCssSettings[tdcSidebar.currentViewportSettings.name+"_max_width"]=tdcSidebar.currentViewportSettings.settings.limitTop,tdcCssEditor._currentCssSettings[tdcSidebar.currentViewportSettings.name+"_min_width"]=tdcSidebar.currentViewportSettings.settings.limitBottom));tdcDebug.log(tdcCssEditor._currentCssSettings);tdcDebug.log("JSON.stringify");
tdcDebug.log(JSON.stringify(tdcCssEditor._currentCssSettings));return a.isEmpty(tdcCssEditor._currentCssSettings)?"":window.btoa(JSON.stringify(tdcCssEditor._currentCssSettings))},_getRgba:function(a){return-1!==a.indexOf("rgb")?a:(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))?"rgb("+parseInt(a[1],16)+", "+parseInt(a[2],16)+", "+parseInt(a[3],16)+")":""}}})(jQuery,_);var tdcSidebarPanel={};
(function(l){tdcSidebarPanel={_defaultGroupName:"General",_currentBoundModel:l,$_paramSwitchWrap:l,$_paramNameSwitch:l,$_paramInfoSwitch:l,_timerInfoHelper:l,_hook:{_hooks:[],addAction:function(a,c){_.isUndefined(tdcSidebarPanel._hook._hooks[a])&&(tdcSidebarPanel._hook._hooks[a]=[]);tdcSidebarPanel._hook._hooks[a].push(c)},doAction:function(a,c){if(!_.isUndefined(tdcSidebarPanel._hook._hooks[a]))for(var b=0;b<tdcSidebarPanel._hook._hooks[a].length;b++)tdcSidebarPanel._hook._hooks[a][b](c)},removeAction:function(a){_.isUndefined(tdcSidebarPanel._hook._hooks[a])||
delete tdcSidebarPanel._hook._hooks[a]},hasCallback:function(a,c){return _.isUndefined(tdcSidebarPanel._hook._hooks[a])?!1:0<=tdcSidebarPanel._hook._hooks[a].indexOf(c)}},init:function(){var a=jQuery("body");a.on("change focus",".tdc-tab-no-design .tdc-property-dropdown:not(.tdc-row-col-dropdown):not(.tdc-innerRow-col-dropdown) select",function(a){if("focusin"===a.type||"focus"===a.type)this.oldValue=this.value;else{var b=jQuery(this);a=b.val();var c=tdcIFrameData.getModel(b.data("model_id"));b=b.data("param_name");
if("tdb_mobile_menu"===c.get("tag")&&"menu_id"===b){var d=tdcState.getHeaderTemplateId();"no_header"!==d&&(""===d&&(d=window.tdcAdminSettings.globalHeaderTemplateId),""!==d&&(d=d.toString().replace("tdb_template_",""),tdcSavePost.saveMobileMenu(d,a)))}tdcSidebarController.onUpdate(c,b,this.oldValue,a);this.oldValue=a;"block_template_id"!==b&&0!==b.indexOf("tds_")||setTimeout(function(){tdcSidebar.setSettings({$currentZone:tdcSidebar.getCurrentZone(),$currentRow:tdcSidebar.getCurrentRow(),$currentColumn:tdcSidebar.getCurrentColumn(),
$currentInnerRow:tdcSidebar.getCurrentInnerRow(),$currentInnerColumn:tdcSidebar.getCurrentInnerColumn(),$currentElement:tdcSidebar.getCurrentElement()},!0)},500)}});a.on("change focus",".tdc-tab-no-design .tdc-property-dropdown-responsive select",function(a){if("focusin"===a.type||"focus"===a.type)this.oldValue=this.value;else{a=jQuery(this);var b=a.val(),c=tdcIFrameData.getModel(a.data("model_id")),d=a.data("param_name"),f=a.attr("name"),g=a.closest(".tdc-property-responsive");b="all"===tdcSidebar.currentViewportSettings.name&&
b===a.find("option:first").val()?tdcSidebarPanel.deleteResponsiveValue(f,tdcSidebar.currentViewportSettings.name):tdcSidebarPanel.updateDropdownResponsiveValues(f,b,tdcSidebar.currentViewportSettings.name);g.removeClass("tdc-css-inherited");g.find(".tdc-inherit-select").hide();"all"!==tdcSidebar.currentViewportSettings.name&&(f=tdcSidebarPanel.getCurrentResponsiveValue(a.attr("name"),tdcSidebar.currentViewportSettings.name),g=a.closest(".tdc-property-responsive"),"undefined"===typeof f?(f=tdcSidebarPanel.getCurrentResponsiveValue(a.attr("name"),
"all"),"undefined"!==typeof f&&(a.val(""),g.addClass("tdc-css-inherited"),g.find(".tdc-inherit-select").show())):(a.val(f),g.removeClass("tdc-css-inherited"),g.find(".tdc-inherit-select").show()),g.find(".tdc-inherit-select").show());tdcSidebarController.onUpdate(c,d,this.oldValue,b)}});a.on("change focus",".tdc-tab-no-design .tdc-property-dropdown-responsive input[type=radio]",function(a){if("focusin"===a.type||"focus"===a.type)this.oldValue=this.value;else{a=jQuery(this);var b=a.val(),c=tdcIFrameData.getModel(a.data("model_id")),
d=a.data("param_name"),f=a.attr("name"),g=a.closest(".tdc-property-responsive");b="all"===tdcSidebar.currentViewportSettings.name&&b===a.find("input:first").val()?tdcSidebarPanel.deleteResponsiveValue(f,tdcSidebar.currentViewportSettings.name):tdcSidebarPanel.updateDropdownResponsiveValues(f,b,tdcSidebar.currentViewportSettings.name);g.removeClass("tdc-css-inherited");g.find(".tdc-inherit-select").hide();"all"!==tdcSidebar.currentViewportSettings.name&&(f=tdcSidebarPanel.getCurrentResponsiveValue(a.attr("name"),
tdcSidebar.currentViewportSettings.name),"undefined"===typeof f?(f=tdcSidebarPanel.getCurrentResponsiveValue(a.attr("name"),"all"),"undefined"!==typeof f&&(a.prop("checked",!1),g.find("input[type=radio]:first").prop("checked",!0),g.addClass("tdc-css-inherited"),g.find(".tdc-inherit-select").show())):(g.find("input[type=radio]").prop("checked",!1),g.find('input[type=radio][value="'+f+'"]').prop("checked",!0),g.removeClass("tdc-css-inherited"),g.find(".tdc-inherit-select").show()),g.find(".tdc-inherit-select").show());
tdcSidebarController.onUpdate(c,d,this.oldValue,b)}});a.on("keyup focus paste cut",".tdc-tab-no-design .tdc-property-textfield input",function(a){if("focusin"===a.type||this.oldValue===this.value)this.oldValue=this.value;else{var b=jQuery(this).val(),c=tdcIFrameData.getModel(jQuery(this).data("model_id"));if(0<=b.indexOf("]")||0<=this.oldValue.indexOf("]"))this.oldValue="td_encval"+window.btoa(this.oldValue),b="td_encval"+window.btoa(b);"cut"===a.type&&(b="");tdcSidebarController.onUpdate(c,jQuery(this).data("param_name"),
this.oldValue,_.escape(b));this.oldValue=b}});a.on("keyup focus paste cut",".tdc-tab-no-design .tdc-property-textfield-responsive input",function(a){if("focusin"===a.type||this.oldValue===this.value)this.oldValue=this.value;else{var b=jQuery(this),c=b.val(),d=tdcIFrameData.getModel(b.data("model_id"));"cut"===a.type&&(c="");if(this.oldValue!==c){var f=b.attr("name");a=b.closest(".tdc-property-responsive");f=tdcSidebarPanel.updateTextfieldResponsiveValues(f,c,tdcSidebar.currentViewportSettings.name);
var g="";_.isUndefined(b.data("placeholder"))||(g=b.data("placeholder"));b.attr("placeholder",g);a.removeClass("tdc-css-inherited");""===c&&"all"!==tdcSidebar.currentViewportSettings.name&&(c=tdcSidebarPanel.getCurrentResponsiveValue(b.attr("name"),tdcSidebar.currentViewportSettings.name),"undefined"===typeof c?(c=tdcSidebarPanel.getCurrentResponsiveValue(b.attr("name"),"all"),"undefined"!==typeof c&&(b.val(""),b.attr("placeholder",c),a.addClass("tdc-css-inherited"),a.find(".tdc-inherit-select").show())):
(b.val(c),a.removeClass("tdc-css-inherited"),a.find(".tdc-inherit-select").show()),a.find(".tdc-inherit-select").show());c=f;tdcSidebarController.onUpdate(d,jQuery(this).data("param_name"),this.oldValue,_.escape(c));"all"===tdcSidebar.currentViewportSettings.name&&(this.oldValue=b.val())}}});a.on("keyup focus change input",".tdc-tab-no-design .tdc-property-range input",function(a){var b=jQuery(this),c=this;if("range"===b.attr("type"))b.next('input[type="text"]').val(b.val());else if("text"===b.attr("type")){c=
b.val().trim();var d=b.data("default_value");""!==c||_.isUndefined(d)||""===d||(c=d,b.val(c));b.prev('input[type="range"]').val(c);b=b.prev('input[type="range"]');c=b.get(0)}b=c;"focusin"===a.type?b.oldValue=b.value:(c=jQuery(b).val(),d=tdcIFrameData.getModel(jQuery(b).data("model_id")),"cut"===a.type&&(c=""),tdcSidebarController.onUpdate(d,jQuery(b).data("param_name"),b.oldValue,_.escape(c)),b.oldValue=c)});a.on("keyup change input",".tdc-tab-no-design .tdc-property-range-responsive input",function(a){a=
jQuery(this);var b=this,c=a.closest(".tdc-property-responsive");c.removeClass("tdc-css-inherited");if("range"===a.attr("type")){var d=a.val();a.next('input[type="text"]').val(d);a.data("data-to-save",tdcSidebarPanel.updateTextfieldResponsiveValues(a.attr("name"),d,tdcSidebar.currentViewportSettings.name))}else if("text"===a.attr("type")){d=a.val().trim();b=a.prev('input[type="range"]');var f=a.data("default_value");if("all"===tdcSidebar.currentViewportSettings.name)""!==d||_.isUndefined(f)||""===
f||(d=f,a.val(d));else if(""===d){var g=tdcSidebarPanel.getCurrentResponsiveValue(b.attr("name"),"all");"undefined"===typeof g?_.isUndefined(f)||""===f||(d=f,a.val(d)):(a.val(""),a.attr("placeholder",g))}b.data("data-to-save",tdcSidebarPanel.updateTextfieldResponsiveValues(b.attr("name"),d,tdcSidebar.currentViewportSettings.name));"undefined"===typeof g?b.val(d):(b.val(g),c.addClass("tdc-css-inherited"));b=a.prev('input[type="range"]').get(0)}g=b;c=jQuery(g);a=c.data("data-to-save");c=tdcIFrameData.getModel(c.data("model_id"));
g.oldValue!==a&&(tdcSidebarController.onUpdate(c,jQuery(g).data("param_name"),g.oldValue,_.escape(a)),g.oldValue=a)});a.on("keyup focus change input",".tdc-tab-no-design .tdc-property-range_multiple input",function(a){var b=jQuery(this),c=this;if("range"===b.attr("type")){var d=b.closest(".tdc-property").find('input[type="radio"]:checked');b.closest(".tdc-property").find('input[type="text"]').val(b.val());d.data("last_value",b.val())}else if("text"===b.attr("type")){c=b.closest(".tdc-property").find('input[type="range"]');
d=b.closest(".tdc-property").find('input[type="radio"]:checked');var f=d.data("default_value"),g=b.val().trim();""!==g||_.isUndefined(f)||""===f||(g=f,b.val(g));c.val(g);d.data("last_value",g);c=c.get(0)}else if("radio"===b.attr("type")){c=b.closest(".tdc-property").find('input[type="range"]');d=b.closest(".tdc-property").find('input[type="text"]');b.closest(".tdc-property").find('input[type="radio"]:checked');g=b.data("last_value");f=b.data("default_value");var k=b.data("unit");b=c.data("min_"+k);
var n=c.data("max_"+k);k=c.data("step_"+k);c.get(0).min=b;c.get(0).max=n;c.get(0).step=k;""===g?(d.val(f),c.val(f)):(d.val(g),c.val(g));c=c.get(0)}f="";d=jQuery(c).parent().find('input[type="radio"]:checked');d.length&&(f=jQuery(d[0]).data("unit_value"));"focusin"===a.type?c.oldValue=c.value+f:(a=c.value+f,f=tdcIFrameData.getModel(jQuery(c).data("model_id")),tdcSidebarController.onUpdate(f,jQuery(c).data("param_name"),c.oldValue,_.escape(a)),c.oldValue=a)});a.on("keyup change input",".tdc-tab-no-design .tdc-property-range_multiple-responsive input",
function(a){var b=jQuery(this),c=b.closest(".tdc-property-responsive"),d=c.find('input[type="range"]'),f=c.find('input[type="radio"]:checked'),g=c.find('input[type="text"]'),k=d.get(0),n="",h=f.data("default_value"),m=tdcIFrameData.getModel(d.data("model_id")),l=d.data("param_name"),p=window.tdcAdminSettings.mappedShortcodes[m.attributes.tag],x=m="";var q=[];for(var w=0;w<p.params.length;w++)if(l===p.params[w].param_name){w=p.params[w].tdc_values;for(var u in w)w.hasOwnProperty(u)&&(q.push(w[u].unit),
""===m||""===x)&&(m=w[u].value,x=w[u].unit);break}f.length&&(n=f.data("unit_value"));if("range"===b.attr("type"))q=d.val(),g.val(q),f.data("last_value",q),g.val(q),d.data("data-to-save",tdcSidebarPanel.updateTextfieldResponsiveValues(d.attr("name"),q+n,tdcSidebar.currentViewportSettings.name)),c.removeClass("tdc-css-inherited");else if("text"===b.attr("type")){if("input"===a.type||"change"===a.type)return;c.removeClass("tdc-css-inherited");q=g.val().trim();if("all"===tdcSidebar.currentViewportSettings.name)""!==
q||_.isUndefined(h)||""===h?(d.val(q),f.data("last_value",q),d.data("data-to-save",tdcSidebarPanel.updateTextfieldResponsiveValues(d.attr("name"),q+n,tdcSidebar.currentViewportSettings.name))):(d.data("data-to-save",tdcSidebarPanel.deleteResponsiveValue("tdc-param-"+l,tdcSidebar.currentViewportSettings.name)),d.data("range_value",m),d.data("range_unit",x),d.val(m),n=c.find('input[type="radio"][data-unit_value="'+x+'"]'),p=n.data("unit"),u=d.data("min_"+p),f=d.data("max_"+p),p=d.data("step_"+p),n.prop("checked",
!0),k.min=u,k.max=f,k.step=p,k.value=m,n.data("last_value",m),g.val(m));else if(""===q)if(n=tdcSidebarPanel.getCurrentResponsiveValue(d.attr("name"),"all"),"undefined"===typeof n)d.data("data-to-save",tdcSidebarPanel.deleteResponsiveValue("tdc-param-"+l,tdcSidebar.currentViewportSettings.name)),d.data("range_value",m),d.data("range_unit",x),d.val(m),n=c.find('input[type="radio"][data-unit_value="'+x+'"]'),p=n.data("unit"),u=d.data("min_"+p),f=d.data("max_"+p),p=d.data("step_"+p),n.prop("checked",
!0),k.min=u,k.max=f,k.step=p,k.value=m,n.data("last_value",m),g.val(m),c.addClass("tdc-css-inherited");else for(w=0;w<p.params.length;w++){if(l===p.params[w].param_name){q=[];g=[];w=p.params[w].tdc_values;for(u in w)w.hasOwnProperty(u)&&q.push(w[u].unit);for(w=0;w<q.length&&!(g=n.split(q[w]),1<g.length);w++);g.length&&(m=g[0],x=q[w],d.data("range_value",m),d.data("range_unit",x),n=c.find('input[type="radio"][data-unit_value="'+x+'"]'),p=n.data("unit"),u=d.data("min_"+p),f=d.data("max_"+p),p=d.data("step_"+
p),n.prop("checked",!0),k.min=u,k.max=f,k.step=p,k.value=m,n.data("last_value",m),c.find('input[type="text"]').val(m));d.data("data-to-save",tdcSidebarPanel.deleteResponsiveValue("tdc-param-"+l,tdcSidebar.currentViewportSettings.name));c.addClass("tdc-css-inherited");break}}else d.val(q),f.data("last_value",q),d.data("data-to-save",tdcSidebarPanel.updateTextfieldResponsiveValues(d.attr("name"),q+n,tdcSidebar.currentViewportSettings.name))}else if("radio"===b.attr("type")){if("input"===a.type)return;
l=f.data("last_value");p=f.data("unit");u=d.data("min_"+p);f=d.data("max_"+p);p=d.data("step_"+p);k.min=u;k.max=f;k.step=p;""===l?(g.val(h),d.val(h),q=h):(g.val(l),d.val(l),q=l);d.data("data-to-save",tdcSidebarPanel.updateTextfieldResponsiveValues(d.attr("name"),q+n,tdcSidebar.currentViewportSettings.name));c.removeClass("tdc-css-inherited")}n="";c=jQuery(k).parent().find('input[type="radio"]:checked');c.length&&(n=jQuery(c[0]).data("unit_value"));"focusin"===a.type?k.oldValue=k.value+n:(c=jQuery(k),
a=c.data("data-to-save"),m=tdcIFrameData.getModel(c.data("model_id")),k.oldValue!==a&&(tdcSidebarController.onUpdate(m,jQuery(k).data("param_name"),k.oldValue,_.escape(a)),k.oldValue=a))});a.on("focus change",".tdc-tab-no-design .tdc-property-checkbox input",function(a){if("focusin"===a.type)this.oldValue=this.value;else{a=jQuery(this);var b=a.val();a.is(":checked")||(b="");var c=tdcIFrameData.getModel(a.data("model_id"));tdcSidebarController.onUpdate(c,a.data("param_name"),this.oldValue,b);this.oldValue=
b}});a.on("focus change",".tdc-tab-no-design .tdc-property-checkbox-responsive input",function(a){if("focusin"===a.type)this.oldValue=this.value;else{a=jQuery(this);var b=a.val(),c=tdcIFrameData.getModel(a.data("model_id")),d=a.data("param_name");a.is(":checked")||(b="");var f=a.attr("name"),g=a.closest(".tdc-property-responsive");b="all"===tdcSidebar.currentViewportSettings.name&&""===b?tdcSidebarPanel.deleteResponsiveValue(f,tdcSidebar.currentViewportSettings.name):tdcSidebarPanel.updateCheckboxResponsiveValues(f,
b,tdcSidebar.currentViewportSettings.name);g.removeClass("tdc-css-inherited");g.find(".tdc-inherit-checkbox").hide();"all"!==tdcSidebar.currentViewportSettings.name&&(f=tdcSidebarPanel.getCurrentResponsiveValue(a.attr("name"),tdcSidebar.currentViewportSettings.name),g=a.closest(".tdc-property-responsive"),"undefined"===typeof f?(f=tdcSidebarPanel.getCurrentResponsiveValue(a.attr("name"),"all"),"undefined"!==typeof f&&(g.addClass("tdc-css-inherited"),g.find(".tdc-inherit-checkbox").show())):(g.removeClass("tdc-css-inherited"),
g.find(".tdc-inherit-checkbox").show()),g.find(".tdc-inherit-checkbox").show());tdcSidebarController.onUpdate(c,d,this.oldValue,b);this.oldValue=b}});a.on("click",".tdc-tab-no-design .tdc-image-wrap",tdcSidebarPanel.tdcImageWrapHandler);a.on("click",".tdc-tab-no-design .tdc-image-remove",tdcSidebarPanel.tdcImageRemoveHandler);a.on("click",".tdc-tab-no-design .tdc-icon-wrap",tdcSidebarPanel.tdcIconWrapHandler);a.on("click",".tdc-tab-no-design .tdc-icon-remove",tdcSidebarPanel.tdcIconRemoveHandler);
a.on("click",".tdc-tab-no-design .tdc-inherit-select",tdcSidebarPanel.tdcInheritSelectHandler);a.on("click",".tdc-tab-no-design .tdc-inherit-checkbox",tdcSidebarPanel.tdcInheritCheckboxHandler);a.on("click",".tdc-icon-selector-content > span",function(a){a=jQuery("#tdc-icon-selector");a.length||(a=tdcSidebar.buildIconSelector());a.find(".selected").removeClass("selected");var b=jQuery(this),c=b.data("font_class"),d=tdcIFrameData.getModel(a.data("model_id"));b.addClass("selected");var f=a.prev(".tdc-property-wrap"),
g=f.find(".tdc-icon-wrap");g.attr("data-selected_icon",c);g.html(b.html());f.find(".tdc-icon-remove").removeClass("tdc-hidden-button");tdcSidebarController.onUpdate(d,a.data("param_name"),"",c)});a.on("change","#tdc-icon-selector .tdc-icon-selector-lib",function(){var a=jQuery("#tdc-icon-selector");a.length||(a=tdcSidebar.buildIconSelector());var b=jQuery(this).val(),e=a.find(".tdc-icon-selector-filter");a.find(".tdc-icon-selector-content").children(".tdc-font-separator").each(function(){var a=jQuery(this),
c=a.data("font_id");""===b||b===c?(a.show(),a.nextAll("span").each(function(){var a=jQuery(this),b=a.data("font_class"),c=e.val().trim();""!==c&&-1===b.indexOf(c)?a.hide():a.show()})):(a.hide(),a.nextAll("span").hide())})});a.on("tdc_wm_custom_svg_icons_update","#tdc-icon-selector",function(a,b,e){a=jQuery(this);var c=a.find('.tdc-font-separator[data-font_id="custom_svg_icons"]'),f=jQuery('.tdc-icon-wrap[data-selected_icon="td-icon-'+e.id+'"]');"new"===b&&c.after('<span class="td-icon-svg" title="Gradient color options are not available for this icon" data-font_class="td-icon-'+
e.id+'">'+atob(e.code)+"</span>");"update"===b&&(a.find('.td-icon-svg[data-font_class="td-icon-'+e.id+'"]').html(atob(e.code)),f.length&&f.html(atob(e.code)));"delete"===b&&(a.find('.td-icon-svg[data-font_class="td-icon-'+e.id+'"]').remove(),f.length&&f.html(""))});a.on("click",".tdc-tab-no-design .tdc-gradient-wrap",function(a){a=jQuery("#tdc-gradient");a.length||(a=tdcSidebar.buildGradient());var b=jQuery(this),c=b.closest(".tdc-property-wrap");b=b.next("input").val();a.toggle();c.after(a);c.next().find(".wp-picker-container").find("input.wp-color-picker").tdGradientColorPicker("open_gradient",
b)});a.on("click",".tdc-colorpicker-wrap",function(a){tdcSidebarPanel.showHideTdcPalette.call(this,a)});a.on("click",".tdc-property-editor_css .tdc-property-title",function(a){var b=jQuery(this),c=b.data("status");l!==typeof c&&"ready"===c?tdcSidebarPanel.showHideTdcCssEditor.call(this,a):b.data("open",!0)});a.on("change focus",".tdc-tab-no-design .tdc-property-woo_search_version select",function(a){a=jQuery(this).val();var b=jQuery(".tdc-woos-dropdown"),c=jQuery(".tdc-woos-regular");""===a?(b.show(),
c.hide()):"regular"===a&&(b.hide(),c.show())});a.on("click",".tdc-property-flex_layout label",function(a){a=jQuery(this);var b=jQuery(".tdc-property-flex_horiz_align"),c=jQuery(".tdc-property-flex_vert_align"),d=jQuery(".tdc-property-flex_layout_reverse");"Row"===a.attr("title")?(b.hasClass("tdc-flex-row-align-rev")||b.addClass("tdc-flex-row-align-rev"),c.hasClass("tdc-flex-row-align-rev")||c.addClass("tdc-flex-row-align-rev"),d.find("input").is(":checked")&&(b.hasClass("tdc-flex-row-rev-align-rev")||
b.addClass("tdc-flex-row-rev-align-rev"))):(b.hasClass("tdc-flex-row-align-rev")&&b.removeClass("tdc-flex-row-align-rev"),c.hasClass("tdc-flex-row-align-rev")&&c.removeClass("tdc-flex-row-align-rev"),b.hasClass("tdc-flex-row-rev-align-rev")&&b.removeClass("tdc-flex-row-rev-align-rev"))});a.on("change",".tdc-property-flex_layout_reverse input",function(a){a=jQuery(this);var b=jQuery(".tdc-property-flex_layout .tdc-property-input-radio:checked"),c=jQuery(".tdc-property-flex_horiz_align");"column"===
b.val()&&(a.is(":checked")?c.hasClass("tdc-flex-row-rev-align-rev")||c.addClass("tdc-flex-row-rev-align-rev"):c.hasClass("tdc-flex-row-rev-align-rev")&&c.removeClass("tdc-flex-row-rev-align-rev"))});a.on({mouseenter:function(){clearTimeout(tdcSidebarPanel._timerInfoHelper);tdcSidebarPanel._timerInfoHelper=setTimeout(function(a){var b=jQuery(window).height(),c=a.parents(".tdc-property-wrap");if(a.hasClass("tdc-sidebar-shadow-title")||a.hasClass("tdc-sidebar-font-title"))c=a;a=c.offset().top;var d=
c.data("info-img"),f="",g=jQuery("#tdc-property-info").find(".tdc-property-info-inner");"undefined"!==typeof c.data("info-descr")&&""!==c.data("info-descr")&&(f='<div class="tdc-property-info-descr">'+c.data("info-descr")+"</div>");g.html('<div class="tdc-property-info-img"><img src="'+d+'" /></div>'+f);c=jQuery("#tdc-property-info");d=c.outerHeight();a+d>=b?(b-=d,c.css("top",b),c.find(".tdc-property-info-arrow").css("top",a-b)):c.css("top",a);c.addClass("tdc-property-info-visible")},200,jQuery(this))},
mouseleave:function(){clearTimeout(tdcSidebarPanel._timerInfoHelper);var a=jQuery("#tdc-property-info");a.hasClass("tdc-property-info-visible")&&(a.removeClass("tdc-property-info-visible"),a.css("top","auto"),a.find(".tdc-property-info-arrow").css("top","auto"),a.find(".tdc-property-info-inner").html(""))}},"#tdc-sidebar.tdc-param-info-active .tdc-property-wrap[data-info-img] .tdc-property-title, #tdc-sidebar.tdc-param-info-active .tdc-sidebar-shadow-title[data-info-img], #tdc-sidebar.tdc-param-info-active .tdc-sidebar-font-title[data-info-img]");
a.on("keyup",".tdc-property-wrap[data-enable-params] textarea,.tdc-property-wrap[data-enable-params] input[type=text]",function(a){tdcSidebarPanel.toggleEnableParamsFromText(jQuery(this))});a.on("change",".tdc-property-wrap[data-enable-params] select",function(a){tdcSidebarPanel.toggleEnableParamsFromSelect(jQuery(this))});a.on("change",".tdc-property-wrap[data-disable-params] select",function(a){tdcSidebarPanel.toggleDisableParamsFromSelect(jQuery(this))});a.on("change",".tdc-property-wrap[data-enable-params] input[type=checkbox]",
function(a){tdcSidebarPanel.toggleEnableParamsFromCheckbox(jQuery(this))});a.on("change",".tdc-list-menu-display select",function(){tdcSidebarPanel.toggleEnableListMenuDepthParam(jQuery(this))});a.on("change",".tdc-gallery-source select",function(){tdcSidebarPanel.toggleEnableGalleryACFfieldParam(jQuery(this))});a.on("change",'.tdc-ml-dropdown-only input[type="checkbox"]',function(){tdcSidebarPanel.toggleEnableTDSMenuLoginDrodownOnlyParams(jQuery(this))});a.on("change",'.tdc-fs-enable-post-create input[type="checkbox"]',
function(){var a=jQuery('.tdc-fs-link-post-toggle input[type="checkbox"]');a.length&&tdcSidebarPanel.toggleEnableFSLinkPostParams(a)});a.on("change",'.tdc-fs-link-post-toggle input[type="checkbox"]',function(){tdcSidebarPanel.toggleEnableFSLinkPostParams(jQuery(this))});a.on("change",".tdc-block-sort select",function(){tdcSidebarPanel.toggleEnableBlockSortParams(jQuery(this))});a.on("mousedown",function(a){var b=jQuery("#tdc-sidebar"),c=jQuery("#tdc-icon-selector"),d=jQuery("#tdc-gradient"),f=jQuery("#tdc-palette"),
g=jQuery("#tdc-font-list"),k=jQuery(".tdc-preset-values-list");c.length?c.get(0).contains(a.target)||(c.hide(),b.after(c)):c=tdcSidebar.buildIconSelector();d.length?d.get(0).contains(a.target)||(c=jQuery(a.target),c.hasClass("tdc-gradient-wrap")||(d.hide(),b.after(d))):d=tdcSidebar.buildGradient();f.length?f.get(0).contains(a.target)||(c=jQuery(a.target),c.hasClass("tdc-colorpicker-wrap")||(f.hide(),b.after(f),f.find("input.wp-color-picker").tdPaletteColorPicker("save_color"))):f=tdcSidebar.buildPalette();
g.length&&!g.get(0).contains(a.target)&&(g.hide(),b.after(g));!k.length||k.get(0).contains(a.target)||jQuery(".tdc-preset-values").get(0).contains(a.target)?k.is(":visible")&&jQuery(".tdc-preset-values").get(0).contains(a.target)&&setTimeout(function(){tdcSidebar.setSettings({$currentZone:tdcSidebar.getCurrentZone(),$currentRow:tdcSidebar.getCurrentRow(),$currentColumn:tdcSidebar.getCurrentColumn(),$currentInnerRow:tdcSidebar.getCurrentInnerRow(),$currentInnerColumn:tdcSidebar.getCurrentInnerColumn(),
$currentElement:tdcSidebar.getCurrentElement()},!0)},100):k.is(":visible")&&(k.hide(),b=jQuery(a.target),jQuery(".tdc-top-buttons").get(0).contains(a.target)||b.hasClass("tdc-top-buttons")||jQuery(".tdc-sidebar-bottom").get(0).contains(a.target)||b.hasClass("tdc-sidebar-bottom")||jQuery(".tdc-current-element-head").get(0).contains(a.target)||b.hasClass("tdc-current-element-head")?jQuery(".tdc-current-element-head").get(0).contains(a.target)||b.hasClass("tdc-current-element-head")?(tdcSidebar.setSettings({$currentZone:tdcSidebar.getCurrentZone(),
$currentRow:tdcSidebar.getCurrentRow(),$currentColumn:tdcSidebar.getCurrentColumn(),$currentInnerRow:tdcSidebar.getCurrentInnerRow(),$currentInnerColumn:tdcSidebar.getCurrentInnerColumn(),$currentElement:tdcSidebar.getCurrentElement()},!0),jQuery(".tdc-current-element-head").trigger(a)):tdcSidebarPanel.clearPanel():setTimeout(function(){tdcSidebar.setSettings({$currentZone:tdcSidebar.getCurrentZone(),$currentRow:tdcSidebar.getCurrentRow(),$currentColumn:tdcSidebar.getCurrentColumn(),$currentInnerRow:tdcSidebar.getCurrentInnerRow(),
$currentInnerColumn:tdcSidebar.getCurrentInnerColumn(),$currentElement:tdcSidebar.getCurrentElement()},!0)},100))});a.on("keyup focus paste cut change","input.tdc-icon-selector-filter",function(a){a=jQuery("#tdc-icon-selector");a.length||(a=tdcSidebar.buildIconSelector());var b=this.value.trim();a.find(".tdc-icon-selector-content").find(".tdc-font-separator:visible").each(function(){jQuery(this).nextAll("span").each(function(){var a=jQuery(this);-1===a.data("font_class").indexOf(b)?a.hide():a.show()})})});
a.on("change keyup focus",".tdc-tab-no-design .tdc-property-colorpicker input",function(a){if("focusin"===a.type)this.oldValue=this.value;else{a=jQuery(this).val();var b=tdcIFrameData.getModel(jQuery(this).data("model_id"));tdcSidebarController.onUpdate(b,jQuery(this).data("param_name"),this.oldValue,a);this.oldValue=a}});a.on("change",".tdc-tab-no-design .tdc-property-gradient input",function(a){a=jQuery(this).val();var b=tdcIFrameData.getModel(jQuery(this).data("model_id"));tdcSidebarController.onUpdate(b,
jQuery(this).data("param_name"),this.oldValue,a);this.oldValue=a});a.on("change",".tdc-tab-no-design .tdc-row-col-dropdown input.tdc-property-input-radio",function(a){"undefined"!==typeof tdcSidebarPanel.timerChangingColumns&&clearTimeout(tdcSidebarPanel.timerChangingColumns);var b=jQuery(this);tdcSidebarPanel.timerChangingColumns=setTimeout(function(){var a=b.val(),c=tdcSidebar.getCurrentRow().data("model_id");c=tdcIFrameData.getModel(c);var f=c.get("childCollection");this.oldValue="11";_.isUndefined(f)||
(f=tdcIFrameData.getChildCollectionWidths(f),_.isUndefined(f)||(this.oldValue=f));"11"===this.oldValue&&("23_13"===a||"13_23"===a||"13_13_13"===a)||"23_13"===this.oldValue&&("11"===a||"13_23"===a||"13_13_13"===a)||"13_23"===this.oldValue&&("11"===a||"23_13"===a||"13_13_13"===a)||"13_13_13"===this.oldValue&&("11"===a||"23_13"===a||"13_23"===a)?(tdcIFrameData.changeRowModel(c,this.oldValue,a),c.getShortcodeRender(1,null,!0)):this.oldValue!==a&&(tdcIFrameData.changeFluidStructureModel(c,this.oldValue,
a),c.getShortcodeRender(1,null,!0));this.oldValue=a},300)});a.on("change",".tdc-tab-no-design .tdc-property-dropdown.tdc-add-class input.tdc-property-input-radio",function(a){if("focusin"===a.type||"focus"===a.type)this.oldValue=this.value;else{a=jQuery(this);var b=a.val(),c=tdcIFrameData.getModel(a.data("model_id"));tdcSidebarController.onUpdate(c,a.data("param_name"),this.oldValue,b);this.oldValue=b}});a.on("change focus",".tdc-tab-no-design .tdc-innerRow-col-dropdown select",function(a){if("focusin"===
a.type||"focus"===a.type)this.oldValue=this.value;else{a=jQuery(this).val();var b=tdcSidebar._$currentInnerRow.data("model_id");b=tdcIFrameData.getModel(b);tdcIFrameData.changeInnerRowModel(b,this.oldValue,a);b.getShortcodeRender(tdcIFrameData.getColumnNumber(b),null,!0);this.oldValue=a}});a.on("change",".tdc-tab-no-design .tdc-innerRow-col-dropdown input.tdc-property-input-radio",function(a){"undefined"!==typeof tdcSidebarPanel.timerChangingInnerColumns&&clearTimeout(tdcSidebarPanel.timerChangingInnerColumns);
var b=jQuery(this);tdcSidebarPanel.timerChangingInnerColumns=setTimeout(function(){var a=b.val(),c=tdcSidebar._$currentInnerRow.data("model_id");c=tdcIFrameData.getModel(c);var f=c.get("childCollection");this.oldValue="11";_.isUndefined(f)||(f=tdcIFrameData.getChildCollectionWidths(f),_.isUndefined(f)||(this.oldValue=f));tdcIFrameData.changeInnerRowModel(c,this.oldValue,a);c.getShortcodeRender(tdcIFrameData.getColumnNumber(c),null,!0);this.oldValue=a},300)});a.on("change focus",".tdc-tab-no-design .tdc-widget-sidebar-dropdown select",
function(a){if("focusin"===a.type||"focus"===a.type)this.oldValue=this.value;else{a=jQuery(this).val();var b=tdcIFrameData.getModel(jQuery(this).data("model_id"));tdcSidebarController.onUpdate(b,jQuery(this).data("param_name"),this.oldValue,a);this.oldValue=a}});a.on("click",".tdc-tab-no-design .tdc-open-wpeditor",function(a){a.preventDefault();var b=jQuery(this);a=jQuery("#tdc-wpeditor");var c=a.children(".content"),d=b.data("mapped_parameter_name");b=b.data("model_id");var f=tdcIFrameData.getModel(b).get("parentModel").get("attrs"),
g="tdc-three-column";if(_.has(f,"width"))switch(f.width){case "1/3":g="tdc-one-column";break;case "2/3":g="tdc-two-column"}c.addClass("tdc-dropped-wpeditor");c.html('<iframe id="tdc-iframe-wpeditor" class="'+g+'" src="'+window.tdcAdminSettings.pluginUrl+"/includes/wpeditor.php?wp_path="+window.tdcAdminSettings.ABSPATH+'" scrolling="auto" style="width: 100%; height: 100%" data-model_id="'+b+'" data-mapped_parameter_name="'+d+'"></iframe>');a.show();tdcWindowFrame.setWindowFrame(a)});a.on("click","#tdc-wpeditor .tdc-iframe-close-button",
function(a){a.preventDefault();jQuery("#tdc-wpeditor").hide()});a.on("click","#tdc-zone .tdc-iframe-close-button",function(a){a.preventDefault();jQuery("#tdc-zone").hide()});a.on("click",".tdc-sidebar-shortcode-row",function(a){a=jQuery(a.currentTarget).data("model_id");a=tdcIFrameData.getModel(a);var b={error:l,getShortcode:""};_.isUndefined(a)||tdcIFrameData._checkModelData(a,b);_.isUndefined(b.getShortcode)||console.log(b.getShortcode)});a.on("click",".tdc-sidebar-current-styles-settings",function(a){a=
tdcSidebarPanel.getCurrentStyleSettings(a);if(!_.isUndefined(a)){var b="",c;for(c in a)b+='"'+c+'" => "'+a[c]+'",\n';console.log(b)}});a.on("click",".tdc-sidebar-font-reset",function(a){tdConfirm.modal({caption:"Clear Font Settings",htmlInfoContent:"This will clear all values for this font group settings.",textYes:"Yes",objectContext:this,callbackYes:function(){tb_remove();var a=jQuery(this),c=a.data("model_id"),d=tdcIFrameData.getModel(c),f=d.get("attrs");f=_.clone(f);for(var g="font-family font-size font-line-height font-style font-weight font-transform font-spacing".split(" "),
k="",n=0;n<g.length;n++){var h=a.closest(".tdc-font-manager-wrap").nextAll(".tdc-"+g[n]+":first");if(h.length){var m=h.find('[data-model_id="'+c+'"]');m.length&&(m.val(""),m.data("responsive",""),h.removeClass("tdc-css-inherited"),k=h.find(".tdc-inherit"),k.length&&k.hide(),k=m.data("placeholder"),"undefined"!==typeof k&&m.attr("placeholder",k),k=m.data("param_name"),delete f[k],m=m.attr("name"),tdcSidebarPanel.deleteResponsiveValues(m))}}d.set("attrs",f);tdcSidebarController.onUpdate(d,k,"","")}})});
a.on("click",".tdc-sidebar-font-save",function(a){a=jQuery(this);var b=a.data("model_id");b=tdcIFrameData.getModel(b).get("attrs");var c=a.data("param_name").replace("font_settings",""),d="font_family font_size font_line_height font_style font_weight font_transform font_spacing".split(" "),f={};_.each(b,function(a,b,e){if(0===b.indexOf(c))for(e=0;e<d.length;e++)if(0<b.indexOf(d[e])){f[d[e]]=a;break}});_.isEmpty(f)||tdConfirm.modal({caption:"Saving Font Settings",htmlInfoContent:function(){setTimeout(function(){jQuery("#TB_ajaxContent").find("input").focus()},
100);return'<label>Font Name: </label><input type="text" autofocus><div class="info"></div>'},textYes:"Save",textNo:"Cancel",callbackYes:function(){var a=jQuery("#TB_ajaxContent"),b=a.find(".info");a=a.find("input").val().trim();if(""===a)b.html("Please enter a font name");else{if("undefined"===typeof window.tdcAdminSettings.tdcSavings||""===window.tdcAdminSettings.tdcSavings)window.tdcAdminSettings.tdcSavings={};"undefined"===typeof window.tdcAdminSettings.tdcSavings.fonts&&(window.tdcAdminSettings.tdcSavings.fonts=
[]);-1===_.findIndex(window.tdcAdminSettings.tdcSavings.fonts,{name:a})?(b.html("Saving..."),window.tdcAdminSettings.tdcSavings.fonts.push({name:a,value:window.btoa(JSON.stringify(f))}),tdcUtil.updateTdcSavings(window,function(){jQuery("#TB_ajaxContent").find(".info").html("Font has been saved!");setTimeout(function(){tb_remove()},500)})):b.html("Font name already exists! Choose another one")}}})});a.on("click",".tdc-sidebar-font-load",function(){var a=jQuery(this),b=a.closest(".tdc-property-wrap"),
e=a.data("model_id"),d=a.data("param_name");if(""!==window.tdcAdminSettings.tdcSavings&&("undefined"!==typeof window.tdcAdminSettings.tdcSavings.fonts||"undefined"!==typeof window.tdcAdminSettings.tdcSavings.recentFonts)){var f=jQuery("#tdc-font-list");f.length||(f=tdcSidebar.buildFontList(e,d));f.html("");"undefined"!==typeof window.tdcAdminSettings.tdcSavings.fonts&&(jQuery('<div class="tdc-font-list-header"><span>Saved fonts</span></div>').appendTo(f),_.map(window.tdcAdminSettings.tdcSavings.fonts,
function(a){jQuery('<div class="tdc-font-settings" data-value="'+a.value+'" data-model_id="'+e+'" data-param_name="'+d+'"><span class="tdc-font-name">'+a.name+'</span><span class="tdc-font-delete"></span></div>').appendTo(f)}));if("undefined"!==typeof window.tdcAdminSettings.tdcSavings.recentFonts){jQuery('<div class="tdc-font-list-header"><span>Recent fonts</span></div>').appendTo(f);a=_.invert(window.tdcAdminSettings.mappedFontFamily);for(var g=window.tdcAdminSettings.tdcSavings.recentFonts.length;0<
g;g--){var k=window.tdcAdminSettings.tdcSavings.recentFonts[g],n=a[k];_.isUndefined(n)||jQuery('<div class="tdc-recent-font-settings" data-value="'+k+'" data-model_id="'+e+'" data-param_name="'+d+'"><span class="tdc-font-name">'+n+'</span><span class="tdc-recent-font-delete"></span></div>').appendTo(f)}}b.after(f);f.toggle()}});a.on("click",".tdc-font-delete",function(a){a.stopImmediatePropagation();var b=jQuery(this).closest(".tdc-font-settings");a=b.data("name");a=_.findIndex(window.tdcAdminSettings.tdcSavings.fonts,
{name:a});window.tdcAdminSettings.tdcSavings.fonts.splice(a,1);tdcUtil.updateTdcSavings(this,function(){b.remove()})});a.on("click",".tdc-recent-font-delete",function(a){a.stopImmediatePropagation();var b=jQuery(this).closest(".tdc-recent-font-settings");a=b.data("name");a=_.findIndex(window.tdcAdminSettings.tdcSavings.recentFonts,{name:a});window.tdcAdminSettings.tdcSavings.recentFonts.splice(a,1);tdcUtil.updateTdcSavings(this,function(){b.remove()})});a.on("click",".tdc-font-settings",function(){var a=
jQuery(this),b=a.data("value");b=JSON.parse(window.atob(b));var e=a.data("model_id");e=tdcIFrameData.getModel(e);var d=e.get("attrs"),f=a.data("param_name").replace("font_settings",""),g="font_family font_size font_line_height font_style font_weight font_transform font_spacing".split(" ");_.each(b,function(a,b,c){-1!==_.indexOf(g,b)&&(d[f+b]=a)});e.set({attrs:d,rebindToPanel:!0});tdcSidebarController.onUpdate(e)});a.on("click",".tdc-recent-font-settings",function(){var a=jQuery(this),b=a.data("value"),
e=a.data("model_id");e=tdcIFrameData.getModel(e);var d=e.get("attrs");a=a.data("param_name").replace("font_settings","");d[a+"font_family"]=b;e.set({attrs:d,rebindToPanel:!0});tdcSidebarController.onUpdate(e)});tdcSidebarPanel.$_paramSwitchWrap=a.find(".tdc-param-switch-wrap");tdcSidebarPanel.$_paramNameSwitch=a.find(".tdc-param-name-switch");if(0<tdcSidebarPanel.$_paramNameSwitch.length)a.on("click",".tdc-param-name-switch",function(){jQuery(this).toggleClass("tdc-param-switch-active");jQuery(".tdc-param-name").toggleClass("tdc-param-name-active")});
tdcSidebarPanel.$_paramInfoSwitch=a.find(".tdc-param-info-switch");a.on("click",".tdc-param-info-switch",function(){jQuery(this).toggleClass("tdc-param-switch-active");jQuery("#tdc-sidebar").toggleClass("tdc-param-info-active");jQuery.ajax({timeout:1E4,type:"POST",url:tdcUtil.getRestEndPoint("td-composer/set_param_info_option","uuid="+tdcJobManager._getUniqueID()),beforeSend:function(a){a.setRequestHeader("X-WP-Nonce",window.tdcAdminSettings.wpRestNonce)},dataType:"json",data:{action:"tdc_ajax_set_param_info_option"}})});
a.on("tdc_wm_global_color_name_update",function(a,b){a=b.new_option;var c="var(--"+b.option.replace("_","-")+")",d="var(--"+a.replace("_","-")+")";jQuery(".tdc-property-colorpicker").each(function(){var a=jQuery(this),b=a.find("input");a=a.find(".tdc-colorpicker-wrap");!_.isUndefined(b.val())&&""!==b.val()&&/var\(--[a-zA-z0-9\-]*\)/.test(b.val())&&b.val()===c&&(b.val(d),a.attr("style","background: "+d).data("has-color","1"),a.attr("title","Global color: "+d),b.trigger("change"))});jQuery(".tdc-property-gradient").each(function(){var a=
jQuery(this),b=a.find("input");a=a.find(".tdc-gradient-wrap");!_.isUndefined(b.val())&&""!==b.val()&&/var\(--[a-zA-z0-9\-]*\)/.test(b.val())&&b.val()===c&&(b.val(d),a.attr("style","background: "+d),a.attr("title","Global color: "+d),b.trigger("change"))})});a.on("keyup","input.tdc-edit-page_id",function(a){var b=jQuery(this).closest(".tdc-property-wrap").find("a.tdc-edit-page_id");""===a.currentTarget.value.trim()?b.hide():b.length&&"undefined"!==typeof window.tdData&&(b.attr("href",tdData.adminUrl+
"post.php?post="+a.currentTarget.value.trim()+"&action=edit").show(),b.css("visibility","visible"))});a.on("change","select.tdc-edit-cloud_tpl_module_id",function(a){var b=jQuery(this).closest(".tdc-property-wrap").find("a.tdc-edit-cloud_tpl_module_id");""===a.currentTarget.value.trim()?b.hide():b.length&&"undefined"!==typeof window.tdData&&(b.attr("href",tdData.adminUrl+"post.php?post_id="+a.currentTarget.value.trim()+"&td_action=tdc&tdbTemplateType=module").show(),b.css("visibility","visible"))});
a.on("change",".tdc-property-dropdown select",function(a){a=jQuery(this);a.find("option:selected").is(":disabled")?a.addClass("selected-op-disabled"):a.removeClass("selected-op-disabled")})},getCurrentStyleSettings:function(a,c){_.isUndefined(c)&&(c=jQuery(a.currentTarget).data("model_id"),c=tdcIFrameData.getModel(c),a={error:l},_.isUndefined(c)||tdcIFrameData._checkModelData(c,a));var b=c.get("tag");c=c.get("attrs");c=_.clone(c);if(!_.isUndefined(c)){var e={};a={};for(var d in c)0===d.indexOf("tds_")&&
(e[d]=c[d]);d=window.tdcAdminSettings.mappedShortcodes[b].params;for(b=0;b<d.length;b++){var f=!1,g=d[b];if(0===g.param_name.indexOf("tds_")){for(var k in e)if(g.param_name===k){a[k]=e[k];f=!0;break}f||(a[g.param_name]="")}}for(k in e)switch(e=k.split("-"),e.length){case 2:if(!_.has(a,k)){d=e[0];e=!1;for(var n in a)if(d===a[n]&&1===n.split("-").length){e=!0;break}if(!e){var h;for(h in window.tdcAdminSettings.settingsStyle)if(_.has(window.tdcAdminSettings.settingsStyle[h],d)){var m=h;break}_.has(a,
m)&&""===a[m]&&window.tdcAdminSettings.globalStyle[m]===d&&(e=!0)}e||delete c[k]}break;case 3:d=e[0];b=e[2];for(h in window.tdcAdminSettings.settingsStyle)if(_.has(window.tdcAdminSettings.settingsStyle[h],d)){m=h;break}e=!1;for(n in a)if(d===a[n]&&n===m+"-"+b){e=!0;break}e||_.has(a,m+"-"+b)&&""===a[m+"-"+b]&&window.tdcAdminSettings.globalStyle[m]===d&&(e=!0);e||delete c[k]}return c}},getCurrentListAtts:function(a,c,b){_.isUndefined(c)&&(a=jQuery(a.currentTarget).data("model_id"),c=tdcIFrameData.getModel(a),
a={error:l},_.isUndefined(c)||tdcIFrameData._checkModelData(c,a));a=c.get("tag");c=c.get("attrs");var e=_.clone(c);if(!_.isUndefined(e)){var d={};c={};for(var f in e)0===f.indexOf("tds_")&&(d[f]=e[f]);f=window.tdcAdminSettings.mappedShortcodes[a].params;for(var g=0;g<f.length;g++){var k=!1,n=f[g];if(0===n.param_name.indexOf("tds_")){for(var h in d)if(n.param_name===h){c[h]=d[h];k=!0;break}k||(c[n.param_name]="")}}for(h in d)switch(d=h.split("-"),d.length){case 2:if(!_.has(c,h)){f=d[0];d=!1;for(var m in c)if(f===
c[m]&&1===m.split("-").length){d=!0;break}if(!d){var t;for(t in window.tdcAdminSettings.settingsStyle)if(_.has(window.tdcAdminSettings.settingsStyle[t],f)){var p=t;break}_.has(c,p)&&""===c[p]&&window.tdcAdminSettings.globalStyle[p]===f&&(d=!0)}d||delete e[h]}break;case 3:f=d[0];k=d[2];for(t in window.tdcAdminSettings.settingsStyle)if(_.has(window.tdcAdminSettings.settingsStyle[t],f)){p=t;break}d=!1;for(m in c)if(f===c[m]&&m===p+"-"+k){d=!0;break}d||_.has(c,p+"-"+k)&&""===c[p+"-"+k]&&window.tdcAdminSettings.globalStyle[p]===
f&&(d=!0);d||delete e[h]}var x=[],q;for(q in window.tdcAdminSettings.listStyles[b])if(q===a){for(g=0;g<window.tdcAdminSettings.listStyles[b][q].length;g++)h=window.tdcAdminSettings.listStyles[b][q][g],_.isArray(h)?_.map(h,function(a){_.isUndefined(e[a])||(_.isUndefined(x[g])&&(x[g]=[]),x[g].push(e[a]))}):_.isUndefined(e[h])||(_.isArray(e[h])&&e[h].length?x[g]=e[h][0]:x[g]=e[h]);break}return x}},showHideTdcCssEditor:function(a){a=jQuery("#tdc-editor-css");var c=jQuery(this).closest(".tdc-property-wrap"),
b=c.find("textarea:first");a.length||tdcSidebar.buildEditorCss();tdcSidebar.$editorTextarea=b;c.next(".tdc-property-editor_css-title").length?(c.next(".tdc-property-editor_css-title").toggle(),a.toggle()):(c.after(a),c.after('<div class="tdc-property-editor_expand tdc-property-editor_css-title"><span></span><div class="tdc-editor-toggle tdc-css-ace-editor-expand-collapse"></div></div>'),a.show(),tdcSidebar.editorCss.getSession().setValue(b.val()))},toggleEnableParamsFromText:function(a){var c=a.closest(".tdc-property-wrap"),
b=c.data("enable-params");c=c.data("enable-params-reverse");b=jQuery('.tdc-property-wrap[data-enabled-by="'+b+'"]');b.length&&(""!==a.val()?"undefined"!==typeof c&&1===c?b.hasClass("tdc-disabled")||b.addClass("tdc-disabled"):b.hasClass("tdc-disabled")&&b.removeClass("tdc-disabled"):"undefined"!==typeof c&&1===c?b.hasClass("tdc-disabled")&&b.removeClass("tdc-disabled"):b.hasClass("tdc-disabled")||b.addClass("tdc-disabled"))},toggleEnableParamsFromSelect:function(a){var c=a.val();a=a.closest(".tdc-property-wrap");
var b=a.data("enable-params"),e=a.data("enable-params-reverse"),d=jQuery('.tdc-property-wrap[data-enabled-by^="'+b+'"]');d.length&&d.each(function(a,b){a=jQuery(b);b=a.data("enabled-by");-1!==b.indexOf("--")?b.substring(b.indexOf("--")+2)===c?"undefined"!==typeof e&&1===e?a.hasClass("tdc-disabled")||a.addClass("tdc-disabled"):a.hasClass("tdc-disabled")&&a.removeClass("tdc-disabled"):"undefined"!==typeof e&&1===e?a.hasClass("tdc-disabled")&&a.removeClass("tdc-disabled"):a.hasClass("tdc-disabled")||
a.addClass("tdc-disabled"):""!==c?"undefined"!==typeof e&&1===e?d.hasClass("tdc-disabled")||d.addClass("tdc-disabled"):d.hasClass("tdc-disabled")&&d.removeClass("tdc-disabled"):"undefined"!==typeof e&&1===e?d.hasClass("tdc-disabled")&&d.removeClass("tdc-disabled"):d.hasClass("tdc-disabled")||d.addClass("tdc-disabled")})},toggleDisableParamsFromSelect:function(a){var c=a.val();a=a.closest(".tdc-property-wrap").data("disable-params");a=jQuery('.tdc-property-wrap[data-disabled-by^="'+a+'"]');a.length&&
a.each(function(a,e){a=jQuery(e);e=a.data("disabled-by");-1!==e.indexOf("--")&&(e.substring(e.indexOf("--")+2)===c?a.hasClass("tdc-disabled")||a.addClass("tdc-disabled"):a.hasClass("tdc-disabled")&&a.removeClass("tdc-disabled"))})},toggleEnableParamsFromCheckbox:function(a){var c=a.closest(".tdc-property-wrap"),b=c.data("enable-params");c=c.data("enable-params-reverse");b=jQuery('.tdc-property-wrap[data-enabled-by="'+b+'"]');b.length&&(a.is(":checked")?"undefined"!==typeof c&&1===c?b.hasClass("tdc-disabled")||
b.addClass("tdc-disabled"):b.hasClass("tdc-disabled")&&b.removeClass("tdc-disabled"):"undefined"!==typeof c&&1===c?b.hasClass("tdc-disabled")&&b.removeClass("tdc-disabled"):b.hasClass("tdc-disabled")||b.addClass("tdc-disabled"))},showHideTdcPalette:function(a){a=jQuery("#tdc-palette");var c=jQuery(this).closest(".tdc-property-wrap");a.length||tdcSidebar.buildPalette();c.next("#tdc-palette").length?(a.toggle(),tdcSidebarPanel.saveTdcPalette()):(tdcSidebarPanel.saveTdcPalette(),c.after(a),a.show(),
tdcSidebarPanel.openTdcPalette())},saveTdcPalette:function(){var a=jQuery("#tdc-palette"),c=a.prev(".tdc-property-wrap");a.length||tdcSidebar.buildPalette();c.length&&(c=c.find("input").val(),a=a.find("input.wp-color-picker"),a.tdPaletteColorPicker("open_palette",c),a.tdPaletteColorPicker("save_color"))},openTdcPalette:function(){var a=jQuery("#tdc-palette"),c=a.prev(".tdc-property-wrap");a.length||tdcSidebar.buildPalette();c.length&&(c=c.find("input").val(),a.find("input.wp-color-picker").tdPaletteColorPicker("open_palette",
c))},tdcIconWrapHandler:function(a){var c=jQuery(this),b=jQuery("#tdc-icon-selector");b.length||(b=tdcSidebar.buildIconSelector());var e=c.closest(".tdc-property-wrap");a=b.find(".tdc-icon-selector-filter");var d=b.find(".tdc-icon-selector-lib"),f=b.find(".tdc-icon-selector-content");d.val("");a.val("");f.children().each(function(){jQuery(this).show()});b.data("model_id",c.data("model_id"));b.data("param_name",c.data("param_name"));b.show();e.after(b);c=b.data("param_name");b=tdcIFrameData.getModel(b.data("model_id")).get("attrs");
var g="";_.has(b,c)&&(g=b[c].trim());a.focus();f.find("span").each(function(){var a=jQuery(this),b=a.data("font_class");if(g===b){for(a.addClass("selected");!a.prev(".tdc-font-separator").length;)a=a.prev();a=a.prev(".tdc-font-separator").data("font_id");d.val(a);d.trigger("change")}else a.removeClass("selected")})},tdcIconRemoveHandler:function(a){var c=jQuery(a.currentTarget);a=c.closest(".tdc-property-wrap").find(".tdc-icon-wrap");c.addClass("tdc-hidden-button");a.addClass("tdc-no-icon-selected");
a.html("");c=a.data("model_id");c=tdcIFrameData.getModel(c);tdcSidebarController.onUpdate(c,a.data("param_name"),"","")},tdcImageWrapHandler:function(a){var c=jQuery(a.currentTarget);c.closest(".tdc-tab-content");window.original_send_to_editor=window.send_to_editor;wp.media.editor.open(c);jQuery(".media-menu .media-menu-item:nth-of-type(2)").addClass("hidden");jQuery(".media-menu .media-menu-item:nth-of-type(3)").addClass("hidden");jQuery(".media-menu .media-menu-item:nth-of-type(4)").addClass("hidden");
window.send_to_editor=function(a){if(-1!==a.indexOf("[caption")){var b=/\[caption(.*)\](.*)\[\/caption\]/g.exec(a);3===b.length&&(a=b[2])}var d=jQuery("img",a).attr("src"),f=b="",g="";"undefined"===typeof d?(a=jQuery(a),d=a.attr("src"),b=a.attr("class"),f=a.attr("height"),g=a.attr("width")):(a=jQuery("img",a),b=a.attr("class"),f=a.attr("height"),g=a.attr("width"));jQuery.ajax({timeout:1E4,type:"POST",url:tdcUtil.getRestEndPoint("td-composer/get_image_id","uuid="+tdcJobManager._getUniqueID()),beforeSend:function(a){a.setRequestHeader("X-WP-Nonce",
window.tdcAdminSettings.wpRestNonce)},dataType:"json",data:{image_class:b,action:"tdc_ajax_get_image_id"}}).done(function(a,b,e){"success"===b&&(_.isObject(a)&&_.has(a,"errors")?new tdcNotice.notice(a.errors,!0,!1):(c.closest(".tdc-property").find(".tdc-image-remove").removeClass("tdc-hidden-button"),c.attr("style","background-image: url( '"+d+"') "),c.data("image_link",d),c.data("image_id",a.image_id),c.data("image_height",f),c.data("image_width",g),c.removeClass("tdc-no-image-selected"),window.send_to_editor=
window.original_send_to_editor,window.tb_remove(),b="",e=c.data("model_id"),e=tdcIFrameData.getModel(e),c.hasClass("tdc-no-image-selected")||(b=a.image_id.toString()),a=e.get("attrs"),a.media_size_image_height=f,a.media_size_image_width=g,e.set("attrs",a),tdcSidebarController.onUpdate(e,c.data("param_name"),"",b)))}).fail(function(a,b,c){})};return!1},tdcImageRemoveHandler:function(a){var c=jQuery(a.currentTarget);a=c.closest(".tdc-property-wrap").find(".tdc-image-wrap");c.addClass("tdc-hidden-button");
a.addClass("tdc-no-image-selected");jQuery.removeData(a,"image_link");a.attr("style","background-image: url( '"+window.tdcAdminSettings.pluginUrl+"/assets/images/sidebar/no_img.png'");c=a.data("model_id");c=tdcIFrameData.getModel(c);tdcSidebarController.onUpdate(c,a.data("param_name"),"","")},tdcInheritSelectHandler:function(a){a=jQuery(a.currentTarget);var c=a.closest(".tdc-property-wrap"),b=c.find("[data-responsive]"),e=tdcSidebarPanel.getCurrentResponsiveValue(b.attr("name"),"all");c.hasClass("tdc-property-dropdown-responsive")&&
(c.hasClass("tdc-visual-selector")?(b=c.find("[data-responsive]:checked:first"),b.length&&b.prop("checked",!1),"undefined"===typeof e?(c.removeClass("tdc-css-inherited"),b=c.find("[data-responsive]:first")):(c.addClass("tdc-css-inherited"),b=c.find('[data-responsive][value="'+e+'"]')),b.length&&b.prop("checked",!0)):"undefined"===typeof e?(c.removeClass("tdc-css-inherited"),b.find("option:selected").removeAttr("selected").find("option:first").attr("selected","selected")):(c.addClass("tdc-css-inherited"),
b.val(e)),c=tdcSidebarPanel.deleteResponsiveValue(b.attr("name"),tdcSidebar.currentViewportSettings.name),e=tdcIFrameData.getModel(b.data("model_id")),b=b.data("param_name"),tdcSidebarController.onUpdate(e,b,"",c));a.hide()},tdcInheritCheckboxHandler:function(a){a=jQuery(a.currentTarget);var c=a.closest(".tdc-property-wrap"),b=c.find("[data-responsive]"),e=tdcSidebarPanel.getCurrentResponsiveValue(b.attr("name"),"all");c.hasClass("tdc-property-checkbox-responsive")&&("undefined"===typeof e?(c.removeClass("tdc-css-inherited"),
b.removeAttr("checked")):(""===e?b.removeAttr("checked"):b.attr("checked","checked"),c.addClass("tdc-css-inherited")),c=tdcSidebarPanel.deleteResponsiveValue(b.attr("name"),tdcSidebar.currentViewportSettings.name),e=tdcIFrameData.getModel(b.data("model_id")),b=b.data("param_name"),tdcSidebarController.onUpdate(e,b,"",c));a.hide()},toggleEnableListMenuDepthParam:function(a){a=a.val();var c=jQuery(".tdc-list-menu-depth");""===a||"accordion"===a?c.hasClass("tdc-disabled")&&c.removeClass("tdc-disabled"):
c.hasClass("tdc-disabled")||c.addClass("tdc-disabled")},toggleEnableGalleryACFfieldParam:function(a){var c=a.val();a=a.closest(".tdc-tab-content").find(".tdc-property-acf_field");"acf_field"===c?a.hasClass("tdc-disabled")&&a.removeClass("tdc-disabled"):a.hasClass("tdc-disabled")||a.addClass("tdc-disabled")},toggleEnableTDSMenuLoginDrodownOnlyParams:function(a){var c=jQuery(".tdc-ml-do-show"),b=jQuery(".tdc-ml-do-hide"),e=jQuery('.tdc-ml-disable-dropdown input[type="checkbox"]');a.is(":checked")?(c.hasClass("tdc-disabled")&&
c.removeClass("tdc-disabled"),b.hasClass("tdc-disabled")||b.addClass("tdc-disabled")):e.is(":checked")?(c.hasClass("tdc-disabled")||c.addClass("tdc-disabled"),b.hasClass("tdc-disabled")||b.addClass("tdc-disabled")):b.hasClass("tdc-disabled")&&b.removeClass("tdc-disabled")},toggleEnableFSLinkPostParams:function(a){var c=a.closest(".tdc-property-wrap"),b=jQuery(".tdc-property-make_child");a.is(":checked")?c.hasClass("tdc-disabled")?b.addClass("tdc-disabled"):b.hasClass("tdc-disabled")&&b.removeClass("tdc-disabled"):
b.hasClass("tdc-disabled")||b.addClass("tdc-disabled")},toggleEnableBlockSortParams:function(a){a=a.find("option:selected").val();var c=jQuery(".tdc-block-sort-popular-by-day");c.length&&("popular1"===a||"popular2"===a||"popular3"===a||"popular7"===a?c.hasClass("tdc-disabled")&&c.removeClass("tdc-disabled"):c.hasClass("tdc-disabled")||c.addClass("tdc-disabled"))},bindPanelToModel:function(a,c){if(_.isUndefined(tdcSidebarPanel._currentBoundModel)||tdcSidebarPanel._currentBoundModel.cid!==a.cid||!_.isUndefined(c)&&
(_.isUndefined(c)||!0===c)){c=window.tdcAdminSettings.mappedShortcodes[a.attributes.tag];tdcSidebarPanel._deletePanel();jQuery(".tdc-empty-sidebar").hide();tdcSidebarPanel._currentBoundModel=a;for(var b=[],e=0;e<c.params.length;e++){var d=tdcSidebarPanel._defaultGroupName;_.isEmpty(c.params[e].group)||(d=c.params[e].group);b.push(d)}b=_.uniq(b);var f=d="",g=tdcSidebar.getCurrentTabId(),k,n;d+='<div class="tdc-sidebar-header"><div class="tdc-tabs">';var h=n=k="";for(e=0;e<b.length;e++){f=tdcSidebarPanel._fixGroupName(b[e]);
var m=tdcUtil.makeSafeForCSS(f);0===e?(k='<a href="#" data-tab-id="td-tab-'+m+'" class="tdc-tab-active" title="'+f+' settings">'+f+'<span class="tdc-tab-search-notice"></span></a>',n='<a href="#" data-tab-id="td-tab-'+m+'" title="'+f+' settings">'+f+'<span class="tdc-tab-search-notice"></span></a>'):_.isUndefined(g)||g!=="td-tab-"+m?h+='<a href="#" data-tab-id="td-tab-'+m+'" title="'+f+' settings">'+f+'<span class="tdc-tab-search-notice"></span></a>':(k=n,h+='<a href="#" data-tab-id="td-tab-'+m+'" class="tdc-tab-active" title="'+
f+' settings">'+f+'<span class="tdc-tab-search-notice"></span></a>')}d=d+(k+h)+"</div>";h=n=k=e="";if(tdcState.isMobileComposer())switch(tdcSidebar.currentViewportSettings.name){case "all":e="selected";break;case "phone":h="selected"}else switch(tdcSidebar.currentViewportSettings.name){case "all":e="selected";break;case "landscape":k="selected";break;case "portrait":n="selected";break;case "phone":h="selected"}d+='<div class="tdc-tab-responsive"><div class="tdc-responsive-buttons">';tdcState.isMobileComposer()?
d=d+('<div class="tdc-responsive-all tdc-responsive-tablet-landscape '+e+'" title="Landscape viewport"><span class="tdc-tablet-landscape-icon"></span></div><div class="tdc-responsive-phone ')+(h+'" title="Portrait viewport"><span class="tdc-phone-icon"></span></div>'):(d+='<div class="tdc-responsive-all '+e+'" title="Desktop viewport"><span class="tdc-all-icon"></span></div>',"Newspaper"===window.tdcAdminSettings.themeName&&(d+='<div class="tdc-responsive-tablet-landscape '+k+'" title="Landscape viewport"><span class="tdc-tablet-landscape-icon"></span></div>'),
d+='<div class="tdc-responsive-tablet-portrait '+n+'" title="Portrait viewport"><span class="tdc-tablet-portrait-icon"></span></div>',d+='<div class="tdc-responsive-phone '+h+'" title="Phone viewport"><span class="tdc-phone-icon"></span></div>');d+="</div>";d+="</div>";d+='<div class="tdc-search">';d+='<i class="td-icon-search"></i>';d+='<input type="text" placeholder="Search settings..." />';d+="</div></div>";d+='<div class="tdc-sidebar-sticky-a"></div>';d+='<div class="tdc-sidebar-sticky-b"></div>';
d+='<div class="tdc-tab-content-wrap" data-tag="'+a.get("tag")+'">';h=n=k="";for(e=0;e<b.length;e++){f=tdcSidebarPanel._fixGroupName(b[e]);m=tdcUtil.makeSafeForCSS(f);f="tdc-tab-no-design";var l=a.get("tag");"css"===m&&(f="tdc-tab-design");0===e?(k='<div class="tdc-tab-content tdc-tab-content-visible '+f+'" id="td-tab-'+m+'">',n='<div class="tdc-tab-content '+f+'" id="td-tab-'+m+'">',m=window.tdcAdminSettings.mappedShortcodes[l].tdc_start_values,a.unset("presetValues"),_.isUndefined(m)||(m=JSON.parse(window.atob(m)),
_.isArray(m)&&1<m.length&&a.set("presetValues",m)),a.has("presetValues")&&(m=a.get("presetValues"),h+=tdcSidebarPanel._addPresetValuesSelector(m,a))):_.isUndefined(g)||g!=="td-tab-"+m?h+='<div class="tdc-tab-content '+f+'" id="td-tab-'+m+'">':(k=n,h+='<div class="tdc-tab-content tdc-tab-content-visible '+f+'" id="td-tab-'+m+'">');h+=tdcSidebarPanel._bindGroupAndGetHtml(b[e],c,a);m=' data-model_id="'+a.cid+'" ';"dev"===window.tdcAdminSettings.deployMode&&(h+='<div class="tdc-sidebar-row-buttons">',
h+='<div class="tdc-sidebar-button tdc-sidebar-shortcode-row" '+m+' title="Get the shortcode of the current row">CONSOLE: shortcode</div>',h+='<div class="tdc-sidebar-button tdc-sidebar-current-styles-settings" '+m+' title="Get the current styles\' settings">CONSOLE: style presets</div>',h+="</div>");h+="</div>"}d=d+(k+h)+"</div>";jQuery(".tdc-inspector .tdc-tabs-wrapper").html(d);jQuery(".tdc-inspector-wrap").addClass("tdc-inspector-active");tdcSidebarPanel._hook.addAction("panel_rendered",function(){"undefined"===
typeof window.tdcResponsiveValues&&(window.tdcResponsiveValues={},"all"===tdcSidebar.currentViewportSettings.name?jQuery(".tdc-tab-content-wrap").removeClass("tdc-viewport-responsive"):jQuery(".tdc-tab-content-wrap").addClass("tdc-viewport-responsive"),jQuery(".tdc-tab-content-wrap .tdc-property-responsive").each(function(){var a=jQuery(this),b=a.find("[data-responsive]"),c=b.attr("name"),d=b.data("responsive");try{var e=window.atob(d);window.tdcResponsiveValues[c]=JSON.parse(e)}catch(A){d={},a.hasClass("tdc-property-textfield-responsive")?
""!==b.val()&&(d.all=b.val()):a.hasClass("tdc-property-dropdown-responsive")?a.hasClass("tdc-visual-selector")?(b=a.find("[data-responsive]:checked:first"),b.length?d.all=b.val():(b=a.find("[data-responsive]:first"),b.length&&(d.all=b.val()))):b.find("option:first").val()!==b.val()&&(d.all=b.val()):a.hasClass("tdc-property-checkbox-responsive")?b.is(":checked")&&(d.all=b.val()):a.hasClass("tdc-property-range-responsive")?d.all=b.data("value"):a.hasClass("tdc-property-range_multiple-responsive")&&
(d.all=b.data("range_value")+b.data("range_unit")),window.tdcResponsiveValues[c]=d}tdcSidebarPanel.setViewportCurrentResponsiveValue(b)}))});tdcSidebarPanel._hook.addAction("panel_rendered",function(){jQuery(".tdc-tab-content-wrap").find('select[name$="font_family"]').change(function(a){a=jQuery(this).val();""===window.tdcAdminSettings.tdcSavings&&(window.tdcAdminSettings.tdcSavings={});"undefined"===typeof window.tdcAdminSettings.tdcSavings.recentFonts&&(window.tdcAdminSettings.tdcSavings.recentFonts=
[]);var b=window.tdcAdminSettings.tdcSavings.recentFonts.indexOf(a);-1!==b&&window.tdcAdminSettings.tdcSavings.recentFonts.splice(b,1);window.tdcAdminSettings.tdcSavings.recentFonts.push(a);20<=window.tdcAdminSettings.tdcSavings.recentFonts.length&&window.tdcAdminSettings.tdcSavings.recentFonts.splice(0,1);tdcUtil.updateTdcSavings()})});jQuery(".tdc-breadcrumbs").show();tdcSidebarPanel.$_paramSwitchWrap.css("display","flex");tdcSidebarPanel.$_paramInfoSwitch.hasClass("tdc-param-switch-active")&&jQuery("#tdc-sidebar").addClass("tdc-param-info-active");
0<tdcSidebarPanel.$_paramNameSwitch.length&&tdcSidebarPanel.$_paramNameSwitch.hasClass("tdc-param-switch-active")&&jQuery(".tdc-param-name").addClass("tdc-param-name-active");tdcSidebarPanel._hook.doAction("panel_rendered");tdcSidebarPanel._hook.doAction("panel_css");(function(){if("vc_row"===a.get("tag")){var b=jQuery("body .tdc-row-col-dropdown select"),c=jQuery("body .tdc-row-stretch-dropdown select"),d=a.get("childCollection");if(!_.isUndefined(d)){d=tdcIFrameData.getChildCollectionWidths(d);
_.isUndefined(d)&&(d="11");b.length?b.val(d):(b=jQuery("body .tdc-row-col-dropdown input[value='"+d+"']"),b.length&&b.attr("checked","checked"));b=a.get("attrs");if(_.has(b,"full_width"))var e=b.full_width;_.isUndefined(e)&&(e="");c.val(e)}}})();(function(){if("vc_row_inner"===a.get("tag")){var b=jQuery("body .tdc-innerRow-col-dropdown select"),c=a.get("childCollection");if(!_.isUndefined(c)){c=tdcIFrameData.getChildCollectionWidths(c);_.isUndefined(c)&&(c="11");var d=a.get("parentModel").get("attrs"),
e="";_.has(d,"width")&&(e=d.width.replace("/",""));if(b.length)switch(b.val(c),e){case "":case "11":b.find("option[value=12_12]").addClass("tdc-block-col");b.find("option[value=23_13]").removeClass("tdc-block-col");b.find("option[value=13_23]").removeClass("tdc-block-col");b.find("option[value=13_13_13]").removeClass("tdc-block-col");break;case "13":b.find("option[value=12_12]").addClass("tdc-block-col");b.find("option[value=23_13]").addClass("tdc-block-col");b.find("option[value=13_23]").addClass("tdc-block-col");
b.find("option[value=13_13_13]").addClass("tdc-block-col");break;case "23":b.find("option[value=12_12]").removeClass("tdc-block-col"),b.find("option[value=23_13]").addClass("tdc-block-col"),b.find("option[value=13_23]").addClass("tdc-block-col"),b.find("option[value=13_13_13]").addClass("tdc-block-col")}else if(b=jQuery('body .tdc-innerRow-col-dropdown input[value="'+c+'"]'),b.length)switch(b.attr("checked","checked"),b.next("label").show(),e){case "":case "11":b.parent().find("input[value=12_12] + label").addClass("tdc-block-col");
b.parent().find("input[value=23_13] + label").removeClass("tdc-block-col");b.parent().find("input[value=13_23] + label").removeClass("tdc-block-col");b.parent().find("input[value=13_13_13] + label").removeClass("tdc-block-col");break;case "13":b.parent().find("input[value=12_12] + label").addClass("tdc-block-col");b.parent().find("input[value=23_13] + label").addClass("tdc-block-col");b.parent().find("input[value=13_23] + label").addClass("tdc-block-col");b.parent().find("input[value=13_13_13] + label").addClass("tdc-block-col");
break;case "23":b.parent().find("input[value=12_12] + label").removeClass("tdc-block-col"),b.parent().find("input[value=23_13] + label").addClass("tdc-block-col"),b.parent().find("input[value=13_23] + label").addClass("tdc-block-col"),b.parent().find("input[value=13_13_13] + label").addClass("tdc-block-col")}}}})();(function(){var b=a.get("tag");if("vc_row"===b||"vc_row_inner"===b||"vc_column"===b||"vc_column_inner"===b){b=jQuery("body .tdc-property-flex_layout");var c=a.get("childCollection");if(!_.isUndefined(c)&&
b.length){c=jQuery("body .tdc-property-flex_horiz_align");var d=jQuery("body .tdc-property-flex_vert_align"),e=jQuery("body .tdc-property-flex_layout_reverse");b.find("input[value=column]").is(":checked")&&(c.addClass("tdc-flex-row-align-rev"),d.addClass("tdc-flex-row-align-rev"),e.find("input").is(":checked")&&c.addClass("tdc-flex-row-rev-align-rev"))}}})();(function(){if("td_woo_products_live_search"===a.get("tag")){var b=jQuery("body .tdc-property-woo_search_version select").val(),c=jQuery("body .tdc-woos-dropdown"),
d=jQuery("body .tdc-woos-regular");""===b?d.hide():"regular"===b&&c.hide()}})();c=jQuery(".tdc-property-wrap[data-enable-params] textarea,.tdc-property-wrap[data-enable-params] input[type=text]");c.length&&c.each(function(a,b){tdcSidebarPanel.toggleEnableParamsFromText(jQuery(b))});c=jQuery(".tdc-property-wrap[data-enable-params] select");c.length&&c.each(function(a,b){tdcSidebarPanel.toggleEnableParamsFromSelect(jQuery(b))});c=jQuery(".tdc-property-wrap[data-disable-params] select");c.length&&c.each(function(a,
b){tdcSidebarPanel.toggleDisableParamsFromSelect(jQuery(b))});c=jQuery(".tdc-property-wrap[data-enable-params] input[type=checkbox]");c.length&&c.each(function(a,b){tdcSidebarPanel.toggleEnableParamsFromCheckbox(jQuery(b))});c=jQuery(".tdc-list-menu-display select");c.length&&c.each(function(a,b){tdcSidebarPanel.toggleEnableListMenuDepthParam(jQuery(b))});c=jQuery(".tdc-gallery-source select");c.length&&c.each(function(a,b){tdcSidebarPanel.toggleEnableGalleryACFfieldParam(jQuery(b))});c=jQuery('.tdc-ml-dropdown-only input[type="checkbox"]');
c.length&&c.each(function(a,b){tdcSidebarPanel.toggleEnableTDSMenuLoginDrodownOnlyParams(jQuery(b))});c=jQuery('.tdc-fs-link-post-toggle input[type="checkbox"]');c.length&&c.each(function(a,b){tdcSidebarPanel.toggleEnableFSLinkPostParams(jQuery(b))});c=jQuery(".tdc-block-sort select");c.length&&c.each(function(a,b){tdcSidebarPanel.toggleEnableBlockSortParams(jQuery(b))})}},_bindGroupAndGetHtml:function(a,c,b){var e="",d=b.get("attrs");if("tdc_zone"===b.get("tag"))var f=d.type;for(var g=0;g<c.params.length;g++){var k=
c.params[g].param_name,n=c.params[g].group;if(a===tdcSidebarPanel._defaultGroupName&&_.isEmpty(c.params[g].group)||c.params[g].group===a){if(!_.isUndefined(f)){if(!_.isUndefined(c.params[g].zone_group)&&f!==c.params[g].zone_group||"type"===k)continue;if("mob_load"===k&&!_.includes(["tdc_header_desktop","tdc_header_desktop_sticky"],f))continue;if("desktop_load"===k&&!_.includes(["tdc_header_mobile","tdc_header_mobile_sticky"],f))continue}e+=tdcSidebarPanel._bindParamAndGetHtml(c.params[g],b)}if("block_template_id"===
k){n=d.block_template_id;_.isEmpty(n)&&(n=window.tdcAdminSettings.globalBlockTemplate);k=window.tdcAdminSettings.mappedBlockTemplates;for(var h=0;h<k[n].params.length;h++)if(a===tdcSidebarPanel._defaultGroupName&&_.isEmpty(k[n].params[h].group)||k[n].params[h].group===a)e+=tdcSidebarPanel._bindParamAndGetHtml(k[n].params[h],b)}else if(0===k.indexOf("tds_")){var m=k.split("-");h=m[0];var l;2===m.length?l=m[1]:2<m.length&&new tdcNotice.notice('Param "'+k+'" must have up to at most one "-" separator ',
!0,!1);k=d[k];_.isEmpty(k)&&(k=window.tdcAdminSettings.globalStyle[h]);m=window.tdcAdminSettings.settingsStyle[h];if("undefined"!==typeof m[k])for(h=0;h<m[k].params.length;h++)if(n==a||_.isUndefined(n)&&a===tdcSidebarPanel._defaultGroupName){var p=JSON.parse(JSON.stringify(m[k].params[h]));p.param_name=k+"-"+p.param_name;_.isUndefined(l)||(p.param_name+="-"+l);e+=tdcSidebarPanel._bindParamAndGetHtml(p,b)}}}return e},_bindParamAndGetHtml:function(a,c){switch(a.type){case "custom":return tdcSidebarPanel.addCustom(a,
c);case "colorpicker":return tdcSidebarPanel.addColorpicker(a,c);case "gradient":return tdcSidebarPanel.addGradient(a,c);case "dropdown":return tdcSidebarPanel.addDropDown(a,c);case "dropdown-responsive":return tdcSidebarPanel.addDropDownResponsive(a,c);case "checkbox":return tdcSidebarPanel.addCheckBox(a,c);case "checkbox-responsive":return tdcSidebarPanel.addCheckBoxResponsive(a,c);case "range":return tdcSidebarPanel.addRange(a,c);case "range-responsive":return tdcSidebarPanel.addRangeResponsive(a,
c);case "range_multiple":return tdcSidebarPanel.addRangeMultiple(a,c);case "range_multiple-responsive":return tdcSidebarPanel.addRangeMultipleResponsive(a,c);case "icon":return tdcSidebarPanel.addIconSelector(a,c);case "attach_image":return tdcSidebarPanel.addUploadImage(a,c);case "textfield":return tdcSidebarPanel.addTextField(a,c);case "do_shortcode_textfield":return tdcSidebarPanel.addDoShortcode(a,c);case "textfield-responsive":return tdcSidebarPanel.addTextFieldResponsive(a,c);case "textarea":return tdcSidebarPanel.addTextArea(a,
c);case "textarea_html":return tdcSidebarPanel.addTextAreaHtml(a,c);case "textarea_raw_html":return tdcSidebarPanel.addTextAreaRawHtml(a,c);case "textarea_raw_html_ace":return tdcSidebarPanel.addTextAreaRawHtmlAce(a,c);case "editor_css":return tdcSidebarPanel.addEditorCss(a,c);case "css_editor":return"";case "tdc_css_editor":return tdcCssEditor.init(),tdcCssEditor.addComposerCssEditor(a,c);case "horizontal_separator":return tdcSidebarPanel.addSeparatorHorizontal(a,c);case "text_separator":return tdcSidebarPanel.addTextSeparatorHorizontal(a,
c);case "font_header":return tdcSidebarPanel.addFontHeader(a,c);case "font_title":return tdcSidebarPanel.addFontTitle(a,c);case "font_reset":return tdcSidebarPanel.addFontReset(a,c);case "font_save":return tdcSidebarPanel.addFontSave(a,c);case "font_load":return tdcSidebarPanel.addFontLoad(a,c);case "font_settings":return tdcSidebarPanel.addFontSettings(a,c);case "shadow_header":return tdcSidebarPanel.addShadowHeader(a,c);case "shadow_title":return tdcSidebarPanel.addShadowTitle(a,c);case "spot_header":return tdcSidebarPanel.addSpotHeader(a,
c);case "filter_header":return tdcSidebarPanel.addFilterHeader(a,c);case "pages_header":return tdcSidebarPanel.addPagesHeader(a,c);case "plans_limit_header":return tdcSidebarPanel.addPlansLimitHeader(a,c);case "tdb_filter_type_header":return tdcSidebarPanel.addFilterTypeHeader(a,c);case "filter_title":return tdcSidebarPanel.addFilterTitle(a,c);case "search_section_header":return tdcSidebarPanel.addSearchSectionHeader(a,c);case "clearfix":return tdcSidebarPanel.addClearfix(a,c);case "tdc_hidden_field":return"";
default:return a.param_name+" - "+a.type+"<br>"}},_deletePanel:function(){tdcSidebarPanel._hook._hooks=[];tdcSidebarPanel._currentBoundModel=l;tdcSidebarPanel.saveTdcPalette();jQuery(".tdc-breadcrumbs").hide();jQuery(".tdc-param-switch-wrap").hide();jQuery(".tdc-inspector .tdc-current-element-head").empty();jQuery(".tdc-inspector .tdc-tabs-wrapper").empty();jQuery(".tdc-inspector-wrap").removeClass("tdc-inspector-active");jQuery(".tdc-empty-sidebar").show();tdcSidebar.$_currentElementSiblings.removeClass("tdc-current-element-siblings-visible");
tdcSidebar.$_currentElementHead.removeClass("tdc-current-element-siblings-button-on");delete window.tdcResponsiveValues;tdcSidebar.hideWpeditor()},_getParameterClasses:function(a){var c="tdc-property-wrap tdc-property-"+a.type;c+=" tdc-property-"+a.param_name;_.isUndefined(a.class)||(c+=" "+a.class);return c},_getParameterCurrentValue:function(a,c){c=c.get("attrs");return _.isUndefined(c[a.param_name])?"dropdown"===a.type||_.isUndefined(a.value)?"":a.value:c[a.param_name]},_getParameterDomName:function(a){return"tdc-param-"+
a.param_name},_getParamterDataAtts:function(a,c){var b="";if("undefined"===typeof c)return b;b+=' data-model_id="'+c.cid+'"';"undefined"!==typeof a&&(b+=' data-param_name="'+a.param_name+'"',"woo_shortcode"===a.param_name&&(b+='id="woo_shortcode" '));return b},_fixGroupName:function(a){switch(a){case "Design options":return"Css";case "Pagination":return"Extra";case "Ajax filter":return"Ajax"}return a},clearPanel:function(){tdcSidebarPanel._deletePanel()},blurInputPanel:function(){jQuery("body").find("input").blur()},
_addPresetValuesSelector:function(a,c){c='<div class="tdc-preset-values tdc-sidebar-horizontal-separator"><i class="tdc-font-fa tdc-font-fa-cube"></i>Pre-made style presets<i class="tdc-font-fa tdc-font-fa-angle-right"></i></div><ul class="tdc-preset-values-list" data-model_id="'+(c.cid+'">');for(var b=1;b<a.length;b++){var e="";_.isUndefined(a[b].tdc_preset_individual)||(e='data-individual="1"');var d="";_.isUndefined(a[b].tdc_preset_class)||(d=' class="'+a[b].tdc_preset_class+'"');c+="<li "+e+" "+
d+' data-values="'+window.btoa(JSON.stringify(a[b]))+'">'+a[b].tdc_preset_name+"</li>"}c+="</ul>";tdcSidebarPanel._hook.hasCallback("panel_rendered",tdcSidebarPanel.callbackPresets)||tdcSidebarPanel._hook.addAction("panel_rendered",tdcSidebarPanel.callbackPresets);return c},callbackPresets:function(){jQuery(".tdc-preset-values").click(function(){jQuery(this).next(".tdc-preset-values-list").toggle()});jQuery(".tdc-preset-values-list > li").click(function(){var a=jQuery(this),c=a.data("individual"),
b=a.parent(".tdc-preset-values-list");a=JSON.parse(window.atob(a.data("values")));var e=tdcIFrameData.getModel(b.data("model_id")),d={};_.isUndefined(c)||(d=_.clone(e.get("attrs")));_.isObject(a)&&(_.map(a,function(a,b){var c=!1;_.map(window.tdcAdminSettings.mappedShortcodes[e.get("tag")].params,function(e,f){e.param_name===b&&(c=!0,d[b]=a)});if(!c){var f=d.block_template_id;if(_.isUndefined(f)||""===f)f=window.tdcAdminSettings.globalBlockTemplate;_.isUndefined(f)||_.map(window.tdcAdminSettings.mappedBlockTemplates[f].params,
function(e,f){e.param_name===b&&(c=!0,d[b]=a)})}c||0!==b.indexOf("tds_")||(d[b]=a)}),e.set("attrs",d));tdcSidebarController.onUpdate(e)})},addColorpicker:function(a,c){var b="",e="";_.has(a,"info_img")&&""!==a.info_img&&(b='data-info-img="'+a.info_img+'"');var d="";_.has(a,"description")&&""!==a.description&&(""!==b?e='data-info-descr="'+a.description+'"':d=' title="'+a.description+'" ');var f="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(f='data-enable-params="'+a.toggle_enable_params+
'"');var g="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(g='data-enable-params-reverse="1"');var k="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(k='data-enabled-by="'+a.toggle_enabled_by+'"');b='<div class="'+tdcSidebarPanel._getParameterClasses(a)+'" '+b+" "+e+" "+f+" "+g+" "+k+">";b+='<div class="tdc-property-title"><span class="tdc-search-data"'+d+">"+a.heading+"</span></div>";b=b+'<div class="tdc-property"><div class="tdc-colorpicker-wrap" title="'+
(a.heading+'">');b=b+"</div><input "+(tdcSidebarPanel._getParamterDataAtts(a,c)+' name="'+tdcSidebarPanel._getParameterDomName(a)+'" type="hidden" value="'+tdcSidebarPanel._getParameterCurrentValue(a,c)+'"/>');b=b+'</div><span class="tdc-param-name">'+(a.param_name+"</span>");b+="</div>";tdcSidebarPanel._hook.hasCallback("panel_rendered",tdcSidebarPanel.callbackColorPicker)||tdcSidebarPanel._hook.addAction("panel_rendered",tdcSidebarPanel.callbackColorPicker);return b},addCustom:function(a,c){c="";
_.has(a,"description")&&""!==a.description&&(c=' title="'+a.description+'" ');var b='<div class="'+tdcSidebarPanel._getParameterClasses(a)+'">';b+='<div class="tdc-property-title"><span class="tdc-search-data"'+c+">"+a.heading+"</span></div>";b=b+'<div class="tdc-property">'+a.value;b=b+'</div><span class="tdc-param-name">'+(a.param_name+"</span>");return b+"</div>"},callbackEditorCss:function(){tdcSidebar.buildEditorCss()},callbackColorPicker:function(){jQuery("#tdc-palette-color-picker").tdPalette();
jQuery(".tdc-tab-no-design .tdc-property-colorpicker").each(function(){var a=jQuery(this),c=a.find("input");a=a.find(".tdc-colorpicker-wrap");_.isUndefined(c.val())||""===c.val()||(a.attr("style","background: "+c.val()),/var\(--[a-zA-z0-9\-]*\)/.test(c.val())&&(a.append('<i class="tdc-font-tdmp tdc-font-tdmp-globe"></i>'),a.attr("title","Global color: "+c.val()).data("has-color","1")))})},addGradient:function(a,c){var b="",e="";_.has(a,"info_img")&&""!==a.info_img&&(b='data-info-img="'+a.info_img+
'"');var d="";_.has(a,"description")&&""!==a.description&&(""!==b?e='data-info-descr="'+a.description+'"':d=' title="'+a.description+'" ');var f="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(f='data-enable-params="'+a.toggle_enable_params+'"');var g="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(g='data-enable-params-reverse="1"');var k="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(k='data-enabled-by="'+a.toggle_enabled_by+'"');
b='<div class="'+tdcSidebarPanel._getParameterClasses(a)+'" '+b+" "+e+" "+f+" "+g+" "+k+">";b+='<div class="tdc-property-title"><span class="tdc-search-data"'+d+">"+a.heading+"</span></div>";b=b+'<div class="tdc-property"><div class="tdc-gradient-wrap tdc-no-gradient-selected"></div><input '+(tdcSidebarPanel._getParamterDataAtts(a,c)+' name="'+tdcSidebarPanel._getParameterDomName(a)+'" type="hidden" value="'+tdcSidebarPanel._getParameterCurrentValue(a,c)+'"/>');b=b+'</div><span class="tdc-param-name">'+
(a.param_name+"</span>");b+="</div>";tdcSidebarPanel._hook.hasCallback("panel_rendered",tdcSidebarPanel.callbackGradient)||tdcSidebarPanel._hook.addAction("panel_rendered",tdcSidebarPanel.callbackGradient);return b},callbackGradient:function(){jQuery("#tdc-gradient-color-picker").tdGradient();jQuery(".tdc-property-gradient").each(function(){var a=jQuery(this),c=a.find("input");a=a.find(".tdc-gradient-wrap");if(!_.isUndefined(c.val())&&""!==c.val())try{var b=JSON.parse(window.atob(c.val()));_.isUndefined(b.css)||
a.attr("style",b.css)}catch(e){b=c.val(),_.isUndefined(b)||(a.attr("style","background: "+b),/var\(--[a-zA-z0-9\-]*\)/.test(c.val())&&(a.append('<i class="tdc-font-tdmp tdc-font-tdmp-globe"></i>'),a.attr("title","Global color: "+b)))}})},addDropDown:function(a,c){var b="",e="";_.has(a,"info_img")&&""!==a.info_img&&(b='data-info-img="'+a.info_img+'"');if("tdb_mobile_menu"===c.get("tag")&&"menu_id"===a.param_name){var d=c.get("attrs");d.menu_id=window.tdcPostSettings.mobileMenuId;c.set("attrs",d)}var f=
!1,g=!1;_.has(a,"tdc_dropdown_images")&&""!==a.tdc_dropdown_images&&(f=!0);_.has(a,"tdc_dropdown_texts")&&""!==a.tdc_dropdown_texts&&(g=!0);var k="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(k='data-enable-params="'+a.toggle_enable_params+'"');var n="";_.has(a,"toggle_disable_params")&&""!==a.toggle_disable_params&&(n='data-disable-params="'+a.toggle_disable_params+'"');var h="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(h='data-enable-params-reverse="1"');
var m="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(m='data-enabled-by="'+a.toggle_enabled_by+'"');var l="";_.has(a,"toggle_disabled_by")&&""!==a.toggle_disabled_by&&(l='data-disabled-by="'+a.toggle_disabled_by+'"');var p=d="",x=!1,q=Object.keys(a.value),w=!0;if(_.has(a,"tdc_min_options")&&q.length<=parseInt(a.tdc_min_options))return d;for(var u=0;u<q.length;u++){var A=!1,B="",z="",r="",v="",y="",C=q[u],E=String(tdcSidebarPanel._getParameterCurrentValue(a,c)),D=String(a.value[q[u]]);
_.has(a,"options_to_disable")&&""!==a.options_to_disable&&(z=a.options_to_disable);_.has(a,"options_to_hide")&&""!==a.options_to_hide&&(r=a.options_to_hide);_.isObject(a.value[q[u]])&&(A=!0,D=_.values(a.value[q[u]])[0],C=_.keys(a.value[q[u]])[0]);if(f||g)0===u&&""===E&&(E=D),E===D&&(B=" checked "),z=_.uniqueId(),r=D,"vc_row"!==c.attributes.tag&&"vc_row_inner"!==c.attributes.tag||-1!==a.param_name.indexOf("flex_")||(r="col_"+r),p+='<input class="tdc-property-input-radio" type="radio" '+tdcSidebarPanel._getParamterDataAtts(a,
c)+' id="'+z+'" name="'+tdcSidebarPanel._getParameterDomName(a)+'" '+B+' value="'+D+'">',f?(B="",A&&(B="tdc-standard-value"),p+='<label class="tdc-property-input-radio-label '+B+'" for="'+z+'" title="'+C+'"><div class="'+r+'"></div></label>'):p+='<label class="tdc-property-input-radio-label" for="'+z+'" title="'+C+'">'+D+"</label>";else{E===D&&(B=' selected="selected" ',w=!1);if("__"===D&&-1!==C.search("--")||-1<z.indexOf(D)&&""!==D)v=" disabled ";-1<r.indexOf(D)&&""!==D&&(y=' style="display:none" ',
"popular"===D&&(y=""));""!==v&&""!==B&&(x=!0);p+="<option "+B+" "+v+y+' value="'+D+'">'+C+"</option>"}}q="";_.has(a,"description")&&""!==a.description&&(""!==b?e='data-info-descr="'+a.description+'"':q=' title="'+a.description+'" ');d+='<div class="'+tdcSidebarPanel._getParameterClasses(a)+'" '+b+" "+e+" "+k+" "+n+" "+h+" "+m+" "+l+">";d+='<div class="tdc-property-title"><span class="tdc-search-data"'+q+">"+a.heading+"</span>";b="";e="#";"tdb_flex_block_builder"===c.get("tag")&&"cloud_tpl_module_id"===
a.param_name&&(b="tdc-edit-cloud_tpl_module_id",k='style="margin-left: 10px"',_.has(c.get("attrs"),"cloud_tpl_module_id")?""===c.get("attrs").cloud_tpl_module_id.trim()?k='style="margin-left: 10px; visibility: hidden"':"undefined"!==typeof window.tdData&&(e=tdData.adminUrl+"post.php?post_id="+c.get("attrs").cloud_tpl_module_id.trim()+"&td_action=tdc&tdbTemplateType=module"):k='style="margin-left: 10px; visibility: hidden"',d+='<a href="'+e+'" class="'+b+'" target="_blank" '+k+">Edit</a>");d+='</div><div class="tdc-property">';
f||g?d+=p:(x&&(b+=" selected-op-disabled"),w&&["tds_plans_button","tds_plans_price"].includes(c.get("tag"))&&(f=String(tdcSidebarPanel._getParameterCurrentValue(a,c)),p+='<option selected="selected" value="'+f+'" disabled>Plan #'+f+" n/a</option>",b+=" selected-op-disabled"),d+="<select "+tdcSidebarPanel._getParamterDataAtts(a,c)+' name="'+tdcSidebarPanel._getParameterDomName(a)+'" class="'+b+'">',d=d+p+"</select>");d=d+'</div><span class="tdc-param-name">'+(a.param_name+"</span>");return d+"</div>"},
addDropDownResponsive:function(a,c){var b="",e="";_.has(a,"info_img")&&""!==a.info_img&&(b='data-info-img="'+a.info_img+'"');var d=!1,f=!1;_.has(a,"tdc_dropdown_images")&&""!==a.tdc_dropdown_images&&(d=!0);_.has(a,"tdc_dropdown_texts")&&""!==a.tdc_dropdown_texts&&(f=!0);var g="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(g='data-enable-params="'+a.toggle_enable_params+'"');var k="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(k='data-enable-params-reverse="1"');
var n="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(n='data-enabled-by="'+a.toggle_enabled_by+'"');var h="",m="",l=Object.keys(a.value);if(_.has(a,"tdc_min_options")&&l.length<=parseInt(a.tdc_min_options))return h;var p=' data-responsive="" ',x=String(tdcSidebarPanel._getParameterCurrentValue(a,c));try{var q=JSON.parse(window.atob(x));p=' data-responsive="'+x+'" ';"undefined"!==typeof q[tdcSidebar.currentViewportSettings.name]&&(x=q[tdcSidebar.currentViewportSettings.name])}catch(v){}for(q=
0;q<l.length;q++){var w=!1,u="",A="",B=l[q],z=String(a.value[l[q]]);_.isObject(a.value[l[q]])&&(w=!0,z=_.values(a.value[l[q]])[0],B=_.keys(a.value[l[q]])[0]);if(d||f){0===q&&""===x&&(x=z);x===z&&(u=" checked ");A=_.uniqueId();var r=z;"vc_row"!==c.attributes.tag&&"vc_row_inner"!==c.attributes.tag||-1!==a.param_name.indexOf("flex_")||(r="col_"+r);m+='<input class="tdc-property-input-radio" type="radio" '+tdcSidebarPanel._getParamterDataAtts(a,c)+' id="'+A+'" name="'+tdcSidebarPanel._getParameterDomName(a)+
'" '+u+' value="'+z+'" '+p+">";d?(u="",w&&(u="tdc-standard-value"),m+='<label class="tdc-property-input-radio-label '+u+'" for="'+A+'" title="'+B+'"><div class="'+r+'"></div></label>'):m+='<label class="tdc-property-input-radio-label" for="'+A+'" title="'+B+'">'+z+"</label>"}else x===z&&(u=' selected="selected" '),"__"===z.substring(0,2)&&-1!==B.search("--")&&(A=" disabled "),m+="<option "+u+" "+A+' value="'+z+'">'+B+"</option>"}l="";_.has(a,"description")&&""!==a.description&&(""!==b?e='data-info-descr="'+
a.description+'"':l=' title="'+a.description+'" ');h+='<div class="tdc-property-responsive '+tdcSidebarPanel._getParameterClasses(a)+'" '+b+" "+e+" "+g+" "+k+" "+n+">";h+='<div class="tdc-property-title"><span class="tdc-search-data"'+l+">"+a.heading+'<div title="Revert to desktop settings" class="tdc-inherit tdc-inherit-select" style="display: block;"></div></span></div>';h+='<div class="tdc-property">';d||f?h+=m:(h+="<select "+tdcSidebarPanel._getParamterDataAtts(a,c)+' name="'+tdcSidebarPanel._getParameterDomName(a)+
'" '+p+l+">",h=h+m+"</select>");h=h+'</div><span class="tdc-param-name">'+(a.param_name+"</span>");return h+"</div>"},addCheckBox:function(a,c){var b="",e="";_.has(a,"info_img")&&""!==a.info_img&&(b='data-info-img="'+a.info_img+'"');var d="";_.has(a,"description")&&""!==a.description&&(""!==b?e='data-info-descr="'+a.description+'"':d=' title="'+a.description+'" ');var f="",g=tdcSidebarPanel._getParameterCurrentValue(a,c);"product_cat_type_action"===a.param_name?""!==g&&"single_selection"!==g&&(f=
" checked "):""!==g&&(f=" checked ");var k="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(k='data-enable-params="'+a.toggle_enable_params+'"');var n="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(n='data-enable-params-reverse="1"');var h="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(h='data-enabled-by="'+a.toggle_enabled_by+'"');var m="";_.has(a,"toggle_disabled_by")&&""!==a.toggle_disabled_by&&(m='data-disabled-by="'+a.toggle_disabled_by+
'"');g="";var l=tdcSidebarPanel._getParameterClasses(a);l.includes("tdc-filter-multiple")&&(g=' title="'+a.description+'" ');b='<div class="'+l+'" '+b+" "+e+" "+k+" "+n+" "+h+" "+m+'><div class="tdc-property-title"><span class="tdc-search-data"'+(d+">"+a.heading+"</span></div>");b=b+'<div class="tdc-property"><input '+(tdcSidebarPanel._getParamterDataAtts(a,c)+' name="'+tdcSidebarPanel._getParameterDomName(a)+'" type="checkbox" value="yes" '+f+" "+g+"/>");b=b+'</div><span class="tdc-param-name">'+
(a.param_name+"</span>");return b+"</div>"},addCheckBoxResponsive:function(a,c){var b="",e="";_.has(a,"info_img")&&""!==a.info_img&&(b='data-info-img="'+a.info_img+'"');var d="",f=' data-responsive="" ',g=String(tdcSidebarPanel._getParameterCurrentValue(a,c));try{var k=JSON.parse(window.atob(g));f=' data-responsive="'+g+'" ';"undefined"!==typeof k[tdcSidebar.currentViewportSettings.name]&&(g=k[tdcSidebar.currentViewportSettings.name])}catch(m){}""!==g&&(d=" checked ");k="";_.has(a,"description")&&
""!==a.description&&(""!==b?e='data-info-descr="'+a.description+'"':k=' title="'+a.description+'" ');g="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(g='data-enable-params="'+a.toggle_enable_params+'"');var n="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(n='data-enable-params-reverse="1"');var h="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(h='data-enabled-by="'+a.toggle_enabled_by+'"');b='<div class="tdc-property-responsive '+tdcSidebarPanel._getParameterClasses(a)+
'" '+b+" "+e+" "+g+" "+n+" "+h+">";b+='<div class="tdc-property-title"><span class="tdc-search-data"'+k+">"+a.heading+'<div title="Revert to desktop settings" class="tdc-inherit tdc-inherit-checkbox" style="display: block;"></div></span></div>';b=b+'<div class="tdc-property"><input '+(tdcSidebarPanel._getParamterDataAtts(a,c)+' name="'+tdcSidebarPanel._getParameterDomName(a)+'" type="checkbox" value="yes" '+d+f+"/>");b=b+'</div><span class="tdc-param-name">'+(a.param_name+"</span>");return b+"</div>"},
addRange:function(a,c){var b="",e="";_.has(a,"info_img")&&""!==a.info_img&&(b='data-info-img="'+a.info_img+'"');var d="";_.has(a,"description")&&""!==a.description&&(""!==b?e='data-info-descr="'+a.description+'"':d=' title="'+a.description+'" ');var f="";_.has(a,"range_max")&&""!==a.range_max&&(f=a.range_max);var g="";_.has(a,"range_min")&&""!==a.range_min&&(g=a.range_min);var k="";_.has(a,"range_step")&&""!==a.range_step&&(k=a.range_step);var n="";_.has(a,"value")&&""!==a.value&&(n=a.value);var h=
"";""!==tdcSidebarPanel._getParameterCurrentValue(a,c)&&(h=tdcSidebarPanel._getParameterCurrentValue(a,c));var m="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(m='data-enable-params="'+a.toggle_enable_params+'"');var l="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(l='data-enable-params-reverse="1"');var p="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(p='data-enabled-by="'+a.toggle_enabled_by+'"');b='<div class="'+tdcSidebarPanel._getParameterClasses(a)+
'" '+b+" "+e+" "+m+" "+l+" "+p+">";b+='<div class="tdc-property-title"><span class="tdc-search-data"'+d+">"+a.heading+"</span></div>";b=b+'<div class="tdc-property"><input '+(tdcSidebarPanel._getParamterDataAtts(a,c)+' name="'+tdcSidebarPanel._getParameterDomName(a)+'" type="range" data-value="'+h+'" data-min="'+g+'" data-max="'+f+'" data-step="'+k+'" min="'+g+'" max="'+f+'" step="'+k+'" value="'+h+'" />');b=b+('<input type="text" class="tdc_range_value" data-default_value="'+n+'" value="'+h+'"/></div><span class="tdc-param-name">')+
(a.param_name+"</span>");return b+="</div>"},addRangeResponsive:function(a,c){var b="",e="";_.has(a,"info_img")&&""!==a.info_img&&(b='data-info-img="'+a.info_img+'"');var d="";_.has(a,"description")&&""!==a.description&&(""!==b?e='data-info-descr="'+a.description+'"':d=' title="'+a.description+'" ');var f="";_.has(a,"range_max")&&""!==a.range_max&&(f=a.range_max);var g="";_.has(a,"range_min")&&""!==a.range_min&&(g=a.range_min);var k="";_.has(a,"range_step")&&""!==a.range_step&&(k=a.range_step);var n=
"";_.has(a,"value")&&""!==a.value&&(n=a.value);""!==tdcSidebarPanel._getParameterCurrentValue(a,c)&&tdcSidebarPanel._getParameterCurrentValue(a,c);var h="";_.has(a,"placeholder")&&""!==a.placeholder&&(h=' data-placeholder="'+a.placeholder+'" placeholder="'+a.placeholder+'" ');var m="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(m='data-enable-params="'+a.toggle_enable_params+'"');var l="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(l='data-enable-params-reverse="1"');
var p="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(p='data-enabled-by="'+a.toggle_enabled_by+'"');var x=' data-responsive="" ',q=tdcSidebarPanel._getParameterCurrentValue(a,c);try{var w=JSON.parse(window.atob(q));x=' data-responsive="'+q+'" ';q="undefined"===typeof w[tdcSidebar.currentViewportSettings.name]?"":w[tdcSidebar.currentViewportSettings.name]}catch(u){}b='<div class="tdc-property-responsive '+tdcSidebarPanel._getParameterClasses(a)+'" '+b+" "+e+" "+m+" "+l+" "+p+">";b+='<div class="tdc-property-title"><span class="tdc-search-data"'+
d+">"+a.heading+"</span></div>";b=b+'<div class="tdc-property"><input '+(tdcSidebarPanel._getParamterDataAtts(a,c)+' name="'+tdcSidebarPanel._getParameterDomName(a)+'" type="range" data-value="'+q+'" data-min="'+g+'" data-max="'+f+'" data-step="'+k+'" min="'+g+'" max="'+f+'" step="'+k+'" value="'+q+'" '+x+" />");b=b+('<input type="text" class="tdc_range_value" data-default_value="'+n+'" '+h+' value="'+q+'"/></div><span class="tdc-param-name">')+(a.param_name+"</span>");return b+="</div>"},addRangeMultiple:function(a,
c){var b="",e="";_.has(a,"info_img")&&""!==a.info_img&&(b='data-info-img="'+a.info_img+'"');var d="";_.has(a,"description")&&""!==a.description&&(""!==b?e='data-info-descr="'+a.description+'"':d=' title="'+a.description+'" ');var f="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(f='data-enable-params="'+a.toggle_enable_params+'"');var g="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(g='data-enable-params-reverse="1"');var k="";_.has(a,"toggle_enabled_by")&&
""!==a.toggle_enabled_by&&(k='data-enabled-by="'+a.toggle_enabled_by+'"');var n=a.tdc_values,h=tdcSidebarPanel._getParameterCurrentValue(a,c),m="",l="",p=[],x="",q="",w="",u="",A="",B="",z="",r;for(r in n)n.hasOwnProperty(r)&&(p.push(n[r].unit),""===q||""===x)&&(u=n[r].unit,q=' data-range_unit="'+u+'" ',w=n[r].value,x=' data-range_value="'+w+'" ',A=n[r].range_min,B=n[r].range_max,z=n[r].range_step);if(""!==h){for(var v=[],y=0;y<p.length&&!(v=h.split(p[y]),1<v.length);y++);v.length&&(u=p[y],q=' data-range_unit="'+
u+'" ',w=v[0],x=' data-range_value="'+w+'" ')}for(r in n)n.hasOwnProperty(r)&&(h=_.uniqueId(),m+=" data-value_"+r+'="'+n[r].value+'" ',m+=" data-min_"+r+'="'+n[r].range_min+'" ',m+=" data-max_"+r+'="'+n[r].range_max+'" ',m+=" data-step_"+r+'="'+n[r].range_step+'" ',p=n[r].value,v="",n[r].unit===u&&(p=w,A=n[r].range_min,B=n[r].range_max,z=n[r].range_step,v="checked"),l+='<input name="'+tdcSidebarPanel._getParameterDomName(a)+'_unit" data-unit="'+r+'" data-unit_value="'+n[r].unit+'" type="radio" id="'+
h+'" '+v+' data-default_value="'+n[r].value+'" data-last_value="'+p+'"/>',l+='<label for="'+h+'">'+n[r].unit+"</label>");b='<div class="'+tdcSidebarPanel._getParameterClasses(a)+'" '+b+" "+e+" "+f+" "+g+" "+k+">";b+='<div class="tdc-property-title"><span class="tdc-search-data"'+d+">"+a.heading+"</span></div>";b=b+'<div class="tdc-property"><input class="tdc-multiple-range" '+(tdcSidebarPanel._getParamterDataAtts(a,c)+' name="'+tdcSidebarPanel._getParameterDomName(a)+'" type="range" '+x+" "+q+" "+
m+' min="'+A+'" max="'+B+'" step="'+z+'" value="'+w+'"/>');b=b+'<div class="tdc-multiple-range-wrap"><div class="tdc-multiple-range-value">'+l+'</div><input type="text" class="tdc_range_value" value="'+(w+'"/>');b+="</div>";b+="</div>";b+='<span class="tdc-param-name">'+a.param_name+"</span>";return b+="</div>"},addRangeMultipleResponsive:function(a,c){var b="",e="";_.has(a,"info_img")&&""!==a.info_img&&(b='data-info-img="'+a.info_img+'"');var d="";_.has(a,"description")&&""!==a.description&&(""!==
b?e='data-info-descr="'+a.description+'"':d=' title="'+a.description+'" ');var f="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(f='data-enable-params="'+a.toggle_enable_params+'"');var g="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(g='data-enable-params-reverse="1"');var k="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(k='data-enabled-by="'+a.toggle_enabled_by+'"');var n=a.tdc_values,h=tdcSidebarPanel._getParameterCurrentValue(a,
c),m="",l="",p=[],x=' data-responsive="" ',q="",w="",u="",A="",B="",z="",r="",v;for(v in n)n.hasOwnProperty(v)&&(p.push(n[v].unit),""===w||""===q)&&(A=n[v].unit,w=' data-range_unit="'+A+'" ',u=n[v].value,q=' data-range_value="'+u+'" ',B=n[v].range_min,z=n[v].range_max,r=n[v].range_step);if(""!==h){var y=h;try{var C=JSON.parse(window.atob(h));x=' data-responsive="'+h+'" ';y="undefined"===typeof C[tdcSidebar.currentViewportSettings.name]?"":C[tdcSidebar.currentViewportSettings.name]}catch(E){}if(""!==
y){h=[];for(C=0;C<p.length&&!(h=y.split(p[C]),1<h.length);C++);h.length&&(A=p[C],w=' data-range_unit="'+A+'" ',u=h[0],q=' data-range_value="'+u+'" ')}}for(v in n)n.hasOwnProperty(v)&&(p=_.uniqueId(),m+=" data-value_"+v+'="'+n[v].value+'" ',m+=" data-min_"+v+'="'+n[v].range_min+'" ',m+=" data-max_"+v+'="'+n[v].range_max+'" ',m+=" data-step_"+v+'="'+n[v].range_step+'" ',y=n[v].value,h="",n[v].unit===A&&(y=u,B=n[v].range_min,z=n[v].range_max,r=n[v].range_step,h="checked"),l+='<input name="'+tdcSidebarPanel._getParameterDomName(a)+
'_unit" data-unit="'+v+'" data-unit_value="'+n[v].unit+'" type="radio" id="'+p+'" '+h+' data-default_value="'+n[v].value+'" data-last_value="'+y+'"/>',l+='<label for="'+p+'">'+n[v].unit+"</label>");b='<div class="tdc-property-responsive '+tdcSidebarPanel._getParameterClasses(a)+'" '+b+" "+e+" "+f+" "+g+" "+k+">";b+='<div class="tdc-property-title"><span class="tdc-search-data"'+d+">"+a.heading+"</span></div>";b=b+'<div class="tdc-property"><input class="tdc-multiple-range" '+(tdcSidebarPanel._getParamterDataAtts(a,
c)+' name="'+tdcSidebarPanel._getParameterDomName(a)+'" type="range" '+q+" "+w+" "+m+" "+x+' min="'+B+'" max="'+z+'" step="'+r+'" value="'+u+'"/>');b=b+'<div class="tdc-multiple-range-wrap"><div class="tdc-multiple-range-value">'+l+'</div><input type="text" class="tdc_range_value" value="'+(u+'"/>');b+="</div>";b+="</div>";b+='<span class="tdc-param-name">'+a.param_name+"</span>";return b+="</div>"},addIconSelector:function(a,c){var b="",e="";_.has(a,"info_img")&&""!==a.info_img&&(b='data-info-img="'+
a.info_img+'"');var d="";_.has(a,"description")&&""!==a.description&&(""!==b?e='data-info-descr="'+a.description+'"':d=' title="'+a.description+'" ');var f="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(f='data-enable-params="'+a.toggle_enable_params+'"');var g="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(g='data-enable-params-reverse="1"');var k="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(k='data-enabled-by="'+a.toggle_enabled_by+
'"');b='<div class="'+tdcSidebarPanel._getParameterClasses(a)+'" '+b+" "+e+" "+f+" "+g+" "+k+">";b+='<div class="tdc-property-title"><span class="tdc-search-data"'+d+">"+a.heading+"</span></div>";b=b+'<div class="tdc-property"><div class="tdc-icon-wrap tdc-no-icon-selected" '+(tdcSidebarPanel._getParamterDataAtts(a,c)+' data-selected_icon="'+tdcSidebarPanel._getParameterCurrentValue(a,c)+'">');b=b+'</div><a class="tdc-icon-remove tdc-hidden-button" href="#" >Remove</a></div><span class="tdc-param-name">'+
(a.param_name+"</span>");b+="</div>";tdcSidebarPanel._hook.addAction("panel_rendered",function(){jQuery(".tdc-icon-wrap").each(function(b,d){b=jQuery(d);a.param_name===b.data("param_name")&&(d=jQuery("#tdc-icon-selector"),d.length||(d=tdcSidebar.buildIconSelector()),d=d.find('.tdc-icon-selector-content > span[data-font_class="'+tdcSidebarPanel._getParameterCurrentValue(a,c)+'"]'),""!==tdcSidebarPanel._getParameterCurrentValue(a,c)&&(b.html(d.html()),b.closest(".tdc-property").find(".tdc-icon-remove").removeClass("tdc-hidden-button")))})});
return b},addUploadImage:function(a,c){var b="",e="";_.has(a,"info_img")&&""!==a.info_img&&(b='data-info-img="'+a.info_img+'"');var d="";_.has(a,"description")&&""!==a.description&&(""!==b?e='data-info-descr="'+a.description+'"':d=' title="'+a.description+'" ');var f="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(f='data-enable-params="'+a.toggle_enable_params+'"');var g="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(g='data-enable-params-reverse="1"');
var k="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(k='data-enabled-by="'+a.toggle_enabled_by+'"');b='<div class="'+tdcSidebarPanel._getParameterClasses(a)+'" '+b+" "+e+" "+f+" "+g+" "+k+">";b+='<div class="tdc-property-title"><span class="tdc-search-data"'+d+">"+a.heading+"</span></div>";b=b+'<div class="tdc-property"><div class="tdc-image-wrap tdc-no-image-selected" '+(tdcSidebarPanel._getParamterDataAtts(a,c)+" style=\"background-image: url('"+window.tdcAdminSettings.pluginUrl+"/assets/images/sidebar/no_img.png')\">");
b=b+'</div><a class="tdc-image-remove tdc-hidden-button" href="#" >Remove</a></div><span class="tdc-param-name">'+(a.param_name+"</span>");b+="</div>";tdcSidebarPanel._hook.addAction("panel_rendered",function(){jQuery(".tdc-image-wrap").each(function(b,d){var e=jQuery(d);if(!e.parent().parent(".tdc-bg-upload").length&&a.param_name===e.data("param_name")){var f=tdcSidebarPanel._getParameterCurrentValue(a,c);""!==f&&jQuery.ajax({timeout:1E4,type:"POST",url:tdcUtil.getRestEndPoint("td-composer/get_image_url",
"uuid="+tdcJobManager._getUniqueID()),beforeSend:function(a){a.setRequestHeader("X-WP-Nonce",window.tdcAdminSettings.wpRestNonce)},dataType:"json",data:{image_id:f,action:"tdc_ajax_get_image_url"}}).done(function(a,b,c){"success"===b&&(_.isObject(a)&&_.has(a,"errors")?new tdcNotice.notice(a.errors,!0,!1):(e.attr("style","background-image: url('"+a.image_url+"')").removeClass("tdc-no-image-selected"),e.data("image_link",a.image_url),e.data("image_id",f),e.closest(".tdc-property").find(".tdc-image-remove").removeClass("tdc-hidden-button")))}).fail(function(a,
b,c){})}})});return b},addTextField:function(a,c){var b="",e="";_.has(a,"info_img")&&""!==a.info_img&&(b='data-info-img="'+a.info_img+'"');var d="",f="";if(_.has(a,"description")&&""!==a.description)if(""!==b)e='data-info-descr="'+a.description+'"';else{var g=jQuery("<div>"+a.description+"</div>");a.description===g.text()?d=' title="'+a.description+'" ':f='<div class="tdc-description">'+a.description+"</div>"}g="";_.has(a,"placeholder")&&""!==a.placeholder&&(g=' data-placeholder="'+a.placeholder+
'" placeholder="'+a.placeholder+'" ');var k=tdcSidebarPanel._getParameterCurrentValue(a,c);if(""===k){var n=Math.floor(65536*(1+Math.random())).toString(16).substring(1);"modal_id"===a.param_name?(k="td_m_"+n,tdcSidebarController.onUpdate(c,"modal_id","",k)):"tc_id"===a.param_name&&(k="td_tc_"+n,tdcSidebarController.onUpdate(c,"tc_id","",k))}"undefined"!==typeof k&&null!==k&&0===k.toString().indexOf("td_encval")&&(k=k.replace("td_encval",""),k=window.atob(k));n="";_.has(a,"toggle_enable_params")&&
""!==a.toggle_enable_params&&(n='data-enable-params="'+a.toggle_enable_params+'"');var h="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(h='data-enable-params-reverse="1"');var l="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(l='data-enabled-by="'+a.toggle_enabled_by+'"');b='<div class="'+tdcSidebarPanel._getParameterClasses(a)+'" '+b+" "+e+" "+n+" "+h+" "+l+">";b+='<div class="tdc-property-title"><span class="tdc-search-data"'+d+">"+a.heading+"</span>";
d="";e="#";"tdm_block_popup"===c.get("tag")&&"page_id"===a.param_name&&(d="tdc-edit-page_id",n='style="margin-left: 10px"',_.has(c.get("attrs"),"page_id")?""===c.get("attrs").page_id.trim()?n='style="margin-left: 10px; visibility: hidden"':"undefined"!==typeof window.tdData&&(e=tdData.adminUrl+"post.php?post="+c.get("attrs").page_id.trim()+"&action=edit"):n='style="margin-left: 10px; visibility: hidden"',b+='<a href="'+e+'" class="'+d+'" target="_blank" '+n+">Edit</a>");b=b+'</div><div class="tdc-property"><input '+
(tdcSidebarPanel._getParamterDataAtts(a,c)+' name="'+tdcSidebarPanel._getParameterDomName(a)+'" type="text" '+g+' value="'+k+'" class="'+d+'" />');b=b+f+'</div><span class="tdc-param-name">'+(a.param_name+"</span>");return b+="</div>"},addDoShortcode:function(a,c){var b="",e="";_.has(a,"info_img")&&""!==a.info_img&&(b='data-info-img="'+a.info_img+'"');var d=_.uniqueId("tdc_textarea_"),f="";_.has(a,"description")&&""!==a.description&&(""!==b?e='data-info-descr="'+a.description+'"':f=' title="'+a.description+
'" ');b='<div class="'+tdcSidebarPanel._getParameterClasses(a)+'" '+b+" "+e+">";b+='<div class="tdc-property-title"><span'+f+">"+a.heading+"</span></div>";b=b+'<div class="tdc-property"><textarea id="'+(d+'" class="tdc-textarea tdc-textarea-visible" '+tdcSidebarPanel._getParamterDataAtts(a,c)+">"+decodeURIComponent(atob(tdcSidebarPanel._getParameterCurrentValue(a,c)))+"</textarea>");b=b+'</div><span class="tdc-param-name">'+(a.param_name+"</span>");b+="</div>";a=jQuery("body");a.on("change","#woo_shortcode",
function(a){jQuery(a.change);a=atob(a.target.value);jQuery("#"+d).val(a).trigger("focusin")});a.on("keyup focusin","#"+d,function(a){var b=jQuery(a.target),c=tdcIFrameData.getModel(b.data("model_id")),d=window.btoa(encodeURIComponent(b.val())),e=window.btoa(encodeURIComponent(a.target.oldValue));setTimeout(function(){tdcSidebarController.onUpdate(c,b.data("param_name"),e,d)},500)});return b},addTextFieldResponsive:function(a,c){var b="",e="";_.has(a,"info_img")&&""!==a.info_img&&(b='data-info-img="'+
a.info_img+'"');var d="",f="";if(_.has(a,"description")&&""!==a.description)if(""!==b)e='data-info-descr="'+a.description+'"';else{var g=jQuery("<div>"+a.description+"</div>");a.description===g.text()?d=' title="'+a.description+'" ':f='<div class="tdc-description">'+a.description+"</div>"}g="";_.has(a,"placeholder")&&""!==a.placeholder&&(g=' data-placeholder="'+a.placeholder+'" placeholder="'+a.placeholder+'" ');var k="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(k='data-enable-params="'+
a.toggle_enable_params+'"');var n="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(n='data-enable-params-reverse="1"');var h="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(h='data-enabled-by="'+a.toggle_enabled_by+'"');var l=' data-responsive="" ',t=tdcSidebarPanel._getParameterCurrentValue(a,c);try{var p=JSON.parse(window.atob(t));l=' data-responsive="'+t+'" ';t="undefined"===typeof p[tdcSidebar.currentViewportSettings.name]?"":p[tdcSidebar.currentViewportSettings.name]}catch(x){}b=
'<div class="tdc-property-responsive '+tdcSidebarPanel._getParameterClasses(a)+'" '+b+" "+e+" "+k+" "+n+" "+h+">";b+='<div class="tdc-property-title"><span class="tdc-search-data"'+d+">"+a.heading+"</span></div>";b=b+'<div class="tdc-property"><input '+(tdcSidebarPanel._getParamterDataAtts(a,c)+' name="'+tdcSidebarPanel._getParameterDomName(a)+'" type="text" value="'+t+'" '+g+l+d+"/>");b=b+f+'</div><span class="tdc-param-name">'+(a.param_name+"</span>");return b+="</div>"},addTextArea:function(a,
c){var b="",e="";_.has(a,"info_img")&&""!==a.info_img&&(b='data-info-img="'+a.info_img+'"');var d=_.uniqueId("tdc_textarea_"),f="",g="";if(_.has(a,"description")&&""!==a.description)if(""!==b)e='data-info-descr="'+a.description+'"';else{var k=jQuery("<div>"+a.description+"</div>");a.description===k.text()?f=' title="'+a.description+'" ':g='<div class="tdc-description">'+a.description+"</div>"}k="";_.has(a,"placeholder")&&""!==a.placeholder&&(k=' data-placeholder="'+a.placeholder+'" placeholder="'+
a.placeholder+'" ');var l="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(l='data-enable-params="'+a.toggle_enable_params+'"');var h="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(h='data-enable-params-reverse="1"');var m="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(m='data-enabled-by="'+a.toggle_enabled_by+'"');b='<div class="'+tdcSidebarPanel._getParameterClasses(a)+'" '+b+" "+e+" "+l+" "+h+" "+m+">";b+='<div class="tdc-property-title"><span class="tdc-search-data"'+
f+">"+a.heading+"</span></div>";b=b+'<div class="tdc-property"><textarea id="'+(d+'" class="tdc-textarea tdc-textarea-visible" '+tdcSidebarPanel._getParamterDataAtts(a,c)+' name="'+tdcSidebarPanel._getParameterDomName(a)+'" '+k+'">'+tdcSidebarPanel._getParameterCurrentValue(a,c)+"</textarea>");b=b+g+'</div><span class="tdc-param-name">'+(a.param_name+"</span>");b+="</div>";jQuery("body").on("keyup focusin","#"+d,function(a){var b=jQuery(a.target),c=tdcIFrameData.getModel(b.data("model_id"));if("focusin"!==
a.type&&a.target.oldValue!==a.target.value){var d=b.val(),e=a.target.oldValue;tdcSidebarController.onUpdate(c,b.data("param_name"),e,d)}a.target.oldValue=a.target.value});return b},addTextAreaHtml:function(a,c){_.has(a,"description");return'<a href="#" class="tdc-open-wpeditor" data-model_id="'+c.cid+'" data-mapped_parameter_name="'+a.param_name+'">Edit Content</a>'},addTextAreaRawHtml:function(a,c){var b="",e="";_.has(a,"info_img")&&""!==a.info_img&&(b='data-info-img="'+a.info_img+'"');var d=_.uniqueId("tdc_textarea_"),
f="",g="";if(_.has(a,"description")&&""!==a.description)if(""!==b)e='data-info-descr="'+a.description+'"';else{var k=jQuery("<div>"+a.description+"</div>");a.description===k.text()?f=' title="'+a.description+'" ':g='<div class="tdc-description">'+a.description+"</div>"}k="";_.has(a,"placeholder")&&""!==a.placeholder&&(k=' data-placeholder="'+a.placeholder+'" placeholder="'+a.placeholder+'" ');var l="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(l='data-enable-params="'+a.toggle_enable_params+
'"');var h="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(h='data-enable-params-reverse="1"');var m="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(m='data-enabled-by="'+a.toggle_enabled_by+'"');b='<div class="'+tdcSidebarPanel._getParameterClasses(a)+'" '+b+" "+e+" "+l+" "+h+" "+m+">";b+='<div class="tdc-property-title"><span class="tdc-search-data"'+f+">"+a.heading+"</span></div>";b=b+'<div class="tdc-property"><textarea id="'+(d+'" class="tdc-textarea" '+
tdcSidebarPanel._getParamterDataAtts(a,c)+" "+k+">"+tdcSidebarPanel._getParameterCurrentValue(a,c)+"</textarea>");b=b+g+'</div><span class="tdc-param-name">'+(a.param_name+"</span>");b+="</div>";jQuery.ajax({timeout:1E4,type:"POST",url:tdcUtil.getRestEndPoint("td-composer/decode_html_content","uuid="+tdcJobManager._getUniqueID()),beforeSend:function(a){a.setRequestHeader("X-WP-Nonce",window.tdcAdminSettings.wpRestNonce)},dataType:"json",data:{post_id:window.tdcPostSettings.postId,action:"tdc_ajax_decode_html_content",
content:tdcSidebarPanel._getParameterCurrentValue(a,c)}}).done(function(a,b,c){"success"===b&&(_.isObject(a)&&_.has(a,"errors")?new tdcNotice.notice(a.errors,!0,!1):jQuery("#"+d).html(a.parsed_content).addClass("tdc-textarea-visible"))}).fail(function(a,b,c){});jQuery("body").on("keyup focusin","#"+d,function(a){var b=jQuery(a.target),c=tdcIFrameData.getModel(b.data("model_id"));if("focusin"!==a.type&&a.target.oldValue!==a.target.value){var d=window.btoa(encodeURIComponent(b.val())),e=window.btoa(encodeURIComponent(a.target.oldValue));
tdcSidebarController.onUpdate(c,b.data("param_name"),e,d)}a.target.oldValue=a.target.value});return b},addTextAreaRawHtmlAce:function(a,c){var b="",e="";_.has(a,"info_img")&&""!==a.info_img&&(b='data-info-img="'+a.info_img+'"');var d=_.uniqueId("tdc_textarea_");_.has(a,"description")&&""!==a.description&&""!==b&&(e='data-info-descr="'+a.description+'"');var f="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(f='data-enable-params="'+a.toggle_enable_params+'"');var g="";_.has(a,"toggle_enable_params_reverse")&&
!0===a.toggle_enable_params_reverse&&(g='data-enable-params-reverse="1"');var k="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(k='data-enabled-by="'+a.toggle_enabled_by+'"');b='<div class="'+tdcSidebarPanel._getParameterClasses(a)+'" '+b+" "+e+" "+f+" "+g+" "+k+">";b=b+'<div class="tdc-property-editor_expand"><span></span><div class="tdc-editor-toggle tdc-html-ace-editor-expand-collapse"></div></div><div class="tdc-property tdc-raw-html-ace"><textarea id="'+(d+'" class="tdc-textarea" '+
tdcSidebarPanel._getParamterDataAtts(a,c)+">"+tdcSidebarPanel._getParameterCurrentValue(a,c)+"</textarea>");b=b+('<div id="'+d+'_ace_html" class="tdc-raw-html-ace-editor"></div></div><span class="tdc-param-name">')+(a.param_name+"</span>");b+="</div>";jQuery.ajax({timeout:1E4,type:"POST",url:tdcUtil.getRestEndPoint("td-composer/decode_html_content","uuid="+tdcJobManager._getUniqueID()),beforeSend:function(a){a.setRequestHeader("X-WP-Nonce",window.tdcAdminSettings.wpRestNonce)},dataType:"json",data:{post_id:window.tdcPostSettings.postId,
action:"tdc_ajax_decode_html_content",content:tdcSidebarPanel._getParameterCurrentValue(a,c)}}).done(function(a,b,c){if("success"===b)if(_.isObject(a)&&_.has(a,"errors"))new tdcNotice.notice(a.errors,!0,!1);else{var e=jQuery("#"+d);e.html(a.parsed_content);var f=ace.edit(d+"_ace_html");f.$blockScrolling=Infinity;f.getSession().setValue(e.val());f.getSession().on("change",function(){var a=f.getSession().getValue(),b=tdcIFrameData.getModel(e.data("model_id")),c=e.data("param_name");e.val(a);a=window.btoa(encodeURIComponent(a));
tdcSidebarController.onUpdate(b,c,"",a)});f.setTheme("ace/theme/textmate");f.getSession().setMode("ace/mode/html");f.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,wrap:!0,indentedSoftWrap:!1,fontSize:11});var g=jQuery("#tdc-ace-editor"),h=jQuery(".tdc-property-textarea_raw_html_ace .tdc-raw-html-ace"),k=g.children(".content");jQuery("body").on("click",".tdc-html-ace-editor-expand-collapse",function(){jQuery(".tdc-property-textarea_raw_html_ace .tdc-property-editor_expand").addClass("disabled");
g.find("header .title").text("HTML Code Editor");g.addClass("tdc-html-ace-editor-expand");k.empty();k.append(jQuery("#"+d+"_ace_html"));g.show();tdcWindowFrame.setWindowFrame(g);f.resize();setTimeout(function(){f.focus()},100)}).on("click",".tdc-html-ace-editor-expand .close",function(){g.removeClass("tdc-html-ace-editor-expand");g.hide();h.append(jQuery("#"+d+"_ace_html"));jQuery(".tdc-property-textarea_raw_html_ace .tdc-property-editor_expand").removeClass("disabled");tdcWindowFrame.unsetWindowFrame(g);
f.resize()}).on("tdcWindowFrameResize",function(){f.resize(!0)})}}).fail(function(a,b,c){});return b},addEditorCss:function(a,c){var b=_.uniqueId("tdc_textarea_"),e="";_.has(a,"description")&&""!==a.description&&(e=' title="'+a.description+'" ');var d='<div class="'+tdcSidebarPanel._getParameterClasses(a)+'">';d+='<div class="tdc-property-title" data-status="loading" data-clean-title="'+a.heading+'"><span class="tdc-search-data tdc-open-csseditor"'+e+">"+a.heading+" (Loading ...)</span></div>";d=
d+'<div class="tdc-property"><textarea id="'+(b+'" class="tdc-textarea tdc-editor-css" '+tdcSidebarPanel._getParamterDataAtts(a,c)+' style="display: none">'+tdcSidebarPanel._getParameterCurrentValue(a,c)+"</textarea>");d=d+'</div><span class="tdc-param-name">'+(a.param_name+"</span>");d+="</div>";tdcSidebarPanel._hook.hasCallback("panel_rendered",tdcSidebarPanel.callbackEditorCss)||tdcSidebarPanel._hook.addAction("panel_rendered",tdcSidebarPanel.callbackEditorCss);jQuery.ajax({timeout:1E4,type:"POST",
url:tdcUtil.getRestEndPoint("td-composer/decode_html_content","uuid="+tdcJobManager._getUniqueID()),beforeSend:function(a){a.setRequestHeader("X-WP-Nonce",window.tdcAdminSettings.wpRestNonce);a=jQuery("#"+b).parent().siblings(".tdc-property-title");a.length&&a.data("status","loading")},dataType:"json",data:{post_id:window.tdcPostSettings.postId,action:"tdc_ajax_decode_html_content",content:tdcSidebarPanel._getParameterCurrentValue(a,c)}}).done(function(a,c,d){"success"===c&&(_.isObject(a)&&_.has(a,
"errors")?new tdcNotice.notice(a.errors,!0,!1):(c=jQuery("#"+b),d=c.parent().siblings(".tdc-property-title"),c.html(a.parsed_content).addClass("tdc-textarea-visible"),d.length&&(d.data("status","ready"),d.html('<span class="tdc-search-data tdc-open-csseditor"'+e+">"+d.data("clean-title")+" (Ready)</span>"),"undefined"!==typeof d.data("open")&&(d.removeData("open"),d.trigger("click")))))}).fail(function(a,b,c){});var f=jQuery("#tdc-ace-editor"),g=f.children(".content");jQuery("body").on("click",".tdc-css-ace-editor-expand-collapse",
function(){jQuery(".tdc-property-editor_css .tdc-property-title").addClass("disabled");jQuery(".tdc-property-editor_css-title").addClass("disabled");f.find("header .title").text("CSS Code Editor");f.addClass("tdc-css-ace-editor-expand");g.empty();g.append(tdcSidebar.$_editorCss);f.show();tdcWindowFrame.setWindowFrame(f);tdcSidebar.editorCss.resize();setTimeout(function(){tdcSidebar.editorCss.focus()},100)}).on("click",".tdc-css-ace-editor-expand .close",function(){f.removeClass("tdc-css-ace-editor-expand");
f.hide();jQuery(".tdc-property-editor_css-title").after(tdcSidebar.$_editorCss);jQuery(".tdc-property-editor_css-title, .tdc-property-editor_css .tdc-property-title").removeClass("disabled");tdcWindowFrame.unsetWindowFrame(f);tdcSidebar.editorCss.resize()}).on("tdcWindowFrameResize",function(){tdcSidebar.editorCss.resize(!0)});return d},addSeparatorHorizontal:function(a,c){return'<div class="tdc-sidebar-horizontal-separator '+tdcSidebarPanel._getParameterClasses(a)+'"></div>'},addTextSeparatorHorizontal:function(a,
c){var b=c="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(b='data-enable-params="'+a.toggle_enable_params+'"');var e="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(e='data-enable-params-reverse="1"');var d="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(d='data-enabled-by="'+a.toggle_enabled_by+'"');return c+='<div class="tdc-sidebar-text-separator tdc-property-title '+tdcSidebarPanel._getParameterClasses(a)+'" '+b+" "+e+" "+d+'><span class="tdc-search-data">'+
a.heading+"</span></div>"},addFontHeader:function(a,c){var b=c="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(b='data-enable-params="'+a.toggle_enable_params+'"');var e="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(e='data-enable-params-reverse="1"');var d="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(d='data-enabled-by="'+a.toggle_enabled_by+'"');return c+='<div class="tdc-sidebar-font-header '+tdcSidebarPanel._getParameterClasses(a)+
'" '+b+" "+e+" "+d+'><span class="tdc-font-ico1" title="Font size"></span><span class="tdc-font-ico2" title="Line height (Use with px or a number that will be multiplied with the current font-size)"></span><span class="tdc-font-ico3" title="Font style"></span><span class="tdc-font-ico4" title="Font weight"></span><span class="tdc-font-ico5" title="Text transform"></span><span class="tdc-font-ico6" title="Letter spacing"></span></div>'},addFontTitle:function(a,c){var b="",e="",d="";_.has(a,"info_img")&&
""!==a.info_img&&(e='data-info-img="'+a.info_img+'"',_.has(a,"description")&&""!==a.description&&(d='data-info-descr="'+a.description+'"'));var f="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(f='data-enable-params="'+a.toggle_enable_params+'"');var g="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(g='data-enable-params-reverse="1"');var k="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(k='data-enabled-by="'+a.toggle_enabled_by+'"');
return b+='<div class="tdc-sidebar-font-title '+tdcSidebarPanel._getParameterClasses(a)+'" '+e+" "+d+" "+f+" "+g+" "+k+'><span class="tdc-search-data tdc-search-notice-font">'+tdcSidebarPanel._getParameterCurrentValue(a,c)+"</span></div>"},addFontSettings:function(a,c){var b="",e="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(e='data-enable-params="'+a.toggle_enable_params+'"');var d="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(d='data-enable-params-reverse="1"');
var f="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(f='data-enabled-by="'+a.toggle_enabled_by+'"');b+='<div class="tdc-font-manager-wrap '+tdcSidebarPanel._getParameterClasses(a)+'" '+e+" "+d+" "+f+">";b=b+'<div class="tdc-font-manager"><div title="Clear font settings" class="tdc-sidebar-font-reset" data-model_id="'+(c.cid+'" data-param_name="'+a.param_name+'">Reset font settings</div>');b+='<div title="Save font settings" class="tdc-sidebar-font-save" data-model_id="'+c.cid+'" data-param_name="'+
a.param_name+'">Save font settings</div>';b+='<div title="Load font settings" class="tdc-sidebar-font-load" data-model_id="'+c.cid+'" data-param_name="'+a.param_name+'">Load font settings</div>';return b+"</div></div>"},addShadowHeader:function(a,c){var b=c="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(b='data-enable-params="'+a.toggle_enable_params+'"');var e="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(e='data-enable-params-reverse="1"');
var d="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(d='data-enabled-by="'+a.toggle_enabled_by+'"');return c+='<div class="tdc-sidebar-shadow-header '+tdcSidebarPanel._getParameterClasses(a)+'" '+b+" "+e+" "+d+'><span class="tdc-shadow-ico1" title="Shadow size"></span><span class="tdc-shadow-ico2" title="Horizontal offset"></span><span class="tdc-shadow-ico3" title="Vertical offset"></span><span class="tdc-shadow-ico4" title="Shadow spread"></span><span class="tdc-shadow-ico5" title="Shadow color"></span></div>'},
addShadowTitle:function(a,c){var b="",e="",d="";_.has(a,"info_img")&&""!==a.info_img&&(e='data-info-img="'+a.info_img+'"',_.has(a,"description")&&""!==a.description&&(d='data-info-descr="'+a.description+'"'));var f="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(f='data-enable-params="'+a.toggle_enable_params+'"');var g="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(g='data-enable-params-reverse="1"');var k="";_.has(a,"toggle_enabled_by")&&""!==
a.toggle_enabled_by&&(k='data-enabled-by="'+a.toggle_enabled_by+'"');return b+='<div class="tdc-sidebar-shadow-title '+tdcSidebarPanel._getParameterClasses(a)+'" '+e+" "+d+" "+f+" "+g+" "+k+'><span class="tdc-search-data">'+tdcSidebarPanel._getParameterCurrentValue(a,c)+"</span></div>"},addSpotHeader:function(a,c){c='<div class="tdc-spot-header '+tdcSidebarPanel._getParameterClasses(a)+'">';c="undefined"!==typeof a.inline_spot&&!0===a.inline_spot?c+'<span class="tdc-inline-spot-header-title">Title</span><span class="tdc-inline-spot-header-paragraph">Par.</span><span class="tdc-inline-spot-header-color">Color</span><span class="tdc-inline-spot-header-align">Align</span>':
"undefined"!==typeof a.loop_spot&&!0===a.loop_spot?c+'<span class="tdc-loop-spot-header-title">Title</span><span class="tdc-loop-spot-header-paragraph">Repeat</span><span class="tdc-loop-spot-header-color">Color</span><span class="tdc-loop-spot-header-full">Full</span>':c+'<span class="tdc-spot-header-title">Title</span><span class="tdc-spot-header-color">Color</span>';return c+"</div>"},addFilterHeader:function(a,c){c='<div class="tdc-filter-header '+tdcSidebarPanel._getParameterClasses(a)+'">';
c="undefined"!==typeof a.tdb_filters&&!0===a.tdb_filters?c+'<span class="tdc-filter-header-slug">Slug</span>':c+'<span class="tdc-filter-header-name">Name</span>';return c+'<span class="tdc-filter-header-type" title="Select type">Type</span><span class="tdc-filter-header-multiple" title="Allow multiple selection">Multi</span></div>'},addPagesHeader:function(a,c){var b="undefined"!==typeof a.id_heading_txt?a.id_heading_txt:"URL";c='<div class="tdc-pages-header '+tdcSidebarPanel._getParameterClasses(a)+
'">';c=-1===tdcSidebarPanel._getParameterClasses(a).indexOf("tdc-pages-header-url")?c+('<span class="tdc-pages-header-id">'+b+"</span>"):c+('<span class="tdc-pages-header-url">'+b+"</span>");c+='<span class="tdc-pages-header-title">Title</span>';-1===tdcSidebarPanel._getParameterClasses(a).indexOf("no-icon")&&(c+='<span class="tdc-pages-header-icon">Icon</span>');return c+"</div>"},addPlansLimitHeader:function(a,c){var b=c="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&(b='data-enable-params="'+
a.toggle_enable_params+'"');var e="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(e='data-enable-params-reverse="1"');var d="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(d='data-enabled-by="'+a.toggle_enabled_by+'"');c+='<div class="tdc-plans-limit-header '+tdcSidebarPanel._getParameterClasses(a)+'" '+b+" "+e+" "+d+">";return c+'<span class="tdc-plans-limit-header-id">Plan IDs</span><span class="tdc-plans-limit-header-limit">Limit</span></div>'},addFilterTypeHeader:function(a,
c){c='<div class="tdc-filter-header '+tdcSidebarPanel._getParameterClasses(a)+'">';c+='<span class="tdc-filter-header-name">'+a.heading+"</span>";return c+'<span class="tdc-filter-header-type" title="Select filter type">Type</span></div>'},addFilterTitle:function(a,c){var b="",e="",d="";_.has(a,"info_img")&&""!==a.info_img&&(e='data-info-img="'+a.info_img+'"',_.has(a,"description")&&""!==a.description&&(d='data-info-descr="'+a.description+'"'));var f="";_.has(a,"toggle_enable_params")&&""!==a.toggle_enable_params&&
(f='data-enable-params="'+a.toggle_enable_params+'"');var g="";_.has(a,"toggle_enable_params_reverse")&&!0===a.toggle_enable_params_reverse&&(g='data-enable-params-reverse="1"');var k="";_.has(a,"toggle_enabled_by")&&""!==a.toggle_enabled_by&&(k='data-enabled-by="'+a.toggle_enabled_by+'"');return b+='<div class="tdc-sidebar-filter-title '+tdcSidebarPanel._getParameterClasses(a)+'" '+e+" "+d+" "+f+" "+g+" "+k+'><span class="tdc-search-data">'+tdcSidebarPanel._getParameterCurrentValue(a,c)+"</span></div>"},
addSearchSectionHeader:function(a,c){c='<div class="tdc-search-section-header '+tdcSidebarPanel._getParameterClasses(a)+'">';c+='<span class="tdc-search-section-header-title">Section title</span><span class="tdc-search-section-header-tax">Taxonomy</span>';-1===tdcSidebarPanel._getParameterClasses(a).indexOf("no-level")&&(c+='<span class="tdc-search-section-header-level">Level</span>');return c+"</div>"},addClearfix:function(a,c){return'<div class="clearfix"></div>'},updateTextfieldResponsiveValues:function(a,
c,b){"undefined"===typeof window.tdcResponsiveValues[a]?""!==c&&(window.tdcResponsiveValues[a]={},window.tdcResponsiveValues[a][b]={viewportName:c}):""===c?delete window.tdcResponsiveValues[a][b]:window.tdcResponsiveValues[a][b]=c;c=_.allKeys(window.tdcResponsiveValues[a]);return 1===c.length&&"all"===c[0]?window.tdcResponsiveValues[a].all:1<c.length||1===c.length&&"all"!==c[0]?window.btoa(JSON.stringify(window.tdcResponsiveValues[a])):""},updateDropdownResponsiveValues:function(a,c,b){"undefined"===
typeof window.tdcResponsiveValues[a]?(window.tdcResponsiveValues[a]={},window.tdcResponsiveValues[a][b]={},window.tdcResponsiveValues[a][b][b]=c):window.tdcResponsiveValues[a][b]=c;c=_.allKeys(window.tdcResponsiveValues[a]);return 1===c.length&&"all"===c[0]?window.tdcResponsiveValues[a].all:1<c.length||1===c.length&&"all"!==c[0]?window.btoa(JSON.stringify(window.tdcResponsiveValues[a])):""},updateCheckboxResponsiveValues:function(a,c,b){"undefined"===typeof window.tdcResponsiveValues[a]?(window.tdcResponsiveValues[a]=
{},window.tdcResponsiveValues[a][b]={viewportName:c}):window.tdcResponsiveValues[a][b]=c;c=_.allKeys(window.tdcResponsiveValues[a]);return 1===c.length&&"all"===c[0]?window.tdcResponsiveValues[a].all:1<c.length||1===c.length&&"all"!==c[0]?window.btoa(JSON.stringify(window.tdcResponsiveValues[a])):""},deleteResponsiveValue:function(a,c){"undefined"!==typeof window.tdcResponsiveValues[a]&&delete window.tdcResponsiveValues[a][c];c=_.allKeys(window.tdcResponsiveValues[a]);return 1===c.length&&"all"===
c[0]?window.tdcResponsiveValues[a].all:1<c.length||1===c.length&&"all"!==c[0]?window.btoa(JSON.stringify(window.tdcResponsiveValues[a])):""},deleteResponsiveValues:function(a){"undefined"!==typeof window.tdcResponsiveValues[a]&&(window.tdcResponsiveValues[a]={})},getCurrentResponsiveValue:function(a,c){if("undefined"!==typeof window.tdcResponsiveValues[a])return window.tdcResponsiveValues[a][c]},setViewportCurrentResponsiveValue:function(a){var c=tdcSidebarPanel.getCurrentResponsiveValue(a.attr("name"),
tdcSidebar.currentViewportSettings.name),b=a.closest(".tdc-property-responsive");if(b.hasClass("tdc-property-textfield-responsive")){var e="";_.isUndefined(a.data("placeholder"))||(e=a.data("placeholder"));a.attr("placeholder",e);_.isUndefined(c)?(c=tdcSidebarPanel.getCurrentResponsiveValue(a.attr("name"),"all"),_.isUndefined(c)?a.val(""):(a.val(c),a.attr("placeholder",c),b.addClass("tdc-css-inherited"))):(a.val(c),b.removeClass("tdc-css-inherited"))}else if(b.hasClass("tdc-property-checkbox-responsive"))e=
b.find(".tdc-inherit-checkbox"),_.isUndefined(c)?(c=tdcSidebarPanel.getCurrentResponsiveValue(a.attr("name"),"all"),_.isUndefined(c)?a.prop("checked",!1):(""===c?a.prop("checked",!1):a.prop("checked","checked"),b.addClass("tdc-css-inherited")),e.hide()):(""===c?a.prop("checked",!1):a.prop("checked","checked"),b.removeClass("tdc-css-inherited"),"all"===tdcSidebar.currentViewportSettings.name?e.hide():e.show());else if(b.hasClass("tdc-property-dropdown-responsive")){e=b.find(".tdc-inherit-select");
var d=a.attr("type");_.isUndefined(c)?(c=tdcSidebarPanel.getCurrentResponsiveValue(a.attr("name"),"all"),_.isUndefined(c)?"undefined"!==typeof d&&"radio"===d?a.each(function(a){var b=jQuery(this);"radio"===b.attr("type")&&(0===a?b.prop("checked",!0):b.prop("checked",!1))}):a.find("option:selected").removeAttr("selected").find("option:first").attr("selected","selected"):("undefined"!==typeof d&&"radio"===d?a.each(function(a){a=jQuery(this);"radio"===a.attr("type")&&(a.val()===c?a.prop("checked",!0):
a.prop("checked",!1))}):a.val(c),b.addClass("tdc-css-inherited")),e.hide()):("undefined"!==typeof d&&"radio"===d?a.each(function(a){a=jQuery(this);"radio"===a.attr("type")&&(a.val()===c?a.prop("checked",!0):a.prop("checked",!1))}):a.val(c),b.removeClass("tdc-css-inherited"),"all"===tdcSidebar.currentViewportSettings.name?e.hide():e.show())}else if(b.hasClass("tdc-property-range-responsive"))e="",_.isUndefined(a.data("placeholder"))||(e=a.data("placeholder")),d=a.next('input[type="text"]'),d.attr("placeholder",
e),_.isUndefined(c)?(c=tdcSidebarPanel.getCurrentResponsiveValue(a.attr("name"),"all"),_.isUndefined(c)?(a.val(""),d.val("")):(a.val(c),d.val(c),d.attr("placeholder",c),b.addClass("tdc-css-inherited"))):(a.val(c),d.val(c),b.removeClass("tdc-css-inherited"));else if(b.hasClass("tdc-property-range_multiple-responsive")){e=tdcIFrameData.getModel(a.data("model_id"));var f=a.data("param_name"),g=window.tdcAdminSettings.mappedShortcodes[e.attributes.tag];e=[];for(var k=d="",l=0;l<g.params.length;l++)if(f===
g.params[l].param_name){f=g.params[l].tdc_values;for(var h in f)f.hasOwnProperty(h)&&(e.push(f[h].unit),""===d||""===k)&&(d=f[h].value,k=f[h].unit);break}_.isUndefined(c)?(c=tdcSidebarPanel.getCurrentResponsiveValue(a.attr("name"),"all"),_.isUndefined(c)&&(a.data("range_value",d),a.data("range_unit",k),a.val(d),h=b.find('input[type="radio"][data-unit_value="'+k+'"]'),l=h.data("unit"),f=a.data("min_"+l),k=a.data("max_"+l),l=a.data("step_"+l),g=a.get(0),h.prop("checked",!0),g.min=f,g.max=k,g.step=l,
g.value=d,h.data("last_value",d),b.find('input[type="text"]').val(d)),"all"===tdcSidebar.currentViewportSettings.name?b.removeClass("tdc-css-inherited"):b.addClass("tdc-css-inherited")):b.removeClass("tdc-css-inherited");if(!_.isUndefined(c)){d=[];for(l=0;l<e.length&&!(d=c.split(e[l]),1<d.length);l++);d.length&&(d=d[0],k=e[l],a.data("range_value",d),a.data("range_unit",k),a.val(d),h=b.find('input[type="radio"][data-unit_value="'+k+'"]'),l=h.data("unit"),f=a.data("min_"+l),k=a.data("max_"+l),l=a.data("step_"+
l),g=a.get(0),h.prop("checked",!0),g.min=f,g.max=k,g.step=l,g.value=d,h.data("last_value",d),b.find('input[type="text"]').val(d))}}},showShortcodeFromPath:function(a){if(!_.isUndefined(a)){a=a.toString().split("_");var c;a.forEach(function(a,b){""!==a&&(_.isUndefined(c)?c=tdcIFrameData.tdcTopCollection.at(a):(b=c.get("childCollection"),!_.isUndefined(b)&&b.length>a&&(c=b.at(a))))});if(!_.isUndefined(c)){var b=c.get("blockUid");if(!_.isUndefined(b)){var e=tdcAdminIFrameUI.getLiveIframe();a=e.contents().find("#"+
b);a.length||(a=e.contents().find('[data-td-block-uid="'+b+'"]'));a.length&&(e.contents().scrollTop(a.offset().top-100),b={},tdcOperationUI.inZone(a)?tdcOperationUI.inRow(a)?tdcOperationUI.inColumn(a)?tdcOperationUI.inInnerRow(a)?tdcOperationUI.inInnerColumn(a)?(b.$currentZone=tdcOperationUI.inZone(a),b.$currentRow=tdcOperationUI.inRow(a),b.$currentColumn=tdcOperationUI.inColumn(a),b.$currentInnerRow=tdcOperationUI.inInnerRow(a),b.$currentInnerColumn=tdcOperationUI.inInnerColumn(a),b.$currentElement=
a):(b.$currentZone=tdcOperationUI.inZone(a),b.$currentRow=tdcOperationUI.inRow(a),b.$currentColumn=tdcOperationUI.inColumn(a),b.$currentInnerRow=tdcOperationUI.inInnerRow(a),b.$currentInnerColumn=a):(b.$currentZone=tdcOperationUI.inZone(a),b.$currentRow=tdcOperationUI.inRow(a),b.$currentColumn=tdcOperationUI.inColumn(a),b.$currentInnerRow=a):(b.$currentZone=tdcOperationUI.inZone(a),b.$currentRow=tdcOperationUI.inRow(a),b.$currentColumn=a):(b.$currentZone=tdcOperationUI.inZone(a),b.$currentRow=a):
b.$currentZone=a,tdcSidebar._currentModel=c,a.data("model_id",c.cid),tdcSidebar.setSettings(b,!0,c))}}}}}})();var tdcUtil={};
(function(){tdcUtil={getRestEndPoint:function(l,a){return _.isEmpty(window.tdcAdminSettings.permalinkStructure)?window.tdcAdminSettings.wpRestUrl+l+"&"+a:window.tdcAdminSettings.wpRestUrl+l+"?"+a},makeSafeForCSS:function(l){return l.replace(/[^a-z0-9]/g,function(a){var c=a.charCodeAt(0);return 32===c?"-":65<=c&&90>=c?a.toLowerCase():"__"+("000"+c.toString(16)).slice(-4)})},updateTdcSavings:function(l,a){jQuery.ajax({timeout:1E4,type:"POST",url:tdcUtil.getRestEndPoint("td-composer/save_parts","uuid="+
tdcJobManager._getUniqueID()),beforeSend:function(a){a.setRequestHeader("X-WP-Nonce",window.tdcAdminSettings.wpRestNonce)},dataType:"json",data:{tdc_savings:window.tdcAdminSettings.tdcSavings,action:"tdc_ajax_save_parts"}}).done(function(c,b,e){"success"===b&&(_.isObject(c)&&_.has(c,"errors")?new tdcNotice.notice(c.errors,!0,!1):("undefined"!==typeof a&&a.call(l),tdcSidebar.updateSavedShortcodes()))}).fail(function(a,b,e){})},b64EncodeUnicode:function(l){return btoa(encodeURIComponent(l).replace(/%([0-9A-F]{2})/g,
function(a,c){return String.fromCharCode("0x"+c)}))},b64DecodeUnicode:function(l){return decodeURIComponent(atob(l).split("").map(function(a){return"%"+("00"+a.charCodeAt(0).toString(16)).slice(-2)}).join(""))},setStorageItem:function(l,a){tdcStore.add(l,a)},getStorageItem:function(l){return tdcStore.get(l)},setLocalStorageItem:function(l,a){var c=tdcUtil._getStorage();c=null===c?{}:JSON.parse(tdcUtil.b64DecodeUnicode(c));c[l]=a;tdcUtil._setStorage(tdcUtil.b64EncodeUnicode(JSON.stringify(c)))},getLocalStorageItem:function(l){var a=
tdcUtil._getStorage();if(null!==a)try{if(a=JSON.parse(tdcUtil.b64DecodeUnicode(a)),a.hasOwnProperty(l))return a[l]}catch(c){}},getScrollBarWidth:function(){var l=jQuery("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),a=jQuery("<div>").css({width:"100%"}).appendTo(l).outerWidth();l.remove();return 100-a},clearItem:function(){},_getStorage:function(){return window.localStorage.getItem(window.tdcAdminSettings.themeName)},_setStorage:function(l){window.localStorage.setItem(window.tdcAdminSettings.themeName,
l)}}})();var tdcJobManager={};
(function(){tdcJobManager={_sentJobs:{},totalJobsCount:0,job:function(){this.shortcode="";this.columns=0;this.error_callback=this.success_callback=this.blockUid=""},jobRequest:function(l){this.shortcode=l.shortcode;this.columns=l.columns;this.jobId=tdcJobManager._generateJobId();this.postId=window.tdcPostSettings.postId;this.replyHtml=""},addJob:function(l){tdcMain.setContentModified();tdcDebug.group("%c tdcJobManager.addJob","background-color:#2489c2; color:white");var a=new tdcJobManager.jobRequest(l),
c="";!1!==window.tdcPostSettings.tdbLoadDataFromId&&(c+="&tdbLoadDataFromId="+window.tdcPostSettings.tdbLoadDataFromId);!1!==window.tdcPostSettings.tdbTemplateType&&(c+="&tdbTemplateType="+window.tdcPostSettings.tdbTemplateType);jQuery.ajax({timeout:1E4,type:"POST",url:tdcUtil.getRestEndPoint("td-composer/do_job","tmp_jobId="+a.jobId+"&tmp_blockUid="+a.blockUid+"&post_id="+window.tdcPostSettings.postId+c+"&uuid="+tdcJobManager._getUniqueID()),beforeSend:function(a){a.setRequestHeader("X-WP-Nonce",
window.tdcAdminSettings.wpRestNonce)},cache:!1,data:a,dataType:"json",statusCode:{404:function(){console.log("tdcJobManager.addJob - ERROR: 404 not found")},500:function(){console.log("tdcJobManager.addJob - ERROR: 500 server error")}},success:function(b,c,d){null===b?l.error_callback(a,"tdcJobManager.addJob - ERROR: Empty response received from server"):(!0===tdcJobManager._isJobCallbackReplyValid(l.blockUid,b.jobId)?l.success_callback(b):tdcDebug.log("tdcJobManager.addJob - dropped job :) (probably it's older than the last timestamp)"),
tdcDebug.groupEnd())},error:function(b,c,d){l.error_callback(a,"tdcJobManager.addJob - Error callback - textStatus: "+c+" errorThrown: "+d);tdcDebug.groupEnd()}})},_isJobCallbackReplyValid:function(l,a){return"undefined"===typeof tdcJobManager._sentJobs[l]||parseInt(tdcJobManager._sentJobs[l])<parseInt(a)?(tdcJobManager._sentJobs[l]=a,!0):!1},_generateJobId:function(){var l=tdcJobManager.totalJobsCount;tdcJobManager.totalJobsCount++;return l},_getUniqueID:function(){function l(){return Math.floor(65536*
(1+Math.random())).toString(16).substring(1)}return l()+l()+"-"+l()+"-"+l()+"-"+l()+"-"+l()+l()+l()}}})();
